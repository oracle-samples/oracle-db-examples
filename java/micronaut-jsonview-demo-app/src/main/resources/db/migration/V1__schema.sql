-- Copyright Â© 2023, Oracle and/or its affiliates.
--  
-- Released under the Universal Permissive License v1.0 as shown at https://oss.oracle.com/licenses/upl/
-- or Apache License 2.0 as shown at http://www.apache.org/licenses/LICENSE-2.0. You may choose either license.

CREATE TABLE "COURSE" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,"NAME" VARCHAR(255) NOT NULL,"ROOM" VARCHAR(255) NOT NULL,"TIME" TIMESTAMP NOT NULL,"TEACHER_ID" NUMBER(19) NOT NULL);
CREATE TABLE "STUDENT" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,"NAME" VARCHAR(255) NOT NULL, "AVERAGE_GRADE" DOUBLE PRECISION);
CREATE TABLE "TEACHER" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY,"NAME" VARCHAR(255) NOT NULL);
CREATE TABLE "STUDENT_COURSE" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "STUDENT_ID" NUMBER(19) NOT NULL,"COURSE_ID" NUMBER(19) NOT NULL);

ALTER TABLE "COURSE"
    ADD CONSTRAINT fk_teacher FOREIGN KEY("TEACHER_ID")
        REFERENCES "TEACHER"("ID");

ALTER TABLE "STUDENT_COURSE"
    ADD CONSTRAINT fk_student FOREIGN KEY("STUDENT_ID")
        REFERENCES "STUDENT"("ID");

ALTER TABLE "STUDENT_COURSE"
    ADD CONSTRAINT fk_course FOREIGN KEY("COURSE_ID")
        REFERENCES "COURSE"("ID");