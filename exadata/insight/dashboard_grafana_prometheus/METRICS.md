# Metrics required for dashboard_grafana_prometheus
#
# Use the following commands to enable metrics (must be run on relevant database or storage server):
# NOTE: Changes may be required for IB systems to remove RoCE metrics
#
# $ COMPUTE_METRICS=$(grep "^compute" METRICS.md |awk -F"|" ' { printf $NF"," }' |sed 's/.$//')
# $ dbmcli -e "alter metricdefinition ${COMPUTE_METRICS} finegrained=enabled
# $ dbmcli -e "alter metricdefinition ${COMPUTE_METRICS} streaming=enabled
#
# $ STORAGE_METRICS=$(grep "^storage" METRICS.md |awk -F"|" ' { printf $NF"," }' |sed 's/.$//')
# $ cellcli -e "alter metricdefinition ${STORAGE_METRICS} finegrained=enabled
# $ cellcli -e "alter metricdefinition ${STORAGE_METRICS} streaming=enabled

#CellDisk.json
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SCRUB_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SCRUB_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC
storage|CD_IO_TM_R_LG_CLIENT_RQ
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_CLIENT_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CD_IO_TM_W_LG_CLIENT_RQ
storage|CD_IO_TM_W_LG_LOG_RQ
storage|CD_IO_TM_W_LG_RQ
storage|CD_IO_TM_W_SM_CLIENT_RQ
storage|CD_IO_TM_W_SM_LOG_RQ
storage|CD_IO_TM_W_SM_RQ

#CellDiskAggr.json
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CD_IO_TM_W_LG_LOG_RQ
storage|CD_IO_TM_W_LG_RQ
storage|CD_IO_TM_W_SM_RQ
storage|CD_IO_TM_R_LG_CLIENT_RQ
storage|CD_IO_TM_R_SM_CLIENT_RQ
storage|CD_IO_TM_W_LG_CLIENT_RQ
storage|CD_IO_TM_W_SM_CLIENT_RQ
storage|CD_IO_TM_W_SM_LOG_RQ
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SCRUB_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SCRUB_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC

#ComputeServer.json
compute|DS_CPUT
compute|DS_CPU_POWER_CONSUMPTION
compute|DS_MEMUT
compute|DS_MEMUT_MS
compute|OS_IO_BY_R_SEC
compute|OS_IO_BY_W_SEC
compute|OS_IO_RQ_R_SEC
compute|OS_IO_RQ_W_SEC
compute|OS_IO_UTIL_PCT
compute|OS_IO_WT_R_RQ
compute|OS_IO_WT_W_RQ
compute|OS_NET_RX_BY_SEC
compute|OS_NET_TX_BY_SEC
compute|N_IB_MB_RCV_SEC
compute|N_IB_MB_TRANS_SEC
compute|EXW_ROCE_TX_BY_SEC
compute|EXW_ROCE_TX_BY_SEC

#DiskIO.json
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CD_IO_TM_W_LG_RQ
storage|CD_IO_TM_W_SM_RQ
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SCRUB_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SCRUB_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC
storage|FC_IO_BY_R_MISS_DW_SEC
storage|FC_IO_BY_R_MISS_SEC
storage|FC_IO_BY_R_SKIP_SEC
storage|FC_IO_BY_W_DISK_WRITER_SEC
storage|FC_IO_BY_W_SKIP_SEC
storage|FC_IO_RQ_R_MISS_DW_SEC
storage|FC_IO_RQ_R_MISS_SEC
storage|FC_IO_RQ_R_SKIP_SEC
storage|FC_IO_RQ_W_DISK_WRITER_SEC
storage|FC_IO_RQ_W_SKIP_SEC
storage|SIO_IO_RD_HD_SEC
storage|SIO_IO_RD_RQ_HD_SEC

#ExadataCluster.json
compute|DS_CPUT
compute|DS_CPU_POWER_CONSUMPTION
compute|N_IB_MB_RCV_SEC
compute|N_IB_MB_TRANS_SEC
compute|OS_NET_RX_BY_SEC
compute|OS_NET_TX_BY_SEC
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CL_CPUT
storage|EXW_ROCE_RX_BY_SEC
storage|EXW_ROCE_TX_BY_SEC
storage|N_IB_MB_RCV_SEC
storage|N_IB_MB_TRANS_SEC
storage|OS_NET_RX_BY_SEC
storage|OS_NET_TX_BY_SEC

#FlashCache.json
storage|FC_BYKEEP_OLTP
storage|FC_BY_ALLOCATED
storage|FC_BY_ALLOCATED_OLTP
storage|FC_COL_BY_USED
storage|FC_COL_IO_BY_R_ELIGIBLE_SEC
storage|FC_COL_IO_BY_R_SEC
storage|FC_IO_BY_R_DISK_WRITER_SEC
storage|FC_IO_BY_R_DW_SEC
storage|FC_IO_BY_R_MISS_DW_SEC
storage|FC_IO_BY_R_MISS_SEC
storage|FC_IO_BY_R_SEC
storage|FC_IO_BY_R_SKIP_SEC
storage|FC_IO_BY_W_DISK_WRITER_SEC
storage|FC_IO_BY_W_FIRST_SEC
storage|FC_IO_BY_W_METADATA_SEC
storage|FC_IO_BY_W_OVERWRITE_SEC
storage|FC_IO_BY_W_POPULATE_SEC
storage|FC_IO_BY_W_SEC
storage|FC_IO_BY_W_SKIP_SEC
storage|FC_IO_RQ_R_DISK_WRITER_SEC
storage|FC_IO_RQ_R_DW_SEC
storage|FC_IO_RQ_R_MISS_DW_SEC
storage|FC_IO_RQ_R_MISS_SEC
storage|FC_IO_RQ_R_PROXYREAD_MISS_SEC
storage|FC_IO_RQ_R_PROXYREAD_SEC
storage|FC_IO_RQ_R_SEC
storage|FC_IO_RQ_R_SKIP_SEC
storage|FC_IO_RQ_W_DISK_WRITER_SEC
storage|FC_IO_RQ_W_FIRST_SEC
storage|FC_IO_RQ_W_METADATA_SEC
storage|FC_IO_RQ_W_OVERWRITE_SEC
storage|FC_IO_RQ_W_POPULATE_SEC
storage|FC_IO_RQ_W_SEC
storage|FC_IO_RQ_W_SKIP_SEC

#IOProfile.json
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CD_IO_TM_W_LG_RQ
storage|CD_IO_TM_W_SM_RQ
storage|OS_IO_BY_R_SEC
storage|OS_IO_BY_W_SEC
storage|OS_IO_RQ_R_SEC
storage|OS_IO_RQ_W_SEC
storage|OS_IO_WT_R_RQ
storage|OS_IO_WT_W_RQ

#IORMDatabase.json
storage|DB_CF_IO_RQ_LG_SEC
storage|DB_CF_IO_RQ_LG_SEC
storage|DB_CF_IO_RQ_SM_SEC
storage|DB_CF_IO_RQ_SM_SEC
storage|DB_CF_IO_TM_LG_RQ
storage|DB_CF_IO_TM_SM_RQ
storage|DB_CF_IO_WT_LG_RQ
storage|DB_CF_IO_WT_SM_RQ
storage|DB_FC_BY_ALLOCATED
storage|DB_FD_IO_RQ_LG_SEC
storage|DB_FD_IO_RQ_LG_SEC
storage|DB_FD_IO_RQ_SM_SEC
storage|DB_FD_IO_RQ_SM_SEC
storage|DB_FD_IO_TM_LG_RQ
storage|DB_FD_IO_TM_SM_RQ
storage|DB_FD_IO_WT_LG_RQ
storage|DB_FD_IO_WT_SM_RQ
storage|DB_IO_RQ_LG_SEC
storage|DB_IO_RQ_LG_SEC
storage|DB_IO_RQ_SM_SEC
storage|DB_IO_RQ_SM_SEC
storage|DB_IO_TM_LG_RQ
storage|DB_IO_TM_SM_RQ
storage|DB_IO_WT_LG_RQ
storage|DB_IO_WT_SM_RQ

#IOStatistics.json
storage|OS_IO_RQ_R_SEC
storage|OS_IO_RQ_W_SEC
storage|OS_IO_BY_R_SEC
storage|OS_IO_BY_W_SEC
storage|OS_IO_UTIL_PCT
storage|OS_IO_WT_R_RQ
storage|OS_IO_WT_W_RQ
storage|OS_IO_AQU_SZ
storage|OS_IO_RQ_R_SZ
storage|OS_IO_RQ_W_SZ

#IOStatisticsAggr.json
storage|OS_IO_RQ_R_SEC
storage|OS_IO_RQ_W_SEC
storage|OS_IO_BY_R_SEC
storage|OS_IO_BY_W_SEC
storage|OS_IO_UTIL_PCT
storage|OS_IO_WT_R_RQ
storage|OS_IO_WT_W_RQ
storage|OS_IO_AQU_SZ
storage|OS_IO_RQ_R_SZ
storage|OS_IO_RQ_W_SZ

#Network.json
compute|EXW_RDS_CONG_SEND_BLOCKED
compute|EXW_RDS_CONG_SEND_ERROR
compute|EXW_RDS_CONN_RESET
compute|EXW_RDS_IB_MR_1M_POOL_DEPLETED
compute|EXW_RDS_IB_RDMA_MR_8K_POOL_DEPLETED
compute|EXW_RDS_IB_TX_STALLED
compute|EXW_ROCE_LOCAL_ACK_TIMEOUT_ERR
compute|EXW_ROCE_NP_CNP_SENT
compute|EXW_ROCE_NP_ECN_MARKED_ROCE_PACKETS
compute|EXW_ROCE_PAUSE
compute|EXW_ROCE_RNR_NAK_RETRY_ERR
compute|EXW_ROCE_RP_CNP_HANDLED
compute|EXW_ROCE_RP_CNP_IGNORED
compute|EXW_ROCE_RX_BY_SEC
compute|EXW_ROCE_TX_BY_SEC
compute|N_IB_MB_RCV_SEC
compute|N_IB_MB_TRANS_SEC
storage|EXW_RDS_CONG_SEND_BLOCKED
storage|EXW_RDS_CONG_SEND_ERROR
storage|EXW_RDS_IB_MR_1M_POOL_DEPLETED
storage|EXW_RDS_IB_RDMA_MR_8K_POOL_DEPLETED
storage|EXW_RDS_IB_TX_STALLED
storage|EXW_ROCE_LOCAL_ACK_TIMEOUT_ERR
storage|EXW_ROCE_NP_CNP_SENT
storage|EXW_ROCE_NP_ECN_MARKED_ROCE_PACKETS
storage|EXW_ROCE_PAUSE
storage|EXW_ROCE_RNR_NAK_RETRY_ERR
storage|EXW_ROCE_RP_CNP_HANDLED
storage|EXW_ROCE_RP_CNP_IGNORED
storage|EXW_ROCE_RX_BY_SEC
storage|EXW_ROCE_TX_BY_SEC
storage|N_IB_MB_RCV_SEC
storage|N_IB_MB_TRANS_SEC

#SmartScan.json
storage|CL_CPUT
storage|CL_CPUT_CS
storage|EXW_CELLMEM_CELL_AVAIL_PCT
storage|EXW_CELLMEM_CELL_CELLSRV
storage|EXW_CELLMEM_CELL_KNL
storage|EXW_CELLMEM_CELL_OFFLOAD
storage|EXW_CELLMEM_OS_AVAIL_PCT
storage|EXW_CELLMEM_OS_KNL
storage|EXW_CELLMEM_OS_TOTAL
storage|EXW_CELLMEM_OS_USR
storage|EXW_CELLMEM_OTHER_SERV
storage|FC_COL_IO_BY_R_ELIGIBLE_SEC
storage|FC_COL_IO_BY_R_SEC
storage|FC_COL_IO_BY_SAVED_SEC
storage|SIO_BG_CPU_SEC
storage|SIO_FG_CPU_SEC
storage|SIO_IO_EL_OF_SEC
storage|SIO_IO_OF_RE_SEC
storage|SIO_IO_PA_TH_SEC
storage|SIO_IO_RD_FC_HD_SEC
storage|SIO_IO_RD_FC_SEC
storage|SIO_IO_RD_HD_SEC
storage|SIO_IO_RV_OF_SEC
storage|SIO_IO_SI_SV_SEC

#StorageServer.json
storage|CD_IO_BY_R_LG_SEC
storage|CD_IO_BY_R_SM_SEC
storage|CD_IO_BY_W_LG_SEC
storage|CD_IO_BY_W_SM_SEC
storage|CD_IO_RQ_R_LG_SEC
storage|CD_IO_RQ_R_SM_SEC
storage|CD_IO_RQ_W_LG_SEC
storage|CD_IO_RQ_W_SM_SEC
storage|CD_IO_TM_R_LG_RQ
storage|CD_IO_TM_R_SM_RQ
storage|CD_IO_TM_W_LG_RQ
storage|CD_IO_TM_W_SM_RQ
storage|CL_CPUT
storage|DB_CF_IO_WT_LG_RQ
storage|DB_CF_IO_WT_SM_RQ
storage|DB_FD_IO_WT_LG_RQ
storage|DB_FD_IO_WT_SM_RQ
storage|DB_IO_WT_LG_RQ
storage|DB_IO_WT_SM_RQ
storage|EXW_CELLMEM_CELL_AVAIL_PCT
storage|EXW_CELLMEM_CELL_CELLSRV
storage|EXW_CELLMEM_CELL_KNL
storage|EXW_CELLMEM_CELL_OFFLOAD
storage|EXW_CELLMEM_OS_AVAIL_PCT
storage|EXW_CELLMEM_OS_KNL
storage|EXW_CELLMEM_OS_TOTAL
storage|EXW_CELLMEM_OS_USR
storage|EXW_CELLMEM_OTHER_SERV
storage|EXW_ROCE_RX_BY_SEC
storage|EXW_ROCE_TX_BY_SEC
storage|FC_COL_IO_BY_R_ELIGIBLE_SEC
storage|FC_COL_IO_BY_R_SEC
storage|FC_COL_IO_BY_SAVED_SEC
storage|FC_IO_BY_R_DW_SEC
storage|FC_IO_BY_R_MISS_DW_SEC
storage|FC_IO_BY_R_MISS_SEC
storage|FC_IO_BY_R_SEC
storage|FC_IO_RQ_R_DW_SEC
storage|FC_IO_RQ_R_MISS_DW_SEC
storage|FC_IO_RQ_R_MISS_SEC
storage|FC_IO_RQ_R_SEC
storage|FL_IO_DB_BY_W_SEC
storage|FL_IO_FL_BY_W_SEC
storage|FL_IO_W
storage|REBAL_POWER
storage|N_IB_MB_RCV_SEC
storage|N_IB_MB_TRANS_SEC
storage|SIO_IO_EL_OF_SEC
storage|SIO_IO_OF_RE_SEC
