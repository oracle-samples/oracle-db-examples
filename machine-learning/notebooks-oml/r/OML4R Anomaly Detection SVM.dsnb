[{"layout":null,"template":null,"templateConfig":null,"name":"OML4R Anomaly Detection SVM","description":null,"readOnly":false,"type":"low","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1737608668537,"interpreter":"md.low","endTime":1737608669000,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","# Detect Unusual or Rare Occurrences using SVM Anomaly Detection","Oracle Machine Learning supports anomaly detection to identify rare or unusual records (customers, transactions, etc.) in your data using the semi-supervised learning algorithm One-Class Support Vector Machine. In this notebook, you will build a One-Class SVM model and then use it to flag unusual or suspicious records. The data used in this example is from the SH schema. The entire machine learning methodology runs inside Oracle Autonomous Database (ADB).","","Copyright (c) 2025 Oracle Corporation","","###### <a href=\"https://oss.oracle.com/licenses/upl/\" target=\"_blank\">The Universal Permissive License (UPL), Version 1.0<\/a>","---"],"enabled":true,"result":{"startTime":1737608669487,"interpreter":"md.low","endTime":1737608669926,"results":[{"message":"<h1 id=\"detect-unusual-or-rare-occurrences-using-svm-anomaly-detection\">Detect Unusual or Rare Occurrences using SVM Anomaly Detection<\/h1>\n<p>Oracle Machine Learning supports anomaly detection to identify rare or unusual records (customers, transactions, etc.) in your data using the semi-supervised learning algorithm One-Class Support Vector Machine. In this notebook, you will build a One-Class SVM model and then use it to flag unusual or suspicious records. The data used in this example is from the SH schema. The entire machine learning methodology runs inside Oracle Autonomous Database (ADB).<\/p>\n<p>Copyright (c) 2025 Oracle Corporation<\/p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\" target=\"_blank\">The Universal Permissive License (UPL), Version 1.0<\/a><\/h6>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For more information...","message":["%md ","","* <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a>","* <a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a>","* <a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a>","* <a href=\"https://www.oracle.com/goto/ml-classification\" target=\"_blank\">OML Classification<\/a>","* <a href=\"https://oracle.com/goto/ml-support-vector-machine\" target=\"_blank\">OML Support Vector Machine<\/a>","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/build-support-vector-machine-model.html#OREUG-GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">OML4R Support Vector Machine<\/a>"],"enabled":true,"result":{"startTime":1737608670405,"interpreter":"md.low","endTime":1737608670856,"results":[{"message":"<ul>\n<li><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a><\/li>\n<li><a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a><\/li>\n<li><a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a><\/li>\n<li><a href=\"https://www.oracle.com/goto/ml-classification\" target=\"_blank\">OML Classification<\/a><\/li>\n<li><a href=\"https://oracle.com/goto/ml-support-vector-machine\" target=\"_blank\">OML Support Vector Machine<\/a><\/li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/build-support-vector-machine-model.html#OREUG-GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">OML4R Support Vector Machine<\/a><\/li>\n<\/ul>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"html","title":"Import libraries and set display options","message":["%r","","library(ORE)","library(lattice)","library(OREdplyr)","options(ore.warn.order=FALSE)"],"enabled":true,"result":{"startTime":1737608671329,"interpreter":"r.low","endTime":1737608671852,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Create OML Data Frames for tables CUSTOMERS and SUPPLEMENTARY_DEMOGRAPHICS","message":["%r","","ore.sync(query= c(\"CUSTOMERS\" =  'SELECT CUST_ID, CUST_GENDER, CUST_MARITAL_STATUS, CUST_YEAR_OF_BIRTH, CUST_INCOME_LEVEL, CUST_CREDIT_LIMIT FROM SH.CUSTOMERS')) ","ore.sync(query= c(\"SUPP_DEM\" = \"SELECT CUST_ID, EDUCATION, AFFINITY_CARD, HOUSEHOLD_SIZE, OCCUPATION, YRS_RESIDENCE, Y_BOX_GAMES FROM SH.SUPPLEMENTARY_DEMOGRAPHICS\"))","ore.attach()"],"enabled":true,"result":{"startTime":1737608672329,"interpreter":"r.low","endTime":1737608672849,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display a few rows from CUSTOMERS","message":["%r","","z.show(head(CUSTOMERS, 10))"],"enabled":true,"result":{"startTime":1737608673319,"interpreter":"r.low","endTime":1737608673827,"results":[{"message":"CUST_ID\tCUST_GENDER\tCUST_MARITAL_STATUS\tCUST_YEAR_OF_BIRTH\tCUST_INCOME_LEVEL\tCUST_CREDIT_LIMIT\n49671\tM\tmarried\t1976\tG: 130,000 - 149,999\t1500\n3228\tM\tNA\t1964\tG: 130,000 - 149,999\t7000\n6783\tM\tsingle\t1942\tG: 130,000 - 149,999\t11000\n10338\tM\tmarried\t1977\tG: 130,000 - 149,999\t1500\n13894\tM\tNA\t1949\tG: 130,000 - 149,999\t9000\n17449\tM\tsingle\t1950\tG: 130,000 - 149,999\t9000\n21005\tM\tmarried\t1946\tG: 130,000 - 149,999\t3000\n24561\tM\tNA\t1978\tG: 130,000 - 149,999\t7000\n28116\tM\tsingle\t1949\tG: 130,000 - 149,999\t11000\n31671\tM\tmarried\t1951\tG: 130,000 - 149,999\t1500\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display a few rows from SUPP_DEM","message":["%r","","z.show(head(SUPP_DEM, 10))"],"enabled":true,"result":{"startTime":1737608674310,"interpreter":"r.low","endTime":1737608674834,"results":[{"message":"CUST_ID\tEDUCATION\tAFFINITY_CARD\tHOUSEHOLD_SIZE\tOCCUPATION\tYRS_RESIDENCE\tY_BOX_GAMES\n102547\t10th\t0\t1\tOther\t0\t1\n101050\t10th\t0\t1\tOther\t0\t1\n100040\t11th\t0\t1\tSales\t0\t1\n102117\tHS-grad\t0\t1\tFarming\t0\t1\n101074\t10th\t0\t1\tHandler\t1\t1\n104179\t10th\t0\t1\tHandler\t1\t1\n100417\t11th\t0\t1\tHandler\t1\t1\n101146\t< Bach.\t0\t1\t?\t1\t1\n103420\t< Bach.\t0\t1\t?\t1\t1\n101987\t< Bach.\t0\t1\tOther\t1\t1\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Merge CUSTOMERS and SUPP_DEM on CUST_ID column using proxy objects ","message":["%r","","CUST_DF <- merge(CUSTOMERS, SUPP_DEM, by = \"CUST_ID\")  "],"enabled":true,"result":{"startTime":1737608675300,"interpreter":"r.low","endTime":1737608676269,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display a few rows of CUST_DF","message":["%r","","z.show(head(CUST_DF, 10))"],"enabled":true,"result":{"startTime":1737608676736,"interpreter":"r.low","endTime":1737608677319,"results":[{"message":"CUST_ID\tCUST_GENDER\tCUST_MARITAL_STATUS\tCUST_YEAR_OF_BIRTH\tCUST_INCOME_LEVEL\tCUST_CREDIT_LIMIT\tEDUCATION\tAFFINITY_CARD\tHOUSEHOLD_SIZE\tOCCUPATION\tYRS_RESIDENCE\tY_BOX_GAMES\n100100\tF\tMarried\t1959\tJ: 190,000 - 249,999\t10000\tMasters\t1\t4-5\tProf.\t4\t0\n100200\tM\tNeverM\t1983\tL: 300,000 and above\t9000\t< Bach.\t0\t1\tOther\t2\t1\n100300\tM\tMarried\t1961\tG: 130,000 - 149,999\t10000\tBach.\t1\t3\tProf.\t4\t0\n100400\tM\tDivorc.\t1944\tC: 50,000 - 69,999\t9000\t12th\t0\t6-8\tTransp.\t6\t0\n100500\tM\tNeverM\t1983\tH: 150,000 - 169,999\t15000\tHS-grad\t0\t1\tCrafts\t2\t1\n100600\tM\tMarried\t1978\tK: 250,000 - 299,999\t9000\t11th\t0\t3\tTransp.\t3\t1\n100700\tM\tMarried\t1947\tJ: 190,000 - 249,999\t11000\tHS-grad\t0\t3\tCrafts\t6\t0\n100800\tM\tMarried\t1935\tK: 250,000 - 299,999\t11000\tBach.\t0\t3\tSales\t5\t0\n100900\tM\tMarried\t1959\tF: 110,000 - 129,999\t1500\tHS-grad\t0\t3\tExec.\t4\t0\n101000\tM\tMarried\t1936\tG: 130,000 - 149,999\t7000\t7th-8th\t0\t3\tCrafts\t7\t0\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"table\":{\"version\":1},\"scatterplot\":{\"showSeriesX\":[\"sum.YRS_RESIDENCE.\"],\"extraDescription\":[],\"lastColumns\":[\"CUST_YEAR_OF_BIRTH\",\"CUST_MARITAL.STATUS\",\"sum.YRS_RESIDENCE.\"],\"version\":1},\"bar\":{\"groupByColumns\":[\"CUST_MARITAL.STATUS\",\"CUST_YEAR_OF_BIRTH\"],\"showSeries\":[\"AVG.YRS_RESIDENCE.\"],\"series\":{\"availableSeriesElements\":[{\"id\":\"AVG.YRS_RESIDENCE.\",\"lineType\":\"straight\",\"borderColor\":\"rgb(50, 146, 94)\",\"borderWidth\":0,\"color\":\"rgb(50, 146, 94)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(50, 146, 94)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0}]},\"lastColumns\":[\"CUST_YEAR_OF_BIRTH\",\"CUST_MARITAL.STATUS\",\"AVG.YRS_RESIDENCE.\"],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"bar","title":"Visualize the distribution of birth date, marital status, and years of residence","message":["%r","","DF <- aggregate(CUST_DF$YRS_RESIDENCE, by = list(CUST_YEAR_OF_BIRTH = CUST_DF$CUST_YEAR_OF_BIRTH, CUST_MARITAL_STATUS = CUST_DF$CUST_MARITAL_STATUS), FUN = mean)","colnames(DF) <- c('CUST_YEAR_OF_BIRTH','CUST_MARITAL STATUS', 'AVG(YRS_RESIDENCE)')","z.show(head(DF, 60))"],"enabled":true,"result":{"startTime":1737608677793,"interpreter":"r.low","endTime":1737608678453,"results":[{"message":"CUST_YEAR_OF_BIRTH\tCUST_MARITAL.STATUS\tAVG.YRS_RESIDENCE.\n1913\tMarried\t9.66666666666667\n1913\tNeverM\t11.5\n1921\tMarried\t8\n1922\tDivorc.\t4\n1922\tWidowed\t1\n1923\tMarried\t3.33333333333333\n1923\tNeverM\t4\n1924\tMabsent\t2\n1924\tMarried\t5\n1925\tMarried\t5.71428571428571\n1925\tWidowed\t10\n1926\tMabsent\t4\n1926\tMarried\t4.85714285714286\n1926\tNeverM\t4\n1926\tWidowed\t4\n1927\tWidowed\t4.66666666666667\n1928\tDivorc.\t4\n1928\tMabsent\t6\n1928\tMar-AF\t2\n1928\tMarried\t4\n1928\tNeverM\t8\n1928\tWidowed\t4.8\n1929\tDivorc.\t0\n1929\tMarried\t6.33333333333333\n1929\tWidowed\t2.66666666666667\n1930\tMarried\t3.5\n1930\tWidowed\t7\n1931\tDivorc.\t2\n1931\tMarried\t4.5\n1931\tWidowed\t5.5\n1932\tMarried\t5.55555555555556\n1932\tNeverM\t4\n1932\tSepar.\t0\n1932\tWidowed\t2\n1933\tMarried\t7.57142857142857\n1933\tWidowed\t3\n1934\tDivorc.\t7\n1934\tMarried\t6.85714285714286\n1934\tWidowed\t2\n1935\tMabsent\t5\n1935\tMarried\t6.9\n1935\tNeverM\t5\n1935\tWidowed\t4\n1936\tDivorc.\t3.5\n1936\tMarried\t5.71428571428571\n1936\tNeverM\t8\n1936\tWidowed\t3\n1937\tMarried\t7.28571428571429\n1937\tWidowed\t5.4\n1938\tDivorc.\t7.66666666666667\n1938\tMarried\t7.66666666666667\n1938\tSepar.\t3\n1938\tWidowed\t4.77777777777778\n1939\tDivorc.\t8.66666666666667\n1939\tMarried\t4.625\n1939\tNeverM\t5.5\n1939\tSepar.\t6\n1939\tWidowed\t4.66666666666667\n1940\tDivorc.\t6\n1940\tMarried\t5.65\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Build an Anomaly Detection Model","message":["%md","### Build an Anomaly Detection model","","Build a one-class SVM anomaly detection model using ore.odmSVM.  Specify the outlier rate, which is the proportion of rows that should be flagged as outliers. ","","Note that settings can be specified as explicit arguments - as indicated in the R documentation ?ore.odmSVM - or through a list of name-value pairs specified in the odm.settings argument. "],"enabled":true,"result":{"startTime":1737608678915,"interpreter":"md.low","endTime":1737608679379,"results":[{"message":"<h3 id=\"build-an-anomaly-detection-model\">Build an Anomaly Detection model<\/h3>\n<p>Build a one-class SVM anomaly detection model using ore.odmSVM.  Specify the outlier rate, which is the proportion of rows that should be flagged as outliers.<\/p>\n<p>Note that settings can be specified as explicit arguments - as indicated in the R documentation ?ore.odmSVM - or through a list of name-value pairs specified in the odm.settings argument.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Build the One-Class SVM model","message":["%r","","SVM.MOD <- ore.odmSVM(~., data = CUST_DF, type = \"anomaly.detection\", outlier.rate = 0.01)"],"enabled":true,"result":{"startTime":1737608679841,"interpreter":"r.low","endTime":1737608683138,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"html\":{\"height\":400,\"lastColumns\":[]}}]","hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Examples of possible setting overrides for SVM using the name-value settings specification with odm.settings","","If the user does not override the default settings, then relevant settings are determined by the algorithm","","A complete list of settings can be found in the Documentation link:","","* Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/build-support-vector-machine-model.html#OREUG-GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">OML4R Support Vector Machine<\/a>","","* Shared Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/shared-settings-oml4r.html\" target=\"_blank\">All algorithms<\/a>","","* Specify a row weight column","","> 'ODMS_ROW_WEIGHT_COLUMN_NAME' = '<row_weight_column_name>'","* Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is ODMS_MISSING_VALUE_AUTO. The option ODMS_MISSING_VALUE_MEAN_MODE replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option ODMS_MISSING_VALUE_AUTO performs different strategies for different algorithms. When ODMS_MISSING_VALUE_TREATMENT is set to ODMS_MISSING_VALUE_DELETE_ROW, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.","","> 'ODMS_MISSING_VALUE_TREATMENT' = 'ODMS_MISSING_VALUE_AUTO'","","* Switch between Kernel Types - Linear or Gaussian","By default the system uses the Linear Kernel. The linear kernel also is able to return the coefficients, while this is not available on the Gaussian","> 'SVMS_KERNEL_FUNCTION' = 'SVMS_LINEAR'","","> 'SVMS_KERNEL_FUNCTION' = 'SVMS_GAUSSIAN'","* Value of complexity factor for SVM algorithm (both classification and regression).","Default value estimated from the data by the algorithm.","> 'SVMS_COMPLEXITY_FACTOR' : '0.1'","*  Type of regularization that the SGD SVM solver uses (only available for linear SVM models). The default is system determined because it depends on the potential model size.","> 'SVMS_REGULARIZER' = 'SVMS_REGULARIZER_L1'","","> 'SVMS_REGULARIZER' = 'SVMS_REGULARIZER_L2'","*  Specify a regularization setting for regression, similar to complexity factor. Epsilon specifies the allowable residuals, or noise, in the data. It takes a value larger than 0. The default is 0.1.","> 'SVMS_EPSILON' = '0.1'  ","*  Batch rows sets the size of the batch for the SGD solver (linear kernel only). An input of 0 triggers a data driven batch size estimate. The default is 20000.","> 'SVMS_BATCH_ROWS' = '20000'","*  Solver type, which cannot be selected if the kernel is non-linear. The default value is system determined.","> 'SVMS_SOLVER' = 'SVMS_SOLVER_SGD'","> 'SVMS_SOLVER' = 'SVMS_SOLVER_IPM'","*  Specify the convergence tolerance for SVM algorithm. It requires a number larger than 0. Default is 0.0001.","> 'SVMS_CONV_TOLERANCE' = '0.001'","*  Specify an upper limit on the number of pivots used in the Incomplete Cholesky decomposition. It can be set only for non-linear kernels. It requires a value from a range of 1 to 10,000 (inclusive of the edges). The default value is 200.","> 'SVMS_NUM_PIVOTS' = '200'"],"enabled":true,"result":{"startTime":1737608683605,"interpreter":"md.low","endTime":1737608684066,"results":[{"message":"<h3 id=\"examples-of-possible-setting-overrides-for-svm-using-the-name-value-settings-specification-with-odmsettings\">Examples of possible setting overrides for SVM using the name-value settings specification with odm.settings<\/h3>\n<p>If the user does not override the default settings, then relevant settings are determined by the algorithm<\/p>\n<p>A complete list of settings can be found in the Documentation link:<\/p>\n<ul>\n<li>\n<p>Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/build-support-vector-machine-model.html#OREUG-GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">OML4R Support Vector Machine<\/a><\/p>\n<\/li>\n<li>\n<p>Shared Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/shared-settings-oml4r.html\" target=\"_blank\">All algorithms<\/a><\/p>\n<\/li>\n<li>\n<p>Specify a row weight column<\/p>\n<\/li>\n<\/ul>\n<blockquote>\n<p>'ODMS_ROW_WEIGHT_COLUMN_NAME' = '&lt;row_weight_column_name&gt;'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is ODMS_MISSING_VALUE_AUTO. The option ODMS_MISSING_VALUE_MEAN_MODE replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option ODMS_MISSING_VALUE_AUTO performs different strategies for different algorithms. When ODMS_MISSING_VALUE_TREATMENT is set to ODMS_MISSING_VALUE_DELETE_ROW, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.<\/li>\n<\/ul>\n<blockquote>\n<p>'ODMS_MISSING_VALUE_TREATMENT' = 'ODMS_MISSING_VALUE_AUTO'<\/p>\n<\/blockquote>\n<ul>\n<li>Switch between Kernel Types - Linear or Gaussian\nBy default the system uses the Linear Kernel. The linear kernel also is able to return the coefficients, while this is not available on the Gaussian<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_KERNEL_FUNCTION' = 'SVMS_LINEAR'<\/p>\n<\/blockquote>\n<blockquote>\n<p>'SVMS_KERNEL_FUNCTION' = 'SVMS_GAUSSIAN'<\/p>\n<\/blockquote>\n<ul>\n<li>Value of complexity factor for SVM algorithm (both classification and regression).\nDefault value estimated from the data by the algorithm.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_COMPLEXITY_FACTOR' : '0.1'<\/p>\n<\/blockquote>\n<ul>\n<li>Type of regularization that the SGD SVM solver uses (only available for linear SVM models). The default is system determined because it depends on the potential model size.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_REGULARIZER' = 'SVMS_REGULARIZER_L1'<\/p>\n<\/blockquote>\n<blockquote>\n<p>'SVMS_REGULARIZER' = 'SVMS_REGULARIZER_L2'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify a regularization setting for regression, similar to complexity factor. Epsilon specifies the allowable residuals, or noise, in the data. It takes a value larger than 0. The default is 0.1.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_EPSILON' = '0.1'<\/p>\n<\/blockquote>\n<ul>\n<li>Batch rows sets the size of the batch for the SGD solver (linear kernel only). An input of 0 triggers a data driven batch size estimate. The default is 20000.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_BATCH_ROWS' = '20000'<\/p>\n<\/blockquote>\n<ul>\n<li>Solver type, which cannot be selected if the kernel is non-linear. The default value is system determined.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_SOLVER' = 'SVMS_SOLVER_SGD'\n'SVMS_SOLVER' = 'SVMS_SOLVER_IPM'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify the convergence tolerance for SVM algorithm. It requires a number larger than 0. Default is 0.0001.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_CONV_TOLERANCE' = '0.001'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify an upper limit on the number of pivots used in the Incomplete Cholesky decomposition. It can be set only for non-linear kernels. It requires a value from a range of 1 to 10,000 (inclusive of the edges). The default value is 200.<\/li>\n<\/ul>\n<blockquote>\n<p>'SVMS_NUM_PIVOTS' = '200'<\/p>\n<\/blockquote>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"Build the SVM model using the odm.settings","message":["%r","","settings <- list(svms_outlier_rate = '0.01', svms_regularizer = 'SVMS_REGULARIZER_L1', svms_kernel_function = 'SVMS_LINEAR', svms_conv_tolerance = 0.001 )","","SVM.MOD <- ore.odmSVM(~., data = CUST_DF, ","                      type = \"anomaly.detection\",","                      odm.settings = settings)","summary(SVM.MOD)"],"enabled":true,"result":{"startTime":1737608684554,"interpreter":"r.low","endTime":1737608686260,"results":[{"message":"\nCall:\nore.odmSVM(formula = ~., data = CUST_DF, type = \"anomaly.detection\", \n    odm.settings = settings)\n\nSettings: \n                                               value\nodms.details                             odms.enable\nodms.missing.value.treatment odms.missing.value.auto\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON\nactive.learning                            al.enable\nconv.tolerance                                 0.001\nkernel.cache.size                              5e+07\nkernel.function                               linear\noutlier.rate                                    0.01\nregularizer                           regularizer.l1\n\nCoefficients: \n              variable                value     estimate\n1          (Intercept)                      -1.000000491\n2        AFFINITY_CARD                       0.533187088\n3    CUST_CREDIT_LIMIT                       0.904174856\n4          CUST_GENDER                    F  0.944724238\n5          CUST_GENDER                    M  1.086436436\n6              CUST_ID                       0.974924793\n7    CUST_INCOME_LEVEL      A: Below 30,000  0.069078694\n8    CUST_INCOME_LEVEL   B: 30,000 - 49,999  0.145265468\n9    CUST_INCOME_LEVEL   C: 50,000 - 69,999  0.098754992\n10   CUST_INCOME_LEVEL   D: 70,000 - 89,999  0.080186591\n11   CUST_INCOME_LEVEL  E: 90,000 - 109,999  0.169994663\n12   CUST_INCOME_LEVEL F: 110,000 - 129,999  0.200750695\n13   CUST_INCOME_LEVEL G: 130,000 - 149,999  0.175458584\n14   CUST_INCOME_LEVEL H: 150,000 - 169,999  0.200093355\n15   CUST_INCOME_LEVEL I: 170,000 - 189,999  0.226143730\n16   CUST_INCOME_LEVEL J: 190,000 - 249,999  0.289046239\n17   CUST_INCOME_LEVEL K: 250,000 - 299,999  0.158834634\n18   CUST_INCOME_LEVEL L: 300,000 and above  0.217553029\n19 CUST_MARITAL_STATUS              Divorc.  0.434445683\n20 CUST_MARITAL_STATUS              Mabsent  0.059256134\n21 CUST_MARITAL_STATUS               Mar-AF  0.002444605\n22 CUST_MARITAL_STATUS              Married  0.716268228\n23 CUST_MARITAL_STATUS               NeverM  0.600822589\n24 CUST_MARITAL_STATUS               Separ.  0.105091063\n25 CUST_MARITAL_STATUS              Widowed  0.112832373\n26  CUST_YEAR_OF_BIRTH                       1.411096227\n27           EDUCATION                 10th  0.080537332\n28           EDUCATION                 11th  0.083574205\n29           EDUCATION                 12th  0.035647395\n30           EDUCATION              1st-4th  0.012169450\n31           EDUCATION              5th-6th  0.025580999\n32           EDUCATION              7th-8th  0.063932059\n33           EDUCATION                  9th  0.057288066\n34           EDUCATION              < Bach.  0.418922975\n35           EDUCATION              Assoc-A  0.108468443\n36           EDUCATION              Assoc-V  0.125578850\n37           EDUCATION                Bach.  0.312883893\n38           EDUCATION              HS-grad  0.518107344\n39           EDUCATION              Masters  0.111040748\n40           EDUCATION                  PhD  0.025214822\n41           EDUCATION              Presch.  0.001690826\n42           EDUCATION               Profsc  0.050523266\n43      HOUSEHOLD_SIZE                    1  0.313540719\n44      HOUSEHOLD_SIZE                    2  0.547847331\n45      HOUSEHOLD_SIZE                    3  0.552514933\n46      HOUSEHOLD_SIZE                  4-5  0.151945929\n47      HOUSEHOLD_SIZE                  6-8  0.095757336\n48      HOUSEHOLD_SIZE                   9+  0.369554425\n49          OCCUPATION                    ?  0.140320370\n50          OCCUPATION              Armed-F  0.001552633\n51          OCCUPATION              Cleric.  0.243564911\n52          OCCUPATION               Crafts  0.204346175\n53          OCCUPATION                Exec.  0.220996584\n54          OCCUPATION              Farming  0.070156757\n55          OCCUPATION              Handler  0.082790910\n56          OCCUPATION              House-s  0.014856271\n57          OCCUPATION              Machine  0.130661379\n58          OCCUPATION                Other  0.230752921\n59          OCCUPATION                Prof.  0.253894918\n60          OCCUPATION              Protec.  0.038816702\n61          OCCUPATION                Sales  0.218183276\n62          OCCUPATION              TechSup  0.097716939\n63          OCCUPATION              Transp.  0.082549927\n64       YRS_RESIDENCE                       0.747704907\n65         Y_BOX_GAMES                       0.595857354\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Invoke predict() to score data for anomalies","message":["%r","","RES_DF <- predict(SVM.MOD, CUST_DF, supplemental.cols = colnames(CUST_DF), proba = TRUE, type = \"class\")"],"enabled":true,"result":{"startTime":1737608686732,"interpreter":"r.low","endTime":1737608687349,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Anomalies are indicated by PREDICTION = 0, display a few rows flagged as anomalies","message":["%r","","z.show(head(RES_DF[RES_DF$PREDICTION == 0,], 10))"],"enabled":true,"result":{"startTime":1737608687835,"interpreter":"r.low","endTime":1737608688359,"results":[{"message":"CUST_ID\tCUST_GENDER\tCUST_MARITAL_STATUS\tCUST_YEAR_OF_BIRTH\tCUST_INCOME_LEVEL\tCUST_CREDIT_LIMIT\tEDUCATION\tAFFINITY_CARD\tHOUSEHOLD_SIZE\tOCCUPATION\tYRS_RESIDENCE\tY_BOX_GAMES\tPREDICTION\tPROBABILITY\n100400\tM\tDivorc.\t1944\tC: 50,000 - 69,999\t9000\t12th\t0\t6-8\tTransp.\t6\t0\t0\t0.562704326544703\n100001\tF\tWidowed\t1941\tG: 130,000 - 149,999\t1500\t< Bach.\t0\t2\tExec.\t3\t0\t0\t0.557876401433934\n100017\tF\tMabsent\t1935\tI: 170,000 - 189,999\t10000\t< Bach.\t0\t9+\tFarming\t5\t0\t0\t0.542615745076834\n100031\tF\tDivorc.\t1967\tH: 150,000 - 169,999\t1500\tBach.\t0\t6-8\tSales\t4\t0\t0\t0.500269901330298\n100072\tM\tMabsent\t1971\tJ: 190,000 - 249,999\t9000\t5th-6th\t0\t6-8\tCrafts\t3\t0\t0\t0.524271250281955\n100132\tF\tWidowed\t1926\tI: 170,000 - 189,999\t3000\t< Bach.\t0\t2\tHouse-s\t4\t0\t0\t0.637477532369609\n100148\tF\tWidowed\t1936\tI: 170,000 - 189,999\t9000\t7th-8th\t0\t2\tOther\t3\t0\t0\t0.553179536335528\n100170\tF\tWidowed\t1943\tF: 110,000 - 129,999\t3000\t7th-8th\t0\t9+\t?\t3\t0\t0\t0.701078977491907\n100199\tF\tWidowed\t1922\tF: 110,000 - 129,999\t1500\t9th\t0\t2\tHouse-s\t2\t0\t0\t0.803307844886286\n100289\tM\tSepar.\t1949\tB: 30,000 - 49,999\t1500\t9th\t0\t9+\tCrafts\t5\t0\t0\t0.629913409360123\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"bar\":{\"groupByColumns\":[\"CUST_MARITAL_STATUS\",\"Bin_PROBABILITY\"],\"series\":{\"availableSeriesElements\":[{\"id\":\"ORE.FREQ\",\"lineType\":\"straight\",\"borderColor\":\"rgb(25, 95, 116)\",\"borderWidth\":0,\"color\":\"rgb(25, 95, 116)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(25, 95, 116)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0}]},\"lastColumns\":[\"CUST_MARITAL_STATUS\",\"Bin_PROBABILITY\",\"ORE.FREQ\",\"ORE.STRATA\",\"ORE.GROUP\"],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"bar","title":"Plot the probability to be an anomaly against bin frequency vs. marital status","message":["%r","","rownames(RES_DF) <- RES_DF['CUST_ID']","RES_DF <- mutate(RES_DF,\"Bin_PROBABILITY\" = cut(RES_DF$PROBABILITY, breaks = 5, dig.lab=3)) ","temp <- ore.crosstab(CUST_MARITAL_STATUS ~ Bin_PROBABILITY, RES_DF)","","z.show(temp)"],"enabled":true,"result":{"startTime":1737608688825,"interpreter":"r.low","endTime":1737608689643,"results":[{"message":"CUST_MARITAL_STATUS\tBin_PROBABILITY\tORE.FREQ\tORE.STRATA\tORE.GROUP\nDivorc.\t(0.5,0.59]\t22\t1\t1\nDivorc.\t(0.59,0.68]\t55\t1\t1\nDivorc.\t(0.68,0.769]\t164\t1\t1\nDivorc.\t(0.769,0.859]\t293\t1\t1\nDivorc.\t(0.859,0.949]\t81\t1\t1\nMabsent\t(0.5,0.59]\t13\t1\t1\nMabsent\t(0.59,0.68]\t20\t1\t1\nMabsent\t(0.68,0.769]\t26\t1\t1\nMabsent\t(0.769,0.859]\t14\t1\t1\nMabsent\t(0.859,0.949]\t2\t1\t1\nMar-AF\t(0.5,0.59]\t2\t1\t1\nMar-AF\t(0.59,0.68]\t1\t1\t1\nMarried\t(0.5,0.59]\t6\t1\t1\nMarried\t(0.59,0.68]\t30\t1\t1\nMarried\t(0.68,0.769]\t141\t1\t1\nMarried\t(0.769,0.859]\t724\t1\t1\nMarried\t(0.859,0.949]\t1133\t1\t1\nNeverM\t(0.5,0.59]\t4\t1\t1\nNeverM\t(0.59,0.68]\t21\t1\t1\nNeverM\t(0.68,0.769]\t148\t1\t1\nNeverM\t(0.769,0.859]\t603\t1\t1\nNeverM\t(0.859,0.949]\t727\t1\t1\nSepar.\t(0.5,0.59]\t21\t1\t1\nSepar.\t(0.59,0.68]\t23\t1\t1\nSepar.\t(0.68,0.769]\t50\t1\t1\nSepar.\t(0.769,0.859]\t39\t1\t1\nSepar.\t(0.859,0.949]\t1\t1\t1\nWidowed\t(0.5,0.59]\t36\t1\t1\nWidowed\t(0.59,0.68]\t49\t1\t1\nWidowed\t(0.68,0.769]\t38\t1\t1\nWidowed\t(0.769,0.859]\t13\t1\t1\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display the top 5 most anomalous cases","message":["%r","","z.show(head(ore.sort(RES_DF[RES_DF$PREDICTION == 0,], by = c('PROBABILITY'), reverse =TRUE),5)  )"],"enabled":true,"result":{"startTime":1737608690112,"interpreter":"r.low","endTime":1737608691061,"results":[{"message":"CUST_ID\tCUST_GENDER\tCUST_MARITAL_STATUS\tCUST_YEAR_OF_BIRTH\tCUST_INCOME_LEVEL\tCUST_CREDIT_LIMIT\tEDUCATION\tAFFINITY_CARD\tHOUSEHOLD_SIZE\tOCCUPATION\tYRS_RESIDENCE\tY_BOX_GAMES\tPREDICTION\tPROBABILITY\tBin_PROBABILITY\n100199\tF\tWidowed\t1922\tF: 110,000 - 129,999\t1500\t9th\t0\t2\tHouse-s\t2\t0\t0\t0.803307844886286\t(0.769,0.859]\n100170\tF\tWidowed\t1943\tF: 110,000 - 129,999\t3000\t7th-8th\t0\t9+\t?\t3\t0\t0\t0.701078977491907\t(0.68,0.769]\n103154\tF\tWidowed\t1922\tF: 110,000 - 129,999\t1500\t9th\t0\t2\tHouse-s\t2\t0\t0\t0.684590840278712\t(0.68,0.769]\n101137\tF\tWidowed\t1935\tH: 150,000 - 169,999\t1500\t10th\t0\t9+\tOther\t3\t0\t0\t0.67996173775069\t(0.68,0.769]\n100646\tF\tWidowed\t1941\tG: 130,000 - 149,999\t1500\tBach.\t0\t9+\tTechSup\t2\t0\t0\t0.667046911688017\t(0.59,0.68]\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","### Assign explicit model names","We can assign a model name explicitly at the time we build the model. This is facilitated through the use of `odm.settings`. We'll rebuild the model with the assigned name 'SVM_ANOMALY_DETECTION_MODEL' for use in the query below."],"enabled":true,"result":{"startTime":1737608691564,"interpreter":"md.low","endTime":1737608692024,"results":[{"message":"<h3 id=\"assign-explicit-model-names\">Assign explicit model names<\/h3>\n<p>We can assign a model name explicitly at the time we build the model. This is facilitated through the use of <code>odm.settings<\/code>. We'll rebuild the model with the assigned name 'SVM_ANOMALY_DETECTION_MODEL' for use in the query below.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","ore.drop(model = 'SVM_ANOMALY_DETECTION_MODEL')","","MOD.SVM2 <- ore.odmSVM(formula = ~., data = CUST_DF, type = 'anomaly.detection', odm.settings = list(model_name = \"SVM_ANOMALY_DETECTION_MODEL\"))"],"enabled":true,"result":{"startTime":1737608692486,"interpreter":"r.low","endTime":1737608695684,"results":[{"message":"Warning message:\n\u201cModel SVM_ANOMALY_DETECTION_MODEL does not exist on database.\u201d\nWarning message:\n\u201cThe created mining model SVM_ANOMALY_DETECTION_MODEL is explicitly named. ORE does not manage this mining model's life cycle.\u201d\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Materialize CUST_DF data frame into table CUSTOMER360_TAB for use in the PREDICTION_DETAILS query","message":["%r","","ore.drop(\"CUSTOMERS360_TAB\")","ore.create(CUST_DF, \"CUSTOMERS360_TAB\")"],"enabled":true,"result":{"startTime":1737608696141,"interpreter":"r.low","endTime":1737608697925,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View PREDICTION_DETAILS in SQL of top 3 attributes that explain factors leading to prediction","message":["%sql","","SELECT CUST_ID, "," RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute1\",17,100)),'rank=\"1\"/>') FIRST_ATTRIBUTE,"," RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute2\",17,100)),'rank=\"2\"/>') SECOND_ATTRIBUTE"," FROM (SELECT CUST_ID, PREDICTION_DETAILS(SVM_ANOMALY_DETECTION_MODEL, '0' USING *) PREDICTION_DETAILS FROM CUSTOMERS360_TAB","       WHERE PREDICTION_PROBABILITY(SVM_ANOMALY_DETECTION_MODEL, '0' USING *) > 0.50","       AND OCCUPATION = 'TechSup'","       ORDER BY CUST_ID) OUT,","       XMLTABLE('/Details'","                PASSING OUT.PREDICTION_DETAILS","                COLUMNS ","                \"Attribute1\" XMLType PATH 'Attribute[1]',","                \"Attribute2\" XMLType PATH 'Attribute[2]') ","       OUTPRED","FETCH FIRST 10 ROWS ONLY"],"enabled":true,"result":{"startTime":1737608698378,"interpreter":"sql.low","endTime":1737608698959,"results":[{"message":"CUST_ID\tFIRST_ATTRIBUTE\tSECOND_ATTRIBUTE\n100061\t\"EDUCATION\" actualValue=\"Assoc-V\" weight=\".039\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".039\" \n100489\t\"EDUCATION\" actualValue=\"Assoc-A\" weight=\".043\" \t\"Y_BOX_GAMES\" actualValue=\"1\" weight=\".037\" \n100646\t\"CUST_MARITAL_STATUS\" actualValue=\"Widowed\" weight=\".066\" \t\"EDUCATION\" actualValue=\"Bach.\" weight=\".022\" \n100792\t\"AFFINITY_CARD\" actualValue=\"1\" weight=\".055\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"15000\" weight=\".033\" \n100941\t\"EDUCATION\" actualValue=\"9th\" weight=\".051\" \t\"HOUSEHOLD_SIZE\" actualValue=\"4-5\" weight=\".033\" \n101706\t\"CUST_MARITAL_STATUS\" actualValue=\"Mabsent\" weight=\".081\" \t\"Y_BOX_GAMES\" actualValue=\"1\" weight=\".039\" \n102254\t\"CUST_MARITAL_STATUS\" actualValue=\"Separ.\" weight=\".079\" \t\"AFFINITY_CARD\" actualValue=\"1\" weight=\".053\" \n102862\t\"AFFINITY_CARD\" actualValue=\"1\" weight=\".055\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".043\" \n102922\t\"CUST_MARITAL_STATUS\" actualValue=\"Widowed\" weight=\".064\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"1500\" weight=\".023\" \n103341\t\"EDUCATION\" actualValue=\"Assoc-V\" weight=\".039\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".039\" \n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View prediction details in transactional format","message":["%sql","","WITH d AS"," (SELECT CUST_ID, PREDICTION_DETAILS(SVM_ANOMALY_DETECTION_MODEL, '0' using *) anomalyDetails FROM CUSTOMERS360_TAB)","  SELECT d.CUST_ID, x.name, x.weight","         from d,","         XMLTable('/Details'","                  PASSING d.anomalyDetails","                  COLUMNS","                  class varchar2(20) PATH '@class') c,","         XMLTable('/Details/Attribute'","                  PASSING d.anomalyDetails","                  COLUMNS","                  name varchar2(20) PATH '@name',","                  weight varchar2(30) PATH '@weight') x","    WHERE c.class='0'","ORDER BY CUST_ID, name","FETCH FIRST 10 ROWS ONLY;"],"enabled":true,"result":{"startTime":1737608699423,"interpreter":"sql.low","endTime":1737608710321,"results":[{"message":"CUST_ID\tNAME\tWEIGHT\n100001\tCUST_CREDIT_LIMIT\t.023\n100001\tCUST_ID\t.028\n100001\tCUST_INCOME_LEVEL\t.018\n100001\tCUST_MARITAL_STATUS\t.064\n100001\tY_BOX_GAMES\t.015\n100002\tCUST_GENDER\t.012\n100002\tCUST_ID\t.028\n100002\tCUST_INCOME_LEVEL\t.01\n100002\tEDUCATION\t.021\n100002\tY_BOX_GAMES\t.017\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## Final Cleanup"],"enabled":true,"result":{"startTime":1737608710789,"interpreter":"md.low","endTime":1737608711250,"results":[{"message":"<h2 id=\"final-cleanup\">Final Cleanup<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Delete the Model we stored in the Database","message":["%script","","BEGIN","DBMS_DATA_MINING.DROP_MODEL(model_name => 'SVM_ANOMALY_DETECTION_MODEL');","EXCEPTION WHEN others THEN null;","END;"],"enabled":true,"result":{"startTime":1737608711708,"interpreter":"script.low","endTime":1737608712745,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## End of Script"],"enabled":true,"result":{"startTime":1737608713214,"interpreter":"md.low","endTime":1737608713656,"results":[{"message":"<h2 id=\"end-of-script\">End of Script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1737608714130,"interpreter":"md.low","endTime":1737608714599,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]