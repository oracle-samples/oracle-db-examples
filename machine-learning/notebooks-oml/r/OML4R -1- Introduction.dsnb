[{"layout":null,"isRunnable":true,"template":null,"templateConfig":null,"isEditable":true,"name":"OML4R -1- Introduction","description":null,"type":"low","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1734710992877,"interpreter":"md.low","endTime":1734710993297,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","# Oracle Machine Learning for R (OML4R)","","***Oracle Machine Learning for R*** (OML4R) makes the open source R programming language and environment ready for the enterprise and big data. ","Designed for problems involving both large and small data volumes, OML4R integrates R with Oracle Autonomous Database, allowing users to run R ","commands for statistical, machine learning, and visualization analyses on database tables and views using R syntax. Many familiar R functions ","are overloaded that translate R behavior for running in-database, as well as new automatic machine learning capabilities. ","","In this notebook, we highlight a few of the OML4R features:","* Load ORE Library","* Create database tables","* Use the transparency layer","* Rank attributes for predicitve value using the in-database attribute importance algorithm","* Build predicitve models","* Score data using these models","","Copyright (c) 2026 Oracle Corporation","","###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a>"],"enabled":true,"result":{"startTime":1734710993724,"interpreter":"md.low","endTime":1734710994128,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## Import libraries supporting OML4R","","To use OML4R, first import the library **ORE**.","","Users can get online help using R's help function and specifying the function of interest."],"enabled":true,"result":{"startTime":1734710994562,"interpreter":"md.low","endTime":1734710994970,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Import libraries","message":["%r","library(ORE)","library(lattice)","","options(ore.warn.order=FALSE)"],"enabled":true,"result":{"startTime":1734710995399,"interpreter":"r.low","endTime":1734710995876,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View the first few rows from the iris data.frame","message":["%r","","z.show(head(iris, 10))"],"enabled":true,"result":{"startTime":1734710996302,"interpreter":"r.low","endTime":1734710996770,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## OML4R Transparency Layer functionality","### Using an R data.frame, create a database table and obtain a proxy object","We have a couple of options for loading data into the database from R. In this first example, we load the **iris** dataset This R data.frame can then be loaded into the database using the ***push*** function, which creates a temporary table and returns a proxy object that we assign to variable IRIS_TMP. Such temporary tables will be automatically deleted when the database connection is terminated unless the proxy object is saved in a datastore (the topics of 'datastore' is covered in another notebook).","","We then invoke standard functions like ***shape*** and ***columns***, as well as ***head***, to begin to explore the data."],"enabled":true,"result":{"startTime":1734710997206,"interpreter":"md.low","endTime":1734710997622,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"Look up help on OML4R and other functions","message":["%r","","help(ore.push)"],"enabled":true,"result":{"startTime":1734710998066,"interpreter":"r.low","endTime":1734710998736,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":["%r","","IRIS_TMP <- ore.push(iris)","","dim(IRIS_TMP)","colnames(IRIS_TMP)","z.show(head(IRIS_TMP,10))"],"enabled":true,"result":{"startTime":1734710999187,"interpreter":"r.low","endTime":1734710999765,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","We can also create a persistent table using the ***create*** function and specify an R data.frame and a tablename. ","For emample, here we sepecify **IRIS2**. This table is now accessible both within OML4R and directly from SQL.","Use the function ***z.show*** to automatically pull the desired data to R  for display in the notebook. ","By doing this, you can also use the built-in notebook visualization options such as a bar, pie, area, line, and scatter plots."],"enabled":true,"result":{"startTime":1734711000194,"interpreter":"md.low","endTime":1734711000597,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":null,"message":["%r","","ore.attach()","","tryCatch(ore.drop(table=\"IRIS2\"))","","ore.create(iris, table=\"IRIS2\")","","z.show(head(IRIS2, 10))"],"enabled":true,"result":{"startTime":1734711001038,"interpreter":"r.low","endTime":1734711001638,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Transparency layer functions available on an ORE DataFrame","message":["%md","### Transparency layer functions available on an ORE data.frame, or `ore.frame`.","List the functions defined for an ORE DataFrame proxy object, in this case \"IRIS.\""],"enabled":true,"result":{"startTime":1734711002079,"interpreter":"md.low","endTime":1734711002485,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","class(IRIS_TMP)"],"enabled":true,"result":{"startTime":1734711002919,"interpreter":"r.low","endTime":1734711003426,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":0,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","class <- methods(class=class(IRIS_TMP))","class"],"enabled":true,"result":{"startTime":1734711003848,"interpreter":"r.low","endTime":1734711004428,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Using standard R syntax on database data","Perform a few operations on the SEPAL_LENGTH column of the IRIS database table using the transparency layer. Note that standard R syntax is used"],"enabled":true,"result":{"startTime":1734711004879,"interpreter":"md.low","endTime":1734711005299,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","cat(\"Add 5 to each SEPAL_LENGTH: \\n\")","IRIS_TMP[1:20,1]+5","","cat(\"\\n\\nMin SEPAL_LENGTH:  \", min(IRIS_TMP[,1]))","cat(\"\\n\\nMin SEPAL_LENGTH:  \", min(IRIS_TMP$Sepal.Length))","","cat(\"\\n\\nMean SEPAL_LENGTH:  \", mean(IRIS_TMP[,1]))","cat(\"\\n\\nMean SEPAL_LENGTH:  \", mean(IRIS_TMP$Sepal.Length))"],"enabled":true,"result":{"startTime":1734711005723,"interpreter":"r.low","endTime":1734711006299,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","Explore masking using the IRIS Petal.Length column. Note that standard R syntax is used. "],"enabled":true,"result":{"startTime":1734711006731,"interpreter":"md.low","endTime":1734711007145,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%r","","base <- IRIS_TMP$Petal.Length","","MASK1 <- IRIS_TMP[,3] > 5.1","mask1 <- IRIS_TMP$Petal.Length[MASK1]","","MASK2 <- IRIS_TMP[,3] < 1.4 | IRIS_TMP[,3] > 5.6","mask2 <- IRIS_TMP$Petal.Length[MASK2]"],"enabled":true,"result":{"startTime":1734711007568,"interpreter":"r.low","endTime":1734711008035,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":5,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","cat(\"Petal Length:\\n\")","base","","cat(\"\\n\\nPetal Length > 5.1:\\n\")","mask1","","cat(\"\\n\\nPetal Length  < 1.4 | > 5.6:\\n\")","mask2"],"enabled":true,"result":{"startTime":1734711008459,"interpreter":"r.low","endTime":1734711009020,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":7,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","### Explore data by computing pairwise correlation","Using only numeric columns, compute a correlation matrix using the **IRIS_TMP** proxy object for the temporary database table using the overloaded **cor** function. Here we see that petal length and petal width are highly correlated."],"enabled":true,"result":{"startTime":1734711009443,"interpreter":"md.low","endTime":1734711009850,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":["%r","","IRIS_NUMERIC <- IRIS_TMP[, c(\"Sepal.Length\", \"Sepal.Width\", \"Petal.Length\", \"Petal.Width\")]","class(IRIS_NUMERIC)","","RES <- as.data.frame(cor(IRIS_NUMERIC, use = \"all.obs\"))","class(RES)","","RES"],"enabled":true,"result":{"startTime":1734711010287,"interpreter":"r.low","endTime":1734711011147,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md ","### Explore column distributions","","OML4R overloads select graphics functions as well. Here, we illustrate the use of ***hist*** and ***boxplot*** to show the distribution of petal length. Here, the statistical computations take place in the database - avoiding data movement - and return only the summary statistics needed to produce the plot, which enables scalability. No overhead is incurred for moving the data to the client for processing, whether 150 rows (as in IRIS) or 150 million rows."],"enabled":true,"result":{"startTime":1734711011577,"interpreter":"md.low","endTime":1734711011994,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"image\":{\"height\":400,\"lastColumns\":[]}}]","hideInIFrame":false,"selectedVisualization":"image","title":null,"message":["%r","","hist(IRIS_TMP$Sepal.Length, col=\"darkred\")"],"enabled":true,"result":{"startTime":1734711012436,"interpreter":"r.low","endTime":1734711013102,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"image\":{\"height\":400,\"lastColumns\":[]}}]","hideInIFrame":false,"selectedVisualization":"image","title":null,"message":["%r","","boxplot(IRIS_TMP$Sepal.Length, horizontal=TRUE, notch=TRUE, col=\"darkgreen\", ","        showmeans=TRUE, xlab=\"cm\", main=\"Distribution of IRIS Attributes\")"],"enabled":true,"result":{"startTime":1734711013528,"interpreter":"r.low","endTime":1734711014065,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## Use in-database ML algorithms","### Compute attribute importance variable ranking","","Using the **IRIS** table, determine which variables (a.k.a., attributes or predictors) are most important in predicting target Species.","","Notice that petal width is most predictive of the target Species. The importance value produced by this algorithm provides a relative ranking, not an absolute number, to be used to distinguish importance among variables."],"enabled":true,"result":{"startTime":1734711014503,"interpreter":"md.low","endTime":1734711014904,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","help(ore.odmAI)"],"enabled":true,"result":{"startTime":1734711015333,"interpreter":"r.low","endTime":1734711015870,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","AI <- ore.odmAI(Species ~ ., IRIS_TMP, auto.data.prep = TRUE)","AI"],"enabled":true,"result":{"startTime":1734711016308,"interpreter":"r.low","endTime":1734711017852,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":null,"message":["%r","","res <- AI$importance","res$attributes <- rownames(res)","","z.show(res)"],"enabled":true,"result":{"startTime":1734711018275,"interpreter":"r.low","endTime":1734711018737,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Build predictive models","In this example, we set up the data and a ***demo*** cost matrix to build a Decision Tree model to predict Species from the **IRIS** table.","Rebuild the model and supply a test cost matrix."],"enabled":true,"result":{"startTime":1734711019165,"interpreter":"md.low","endTime":1734711019583,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","help(ore.odmDT)"],"enabled":true,"result":{"startTime":1734711020017,"interpreter":"r.low","endTime":1734711020715,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","Build a Decision Tree model specifying a maximum tree depth of 4 and display model details."],"enabled":true,"result":{"startTime":1734711021145,"interpreter":"md.low","endTime":1734711021550,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","options(ore.parallel=4)","","MOD1 <- ore.odmDT(Species~., IRIS_TMP, max.depth=4)","MOD1"],"enabled":true,"result":{"startTime":1734711021979,"interpreter":"r.low","endTime":1734711023624,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Define a cost matrix","message":["%r","","value <- c(0, 0.4, 0.5, 0.8, 0, 0.5, 0.2, 0.6, 0)","cost.matrix <- matrix(value,ncol=3,byrow=TRUE)","colnames(cost.matrix) <- c('setosa','versicolor', 'virginica')","rownames(cost.matrix) <- c('setosa','versicolor', 'virginica')","names(dimnames(cost.matrix)) <- c(\"ACTUAL_TARGET_VALUE\",\"PREDICTED_TARGET_VALUE\")","cost.matrix <- as.table(cost.matrix)","cost.matrix"],"enabled":true,"result":{"startTime":1734711024058,"interpreter":"r.low","endTime":1734711024525,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"Rebuild model and supply cost matrix","message":["%r","","MOD2 <- ore.odmDT(Species~., IRIS_TMP, max.depth=4, cost.matrix=cost.matrix)","MOD2"],"enabled":true,"result":{"startTime":1734711024956,"interpreter":"r.low","endTime":1734711026611,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Use the Decision Tree model to predict Species","","When predicting values, users can include supplemental columns from the original data. ","This can be particularly useful to compare actual target values against predicted values, ","or to include unique keys for subsequent row identification. This is necessary since row order ","is not implicitly maintained on results from the database. This is consistent with how SQL and ","relational databases provide ordering only if requested by the user via a sort."],"enabled":true,"result":{"startTime":1734711027050,"interpreter":"md.low","endTime":1734711027450,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":null,"message":["%r","","PREDICTION <- predict(MOD1, IRIS_TMP, type=\"class\", supplemental.cols = ","                      c(\"Sepal.Length\",\"Sepal.Width\",\"Petal.Length\",\"Petal.Width\",\"Species\"))","","z.show(head(PREDICTION, 10))"],"enabled":true,"result":{"startTime":1734711027878,"interpreter":"r.low","endTime":1734711028543,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","### Generate and display a Confusion Matrix for the predicted results","Using the overloaded **crosstab** function, compute the confusion matrix between the actual values in SPECIES and the predictions in the PREDICTION column."],"enabled":true,"result":{"startTime":1734711028977,"interpreter":"md.low","endTime":1734711029390,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","with(PREDICTION, table(Species, PREDICTION))"],"enabled":true,"result":{"startTime":1734711029811,"interpreter":"r.low","endTime":1734711030479,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Build an Anomaly Detection Model with SVM","","The Support Vector Machine algorithm supports a one-class SVM option for anomaly detection when now target variable is supplied. ","Predictions with value 0 are considered anomalies. Users can specify various settings to affect model results, e.g., ","the outlier rate or the type of SVM kernel functions."],"enabled":true,"result":{"startTime":1734711030911,"interpreter":"md.low","endTime":1734711031318,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","SVM.MOD <- ore.odmSVM(~ ., IRIS_TMP, \"anomaly.detection\", odm.settings=list(SVMS_OUTLIER_RATE = 0.1))","SVM.MOD","","summary(SVM.MOD)"],"enabled":true,"result":{"startTime":1734711031754,"interpreter":"r.low","endTime":1734711034000,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","We can predict which cases are anomalies using the ***predict*** function. if ***proba*** is set to True, we will get the probability associated with the prediction."],"enabled":true,"result":{"startTime":1734711034432,"interpreter":"md.low","endTime":1734711034835,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":null,"message":["%r","","SVM.PRED  <- predict(SVM.MOD, IRIS_TMP, proba = TRUE)","z.show(head(SVM.PRED, 10))"],"enabled":true,"result":{"startTime":1734711035265,"interpreter":"r.low","endTime":1734711036046,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","Let's assess how many anomalies were identified. Here we see that roughly 5% are reported as indicated from our setting above."],"enabled":true,"result":{"startTime":1734711036479,"interpreter":"md.low","endTime":1734711036894,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%r","","with(SVM.PRED, table(PREDICTION))"],"enabled":true,"result":{"startTime":1734711037328,"interpreter":"r.low","endTime":1734711037990,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## End of Script"],"enabled":true,"result":{"startTime":1734711038420,"interpreter":"md.low","endTime":1734711038839,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1734711039276,"interpreter":"md.low","endTime":1734711039709,"results":null,"taskStatus":null,"forms":null,"status":null},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"7","snapshot":false,"tags":null}]