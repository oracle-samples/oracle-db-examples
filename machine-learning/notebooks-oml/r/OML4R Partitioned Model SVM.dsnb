[{"layout":null,"template":null,"templateConfig":null,"name":"OML4R Partitioned Model SVM","description":null,"readOnly":false,"type":"low","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1736279208920,"interpreter":"md.low","endTime":1736279209456,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"OML4Py Partitioned Model","message":["%md","# OML4R Partitioned Model SVM","","Oracle Machine Learning enables automatically building an ensemble model comprised of multiple sub-models, one for each data partition. ","Sub-models exist and are used as one model, which results in simplified scoring using the top-level model only. The applicable sub-model is ","chosen by the system based on the individual row of data to be scored. Partitioned models achieve potentially better accuracy through multiple targeted models. ","","In this notebook, we build an SVM model to predict the number of years a customer resides at their residence but partitioned on customer gender. ","The model is then used to predict the target only, then predicting the target with prediction details. ","","Copyright (c) 2025 Oracle Corporation ","###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a>","---"],"enabled":true,"result":{"startTime":1736279209885,"interpreter":"md.low","endTime":1736279210351,"results":[{"message":"<h1 id=\"oml4r-partitioned-model-svm\">OML4R Partitioned Model SVM<\/h1>\n<p>Oracle Machine Learning enables automatically building an ensemble model comprised of multiple sub-models, one for each data partition.\nSub-models exist and are used as one model, which results in simplified scoring using the top-level model only. The applicable sub-model is\nchosen by the system based on the individual row of data to be scored. Partitioned models achieve potentially better accuracy through multiple targeted models.<\/p>\n<p>In this notebook, we build an SVM model to predict the number of years a customer resides at their residence but partitioned on customer gender.\nThe model is then used to predict the target only, then predicting the target with prediction details.<\/p>\n<p>Copyright (c) 2025 Oracle Corporation<\/p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a><\/h6>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For more information ...","message":["%md","","","* <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADW Documentation<\/a>","* <a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a>","* <a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a>","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-CE621172-D8BF-48FF-9854-D0BC344E1897\" target=\"_blank\">OML4R Partitioned Models Settings<\/a>","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/23/dmcon/intro-oracle-machine-learning-SQL.html#GUID-02417CD8-80E8-4324-9E5E-2BE2DCE29527\" target=\"_blank\">OML Partitioned Models<\/a>"],"enabled":true,"result":{"startTime":1736279210773,"interpreter":"md.low","endTime":1736279211214,"results":[{"message":"<ul>\n<li><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADW Documentation<\/a><\/li>\n<li><a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a><\/li>\n<li><a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a><\/li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-CE621172-D8BF-48FF-9854-D0BC344E1897\" target=\"_blank\">OML4R Partitioned Models Settings<\/a><\/li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/23/dmcon/intro-oracle-machine-learning-SQL.html#GUID-02417CD8-80E8-4324-9E5E-2BE2DCE29527\" target=\"_blank\">OML Partitioned Models<\/a><\/li>\n<\/ul>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Import libraries and set display options","message":["%r","","library(ORE)","options(ore.warn.order=FALSE)"],"enabled":true,"result":{"startTime":1736279211651,"interpreter":"r.low","endTime":1736279216800,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":5,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Prepare CUSTOMER_DEMO dataset using data from the SH schema","message":["%r","","ore.sync(query = c(\"SUPP_DF\" = 'SELECT CUST_ID, EDUCATION, AFFINITY_CARD, HOUSEHOLD_SIZE, ","                   OCCUPATION, YRS_RESIDENCE, Y_BOX_GAMES FROM SH.SUPPLEMENTARY_DEMOGRAPHICS'))","","ore.sync(query = c(\"CUSTOMER_DF\" = 'SELECT CUST_ID, CUST_GENDER, CUST_MARITAL_STATUS, ","                   CUST_YEAR_OF_BIRTH, CUST_INCOME_LEVEL, CUST_CREDIT_LIMIT FROM SH.CUSTOMERS'))","ore.attach()","","CUST_DF <- merge(SUPP_DF, CUSTOMER_DF)","row.names(CUST_DF) <- CUST_DF$CUST_ID"],"enabled":true,"result":{"startTime":1736279217241,"interpreter":"r.low","endTime":1736279218482,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":7,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Display number of rows and columns","message":["%r","","dim(CUST_DF)"],"enabled":true,"result":{"startTime":1736279218908,"interpreter":"r.low","endTime":1736279219477,"results":[{"message":"<style>\n.list-inline {list-style: none; margin:0; padding: 0}\n.list-inline>li {display: inline-block}\n.list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n<\/style>\n<ol class=list-inline><li>4500<\/li><li>12<\/li><\/ol>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display a few rows of CUSTOMERS_DEMO data","message":["%r","","z.show(head(CUST_DF))"],"enabled":true,"result":{"startTime":1736279219895,"interpreter":"r.low","endTime":1736279220374,"results":[{"message":"CUST_ID\tEDUCATION\tAFFINITY_CARD\tHOUSEHOLD_SIZE\tOCCUPATION\tYRS_RESIDENCE\tY_BOX_GAMES\tCUST_GENDER\tCUST_MARITAL_STATUS\tCUST_YEAR_OF_BIRTH\tCUST_INCOME_LEVEL\tCUST_CREDIT_LIMIT\n100001\t< Bach.\t0\t2\tExec.\t3\t0\tF\tWidowed\t1941\tG: 130,000 - 149,999\t1500\n100002\tBach.\t0\t2\tProf.\t4\t0\tF\tNeverM\t1962\tL: 300,000 and above\t7000\n100003\t< Bach.\t0\t2\tSales\t6\t0\tM\tNeverM\t1969\tK: 250,000 - 299,999\t7000\n100004\t< Bach.\t0\t2\tSales\t5\t0\tF\tDivorc.\t1953\tK: 250,000 - 299,999\t15000\n100005\tAssoc-A\t1\t3\tCrafts\t5\t0\tM\tMarried\t1957\tB: 30,000 - 49,999\t1500\n100006\t< Bach.\t0\t9+\tProf.\t2\t1\tF\tNeverM\t1983\tG: 130,000 - 149,999\t5000\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Split data into training and testing sets in R ","message":["%r","","set.seed(123)","rownames(CUST_DF) <- CUST_DF$CUST_ID","","sampleSize <- .6 * nrow(CUST_DF)","index <- sample(1:nrow(CUST_DF),sampleSize)","","# Create training data set","CUST_DF.train <- CUST_DF[index,]","","# Create test data set","CUST_DF.test <- CUST_DF[setdiff(1:nrow(CUST_DF),index),]","","class(CUST_DF.train)","cat(\"\\nTraining data: \",dim(CUST_DF.train))","","","class(CUST_DF.test)","cat(\"\\nTest data: \", dim(CUST_DF.test))"],"enabled":true,"result":{"startTime":1736279220813,"interpreter":"r.low","endTime":1736279221672,"results":[{"message":"'ore.frame'\nTraining data:  2700 12\n","type":"HTML"},{"message":"'ore.frame'\nTest data:  1800 12","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Examples of possible setting overrides for Partitioning (Shared Settings)","message":["%md","","### Examples of possible setting overrides for Partitioning (Shared Settings)","","If the user does not override the default settings, relevant settings are determined by the algorithm","","A complete list of settings can be found in the Documentation link:","","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">Algorithm Settings<\/a>","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-42BDAC50-3951-48A0-A26D-693D5407DD44\" target=\"_blank\">Shared Settings<\/a>","","* Requests the building of a partitioned model. The setting value is a comma-separated list of the machine learning attributes to be used to determine the in-list partition key values. These attributes are taken from the input columns, unless an XFORM_LIST parameter is passed to the model. If XFORM_LIST parameter is passed to the model, then the attributes are taken from the attributes produced by these transformations.  ","> 'odms_partition_columns' : '<Comma separated list of attributes>'","     ","* Controls the parallel building of partitioned models.     ","    ODMS_PARTITION_BUILD_INTRA builds each partition in parallel using all sub-processes.","    ODMS_PARTITION_BUILD_INTER builds each partition entirely in a single sub-process, but multiple partitions may be built at the same time because multiple sub-processes are active.","    ODMS_PARTITION_BUILD_HYBRID combines the other two types and is recommended for most situations to adapt to dynamic environments. This is the default value.","> 'odms_partition_build_type' : 'ODMS_PARTITION_BUILD_HYBRID'"],"enabled":true,"result":{"startTime":1736279222094,"interpreter":"md.low","endTime":1736279222516,"results":[{"message":"<h3 id=\"examples-of-possible-setting-overrides-for-partitioning-shared-settings\">Examples of possible setting overrides for Partitioning (Shared Settings)<\/h3>\n<p>If the user does not override the default settings, relevant settings are determined by the algorithm<\/p>\n<p>A complete list of settings can be found in the Documentation link:<\/p>\n<ul>\n<li>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-14FB8AC4-4CE5-4B91-BAA9-552A115CB5BE\" target=\"_blank\">Algorithm Settings<\/a><\/p>\n<\/li>\n<li>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/2.0.0/oreug/oml4r-classes-that-provide-access-database-ml-algorithm1.html#GUID-42BDAC50-3951-48A0-A26D-693D5407DD44\" target=\"_blank\">Shared Settings<\/a><\/p>\n<\/li>\n<li>\n<p>Requests the building of a partitioned model. The setting value is a comma-separated list of the machine learning attributes to be used to determine the in-list partition key values. These attributes are taken from the input columns, unless an XFORM_LIST parameter is passed to the model. If XFORM_LIST parameter is passed to the model, then the attributes are taken from the attributes produced by these transformations.<\/p>\n<\/li>\n<\/ul>\n<blockquote>\n<p>'odms_partition_columns' : '<Comma separated list of attributes>'<\/p>\n<\/blockquote>\n<ul>\n<li>Controls the parallel building of partitioned models.<br />\nODMS_PARTITION_BUILD_INTRA builds each partition in parallel using all sub-processes.\nODMS_PARTITION_BUILD_INTER builds each partition entirely in a single sub-process, but multiple partitions may be built at the same time because multiple sub-processes are active.\nODMS_PARTITION_BUILD_HYBRID combines the other two types and is recommended for most situations to adapt to dynamic environments. This is the default value.<\/li>\n<\/ul>\n<blockquote>\n<p>'odms_partition_build_type' : 'ODMS_PARTITION_BUILD_HYBRID'<\/p>\n<\/blockquote>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Build Partitioned Model using the SVM algorithm to predict YRS_RESIDENCE, partitioned by CUST_GENDER","message":["%r","","ore.drop(model = 'SVM_PARTITIONED_REGRESSION_MODEL')","","settings <- list(odms_partition_columns = 'CUST_GENDER',","                 model_name             = 'SVM_PARTITIONED_REGRESSION_MODEL')","","SVM_PARTITIONED_REGRESSION_MODEL <- ore.odmSVM(YRS_RESIDENCE~.-CUST_ID, ","                                               CUST_DF.train, ","                                               \"regression\", ","                                               kernel.function = \"linear\", ","                                               odm.settings=settings)","","SVM_PARTITIONED_REGRESSION_MODEL"],"enabled":true,"result":{"startTime":1736279222983,"interpreter":"r.low","endTime":1736279225434,"results":[{"message":"Warning message:\n\u201cThe created mining model SVM_PARTITIONED_REGRESSION_MODEL is explicitly named. ORE does not manage this mining model's life cycle.\u201d\n\nCall:\nore.odmSVM(formula = YRS_RESIDENCE ~ . - CUST_ID, data = CUST_DF.train, \n    type = \"regression\", kernel.function = \"linear\", odm.settings = settings)\n\nSettings: \n                                               value\nodms.details                             odms.enable\nodms.max.partitions                             1000\nodms.missing.value.treatment odms.missing.value.auto\nodms.partition.columns                   CUST_GENDER\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON\nactive.learning                            al.enable\nconv.tolerance                                 1e-04\nepsilon                                           .1\nkernel.function                               linear\nNumber of partitions: 2\nPartitions:\n  PARTITION_NAME CUST_GENDER\n1              F           F\n2              M           M","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"Show model details for Partitioned Model using summary","message":["%r","","summary(SVM_PARTITIONED_REGRESSION_MODEL)"],"enabled":true,"result":{"startTime":1736279225858,"interpreter":"r.low","endTime":1736279226934,"results":[{"message":"$F\n\nCall:\nore.odmSVM(formula = YRS_RESIDENCE ~ . - CUST_ID, data = CUST_DF.train, \n    type = \"regression\", kernel.function = \"linear\", odm.settings = settings)\n\nSettings: \n                                               value\nodms.details                             odms.enable\nodms.max.partitions                             1000\nodms.missing.value.treatment odms.missing.value.auto\nodms.partition.columns                   CUST_GENDER\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON\nactive.learning                            al.enable\nconv.tolerance                                 1e-04\nepsilon                                           .1\nkernel.function                               linear\n\nResiduals: \n     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. \n-7.541000 -0.367100 -0.000865  0.106000  0.422200  8.008000 \n\nCoefficients: \n   PARTITION_NAME            variable                value      estimate\n1               F         (Intercept)                      -0.0123866038\n2               F       AFFINITY_CARD                       0.0327332427\n3               F   CUST_CREDIT_LIMIT                      -0.0003003418\n4               F   CUST_INCOME_LEVEL      A: Below 30,000  0.0144772514\n5               F   CUST_INCOME_LEVEL   B: 30,000 - 49,999 -0.0937785670\n6               F   CUST_INCOME_LEVEL   C: 50,000 - 69,999  0.0765888558\n7               F   CUST_INCOME_LEVEL   D: 70,000 - 89,999 -0.0354640998\n8               F   CUST_INCOME_LEVEL  E: 90,000 - 109,999  0.0336308215\n9               F   CUST_INCOME_LEVEL F: 110,000 - 129,999 -0.0810219264\n10              F   CUST_INCOME_LEVEL G: 130,000 - 149,999 -0.0138736123\n11              F   CUST_INCOME_LEVEL H: 150,000 - 169,999 -0.0019072163\n12              F   CUST_INCOME_LEVEL I: 170,000 - 189,999  0.0019811865\n13              F   CUST_INCOME_LEVEL J: 190,000 - 249,999 -0.0089657204\n14              F   CUST_INCOME_LEVEL K: 250,000 - 299,999  0.0368971012\n15              F   CUST_INCOME_LEVEL L: 300,000 and above  0.0714359257\n16              F CUST_MARITAL_STATUS              Divorc.  0.1165117556\n17              F CUST_MARITAL_STATUS              Mabsent -0.3003009390\n18              F CUST_MARITAL_STATUS               Mar-AF  0.1844910241\n19              F CUST_MARITAL_STATUS              Married  0.0602316078\n20              F CUST_MARITAL_STATUS               NeverM  0.0429441732\n21              F CUST_MARITAL_STATUS               Separ. -0.0138072480\n22              F CUST_MARITAL_STATUS              Widowed -0.0900703736\n23              F  CUST_YEAR_OF_BIRTH                      -0.8028132834\n24              F           EDUCATION                 10th -0.2642173866\n25              F           EDUCATION                 11th -0.3017945799\n26              F           EDUCATION                 12th  0.0532097721\n27              F           EDUCATION              1st-4th -0.1228023136\n28              F           EDUCATION              5th-6th  0.0207838682\n29              F           EDUCATION              7th-8th -0.2472535694\n30              F           EDUCATION                  9th -0.1375809726\n31              F           EDUCATION              < Bach. -0.0626355753\n32              F           EDUCATION              Assoc-A  0.0875190153\n33              F           EDUCATION              Assoc-V  0.0081403956\n34              F           EDUCATION                Bach.  0.0172364889\n35              F           EDUCATION              HS-grad  0.0339944938\n36              F           EDUCATION              Masters  0.0404687332\n37              F           EDUCATION                  PhD  0.3095448834\n38              F           EDUCATION              Presch.  0.1814107429\n39              F           EDUCATION               Profsc  0.3839760039\n40              F      HOUSEHOLD_SIZE                    1 -0.0272075761\n41              F      HOUSEHOLD_SIZE                    2  0.0815021730\n42              F      HOUSEHOLD_SIZE                  4-5 -0.1208557680\n43              F      HOUSEHOLD_SIZE                  6-8  0.0574389732\n44              F      HOUSEHOLD_SIZE                   9+  0.0091221979\n45              F          OCCUPATION                    ? -0.0678976938\n46              F          OCCUPATION              Cleric.  0.0651769314\n47              F          OCCUPATION               Crafts  0.1783214854\n48              F          OCCUPATION                Exec.  0.1176253140\n49              F          OCCUPATION              Farming -0.2476850314\n50              F          OCCUPATION              Handler -0.0842033528\n51              F          OCCUPATION              House-s -0.0467816866\n52              F          OCCUPATION              Machine  0.1108528629\n53              F          OCCUPATION                Other -0.0897725814\n54              F          OCCUPATION                Prof.  0.0900524708\n55              F          OCCUPATION              Protec. -0.0615914076\n56              F          OCCUPATION                Sales  0.0469075500\n57              F          OCCUPATION              TechSup  0.0364540390\n58              F          OCCUPATION              Transp. -0.0474589000\n59              F         Y_BOX_GAMES                       0.0009125024\n\n\n$M\n\nCall:\nore.odmSVM(formula = YRS_RESIDENCE ~ . - CUST_ID, data = CUST_DF.train, \n    type = \"regression\", kernel.function = \"linear\", odm.settings = settings)\n\nSettings: \n                                               value\nodms.details                             odms.enable\nodms.max.partitions                             1000\nodms.missing.value.treatment odms.missing.value.auto\nodms.partition.columns                   CUST_GENDER\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON\nactive.learning                            al.enable\nconv.tolerance                                 1e-04\nepsilon                                           .1\nkernel.function                               linear\n\nResiduals: \n     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. \n-8.005000 -0.655000  0.003037 -0.071140  0.506400  6.722000 \n\nCoefficients: \n   PARTITION_NAME            variable                value      estimate\n1               M         (Intercept)                      -1.116601e-01\n2               M       AFFINITY_CARD                       3.916771e-02\n3               M   CUST_CREDIT_LIMIT                       1.551717e-02\n4               M   CUST_INCOME_LEVEL      A: Below 30,000  1.055325e-02\n5               M   CUST_INCOME_LEVEL   B: 30,000 - 49,999 -5.975809e-03\n6               M   CUST_INCOME_LEVEL   C: 50,000 - 69,999 -4.513304e-03\n7               M   CUST_INCOME_LEVEL   D: 70,000 - 89,999 -5.041152e-02\n8               M   CUST_INCOME_LEVEL  E: 90,000 - 109,999  1.009648e-01\n9               M   CUST_INCOME_LEVEL F: 110,000 - 129,999 -9.366213e-02\n10              M   CUST_INCOME_LEVEL G: 130,000 - 149,999  1.430737e-02\n11              M   CUST_INCOME_LEVEL H: 150,000 - 169,999  8.029570e-02\n12              M   CUST_INCOME_LEVEL I: 170,000 - 189,999 -4.878279e-02\n13              M   CUST_INCOME_LEVEL J: 190,000 - 249,999 -2.401287e-02\n14              M   CUST_INCOME_LEVEL K: 250,000 - 299,999  3.280594e-02\n15              M   CUST_INCOME_LEVEL L: 300,000 and above -1.156867e-02\n16              M CUST_MARITAL_STATUS              Divorc.  6.732846e-02\n17              M CUST_MARITAL_STATUS              Mabsent -9.392896e-02\n18              M CUST_MARITAL_STATUS              Married  2.414774e-02\n19              M CUST_MARITAL_STATUS               NeverM -2.414206e-02\n20              M CUST_MARITAL_STATUS               Separ.  2.659496e-02\n21              M CUST_MARITAL_STATUS              Widowed -1.324921e-07\n22              M  CUST_YEAR_OF_BIRTH                      -6.207321e-01\n23              M           EDUCATION                 10th -3.305996e-02\n24              M           EDUCATION                 11th -2.110310e-01\n25              M           EDUCATION                 12th -1.765052e-01\n26              M           EDUCATION              1st-4th  3.462087e-01\n27              M           EDUCATION              5th-6th -9.042694e-03\n28              M           EDUCATION              7th-8th -3.180242e-01\n29              M           EDUCATION                  9th  1.282928e-02\n30              M           EDUCATION              < Bach. -8.454202e-02\n31              M           EDUCATION              Assoc-A  4.644634e-02\n32              M           EDUCATION              Assoc-V -1.351945e-03\n33              M           EDUCATION                Bach. -1.832365e-02\n34              M           EDUCATION              HS-grad -2.148696e-02\n35              M           EDUCATION              Masters  5.904819e-02\n36              M           EDUCATION                  PhD  1.926538e-01\n37              M           EDUCATION               Profsc  2.161813e-01\n38              M      HOUSEHOLD_SIZE                    1 -8.280626e-02\n39              M      HOUSEHOLD_SIZE                    2  5.424788e-02\n40              M      HOUSEHOLD_SIZE                    3  5.470263e-02\n41              M      HOUSEHOLD_SIZE                  6-8  4.689173e-03\n42              M      HOUSEHOLD_SIZE                   9+ -3.083342e-02\n43              M          OCCUPATION                    ? -3.174529e-02\n44              M          OCCUPATION              Armed-F -5.966992e-02\n45              M          OCCUPATION              Cleric.  4.177425e-02\n46              M          OCCUPATION               Crafts  2.936820e-02\n47              M          OCCUPATION                Exec.  2.206533e-01\n48              M          OCCUPATION              Farming  2.256248e-01\n49              M          OCCUPATION              Handler -2.835822e-02\n50              M          OCCUPATION              House-s -5.182864e-01\n51              M          OCCUPATION              Machine -2.844732e-02\n52              M          OCCUPATION                Other -9.918860e-02\n53              M          OCCUPATION                Prof.  6.156660e-03\n54              M          OCCUPATION              Protec.  5.581363e-02\n55              M          OCCUPATION                Sales  1.303405e-01\n56              M          OCCUPATION              TechSup -1.309249e-01\n57              M          OCCUPATION              Transp.  1.868894e-01\n58              M         Y_BOX_GAMES                      -6.745903e-02\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Predict on the test set and display prediction result - note the use of the top level model only","message":["%r","","RES_DF <- ore.predict(SVM_PARTITIONED_REGRESSION_MODEL, ","                      CUST_DF.test, ","                      supplemental.cols = c(\"CUST_ID\", \"YRS_RESIDENCE\") )","","z.show(head(RES_DF))"],"enabled":true,"result":{"startTime":1736279227369,"interpreter":"r.low","endTime":1736279227915,"results":[{"message":"CUST_ID\tYRS_RESIDENCE\tPREDICTION\n100003\t6\t3.86153959466658\n100006\t2\t1.90262635628896\n100008\t5\t4.24654864723995\n100010\t3\t2.98786630175208\n100014\t5\t5.09175035393478\n100015\t6\t4.95775880233581\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Predict on the test set and display prediction result - note the use of the top level model only","message":["%r","","RES_DF <- ore.predict(SVM_PARTITIONED_REGRESSION_MODEL, ","                      CUST_DF.test, ","                      supplemental.cols = c(\"CUST_ID\", \"YRS_RESIDENCE\"),","                      topN.attrs = 2)","","z.show(head(RES_DF, 5))"],"enabled":true,"result":{"startTime":1736279228345,"interpreter":"r.low","endTime":1736279228874,"results":[{"message":"CUST_ID\tYRS_RESIDENCE\tPREDICTION\n100003\t6\t3.86153959466658\n100006\t2\t1.90262635628896\n100008\t5\t4.24654864723995\n100010\t3\t2.98786630175208\n100014\t5\t5.09175035393478\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Materialize the test dataset","message":["%r","","ore.drop(table = 'SVM_TEST_DATA')","","ore.create(CUST_DF.test, table = 'SVM_TEST_DATA')"],"enabled":true,"result":{"startTime":1736279229299,"interpreter":"r.low","endTime":1736279230374,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Demonstrate using the SQL interface to score data and display prediction details","message":["%sql","","SELECT CUST_ID,"," round(PREDICTION_YRS_RES,3) PRED_YRS_RES,"," RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute1\",17,100)),'rank=\"1\"/>') FIRST_ATTRIBUTE,"," RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute2\",17,100)),'rank=\"2\"/>') SECOND_ATTRIBUTE","FROM (SELECT CUST_ID,","      PREDICTION(SVM_PARTITIONED_REGRESSION_MODEL USING *) PREDICTION_YRS_RES,","      PREDICTION_DETAILS(SVM_PARTITIONED_REGRESSION_MODEL USING *) PD","      FROM SVM_TEST_DATA","      WHERE CUST_ID < 100015","      ORDER BY CUST_ID) OUT,","      XMLTABLE('/Details'","               PASSING OUT.PD","               COLUMNS ","               \"Attribute1\" XMLType PATH 'Attribute[1]',","               \"Attribute2\" XMLType PATH 'Attribute[2]') ","      OUTPRED"],"enabled":true,"result":{"startTime":1736279230806,"interpreter":"sql.low","endTime":1736279232652,"results":[{"message":"CUST_ID\tPRED_YRS_RES\tFIRST_ATTRIBUTE\tSECOND_ATTRIBUTE\n100003\t3.862\t\"OCCUPATION\" actualValue=\"Sales\" weight=\".174\" \t\"CUST_INCOME_LEVEL\" actualValue=\"K: 250,000 - 299,999\" weight=\".098\" \n100006\t1.903\t\"OCCUPATION\" actualValue=\"Prof.\" weight=\".022\" \t\"Y_BOX_GAMES\" actualValue=\"1\" weight=\".001\" \n100008\t4.247\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1962\" weight=\".298\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".142\" \n100010\t2.988\t\"CUST_INCOME_LEVEL\" actualValue=\"L: 300,000 and above\" weight=\".018\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"9000\" weight=\".006\" \n100014\t5.092\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1954\" weight=\".805\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".084\" \n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","## End of script"],"enabled":true,"result":{"startTime":1736279233071,"interpreter":"md.low","endTime":1736279233486,"results":[{"message":"<h2 id=\"end-of-script\">End of script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":[],"enabled":true,"result":{"startTime":1736279233915,"interpreter":"md.low","endTime":1736279234320,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":true,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]