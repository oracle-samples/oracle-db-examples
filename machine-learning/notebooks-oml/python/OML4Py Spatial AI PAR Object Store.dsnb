[{"layout":null,"template":null,"templateConfig":null,"name":"OML4Py Spatial AI PAR Object Store","description":null,"readOnly":false,"type":"low","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","# PAR Object Store - Spatial AI in Oracle Machine Learning for Python (OML4Py)","","Oracle Machine Learning for Python (OML4Py) makes the Python environment ready for the enterprise. OML4Py integrates Python with Oracle Autonomous Database, enabling the use of Python for machine learning and visualization from database tables and views. Spatial AI is a feature of OML4Py providing algorithms and APIs to analyze, make predictions, and detect patterns from geospatial data. ","","In this notebook, you read spatial data from OCI Object Storage using a Preauthenticated Request (PAR). A PAR provides a user with access to an OCI bucket or object without requiring the user to supply credentials, as explained [here](https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usingpreauthenticatedrequests.htm).","","**Copyright (c) 2026 Oracle Corporation**","[The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)"],"enabled":true,"result":{"startTime":1737673854014,"interpreter":"md.low","endTime":1737673854551,"results":[{"message":"<h1 id=\"par-object-store---spatial-ai-in-oracle-machine-learning-for-python-oml4py\">PAR Object Store - Spatial AI in Oracle Machine Learning for Python (OML4Py)<\/h1>\n<p>Oracle Machine Learning for Python (OML4Py) makes the Python environment ready for the enterprise. OML4Py integrates Python with Oracle Autonomous Database, enabling the use of Python for machine learning and visualization from database tables and views. Spatial AI is a feature of OML4Py providing algorithms and APIs to analyze, make predictions, and detect patterns from geospatial data.<\/p>\n<p>In this notebook, you read spatial data from OCI Object Storage using a Preauthenticated Request (PAR). A PAR provides a user with access to an OCI bucket or object without requiring the user to supply credentials, as explained <a href=\"https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usingpreauthenticatedrequests.htm\">here<\/a>.<\/p>\n<p><strong>Copyright (c) 2026 Oracle Corporation<\/strong>\n<a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0<\/a><\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Import required libaries","message":["%python","","from oraclesai import SpatialDataFrame, PARObjStoreSpatialDataset, DBSpatialDataset, read, write","from oraclesai import SpatialError","from oraclesai import enable_geodataframes","import fiona","","enable_geodataframes(z)"," "],"enabled":true,"result":{"startTime":1737673855047,"interpreter":"python.low","endTime":1737673858642,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","For this example notebook you use a PAR providing read-only access to sample data. "],"enabled":true,"result":{"startTime":1737673859192,"interpreter":"md.low","endTime":1737673859767,"results":[{"message":"<p>For this example notebook you use a PAR providing read-only access to sample data.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Assign the PAR to a variable","message":["%python","","par_url = 'https://objectstorage.us-ashburn-1.oraclecloud.com/p/ko8wrcjVJJ78L9WbTKqYR67GoGfeUGVKPpg_lN1vXL5uBAZZaQBBilWuEMRqnQJh/n/ogcs/b/spatial_ai/o/'"],"enabled":true,"result":{"startTime":1737673860405,"interpreter":"python.low","endTime":1737673861061,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","Next you print the URL to list the sample data files. You may run the URL in another browser tab."],"enabled":true,"result":{"startTime":1737673861615,"interpreter":"md.low","endTime":1737673862101,"results":[{"message":"<p>Next you print the URL to list the sample data files. You may run the URL in another browser tab.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"URL to list the sample data files","message":["%python","","print(f'{par_url}?prefix=example_notebooks')"," "],"enabled":true,"result":{"startTime":1737673862737,"interpreter":"python.low","endTime":1737673863472,"results":[{"message":"https://objectstorage.us-ashburn-1.oraclecloud.com/p/ko8wrcjVJJ78L9WbTKqYR67GoGfeUGVKPpg_lN1vXL5uBAZZaQBBilWuEMRqnQJh/n/ogcs/b/spatial_ai/o/?prefix=example_notebooks\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","You can list the formats supported by the `PARObjStoreSpatialDataset`. The format name is used as the `driver` parameter. If the `driver` parameter is not specified then then format is inferreded from the suffix."," "],"enabled":true,"result":{"startTime":1737673864077,"interpreter":"md.low","endTime":1737673864773,"results":[{"message":"<p>You can list the formats supported by the <code>PARObjStoreSpatialDataset<\/code>. The format name is used as the <code>driver<\/code> parameter. If the <code>driver<\/code> parameter is not specified then then format is inferreded from the suffix.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"List the formats supported by ","message":["%python","","list(fiona.supported_drivers.keys())"," "],"enabled":true,"result":{"startTime":1737673865576,"interpreter":"python.low","endTime":1737673866554,"results":[{"message":"['DXF', 'CSV', 'OpenFileGDB', 'ESRIJSON', 'ESRI Shapefile', 'FlatGeobuf', 'GeoJSON', 'GeoJSONSeq', 'GML', 'OGR_GMT', 'MapInfo File', 'DGN', 'S57', 'TopoJSON']\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","","","Next you load spatial data accessed from the PAR to a GeoDataFrame using the `read()` function. In the first example the data format is ShapeFile, which is composed of several files with a common name and different suffixes. You specify the name and the read operation loads from the collection of files. You specify the format driver, however if the driver parameter is not specified, the read() operation will infer the driver from the file suffix."],"enabled":true,"result":{"startTime":1737673867302,"interpreter":"md.low","endTime":1737673868697,"results":[{"message":"<p>Next you load spatial data accessed from the PAR to a GeoDataFrame using the <code>read()<\/code> function. In the first example the data format is ShapeFile, which is composed of several files with a common name and different suffixes. You specify the name and the read operation loads from the collection of files. You specify the format driver, however if the driver parameter is not specified, the read() operation will infer the driver from the file suffix.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Create SpatialDataFrame for accidents from PAR","message":["%python","","accidents_sdf = SpatialDataFrame.create(PARObjStoreSpatialDataset(par_url, object_name='example_notebooks/chicago_accidents_shp', driver='ESRI Shapefile'))","z.show(accidents_sdf.head())"],"enabled":true,"result":{"startTime":1737673869412,"interpreter":"python.low","endTime":1737673876717,"results":[{"message":"OGR_FID\tX\tY\tREPORT_TYP\tCRASH_TYPE\tPRIM_CONTR\tDAMAGE\tNUM_UNITS\tDAMAGE_RAT\tINJURY_RAT\tYYYY\tMM\tDD\tgeometry\n833\t-9758257.0\t5156891.5\tNOT ON SCENE (DESK REPORT)\tNO INJURY / DRIVE AWAY\tUNABLE TO DETERMINE\tOVER $1,500\t2\t3\t0\t2022\t11\t17\tPOINT (-9758257.182 5156891.291)\n835\t-9758290.0\t5159921.5\tNOT ON SCENE (DESK REPORT)\tNO INJURY / DRIVE AWAY\tIMPROPER BACKING\tOVER $1,500\t2\t3\t0\t2022\t11\t17\tPOINT (-9758289.976 5159921.575)\n837\t-9766271.0\t5142421.0\tNOT ON SCENE (DESK REPORT)\tNO INJURY / DRIVE AWAY\tUNABLE TO DETERMINE\tOVER $1,500\t2\t3\t0\t2022\t11\t17\tPOINT (-9766271.119 5142421.113)\n839\t-9758104.0\t5150784.5\tON SCENE\tNO INJURY / DRIVE AWAY\tIMPROPER OVERTAKING/PASSING\t$500 OR LESS\t2\t1\t0\t2022\t11\t17\tPOINT (-9758104.073 5150784.475)\n841\t-9756532.0\t5125047.5\tON SCENE\tNO INJURY / DRIVE AWAY\tDISREGARDING TRAFFIC SIGNALS\t$501 - $1,500\t2\t2\t0\t2022\t11\t17\tPOINT (-9756532.232 5125047.566)\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Create SpatialDataFrame for schools from PAR","message":["%python","","schools_sdf = SpatialDataFrame.create(PARObjStoreSpatialDataset(par_url, object_name='example_notebooks/OSM_LA_SCHOOLS.geojson', driver='GeoJSON'))","z.show(schools_sdf.head()) "],"enabled":true,"result":{"startTime":1737673877251,"interpreter":"python.low","endTime":1737673878192,"results":[{"message":"NAME\tID\tgeometry\nPalm Crest Elementary School\t358790275\tPOINT (-118.218 34.222)\nPanorama Baptist School\t358790361\tPOINT (-118.436 34.229)\nParadise Canyon Elementary School\t358790368\tPOINT (-118.189 34.209)\nFrank D Parent Elementary School\t358790387\tPOINT (-118.375 33.983)\nPark Western Elementary School\t358790402\tPOINT (-118.304 33.753)\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","Now that the data are loaded to SpatialDataFrames, you could continue a workflow, for example writing them to Oracle Spatial tables and appyling spatial algorithms.","","`PARObjStoreSpatialDataset` also supports `write()` so that you can save results to Object Storage using a PAR with write prividge."],"enabled":true,"result":{"startTime":1737673878732,"interpreter":"md.low","endTime":1737673879279,"results":[{"message":"<p>Now that the data are loaded to SpatialDataFrames, you could continue a workflow, for example writing them to Oracle Spatial tables and appyling spatial algorithms.<\/p>\n<p><code>PARObjStoreSpatialDataset<\/code> also supports <code>write()<\/code> so that you can save results to Object Storage using a PAR with write prividge.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","## End of Script"," "],"enabled":true,"result":{"startTime":1737673879771,"interpreter":"md.low","endTime":1737673880477,"results":[{"message":"<h2 id=\"end-of-script\">End of Script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":"{}","row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]