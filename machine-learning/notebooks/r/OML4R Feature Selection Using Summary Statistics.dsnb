[{"layout":null,"template":null,"templateConfig":null,"name":"OML4R Feature Selection Using Summary Statistics","description":null,"readOnly":false,"type":"medium","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1715709181436,"interpreter":"md.medium","endTime":1715709181594,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","# OML4R Feature Selection Using Summary Statistics","","In this notebook, we demonstrate how to perform feature selection using summary statistics via OML4R.","","Using the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance, we show how to use OML4R to select features based on number of distinct values, null values, proportion of constant values.","","The dataset `CUSTOMER_INSURANCE_LTV_R` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.","","---","##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.","---","","Copyright (c) 2024 Oracle Corporation ","###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a>","---"],"enabled":true,"result":{"startTime":1715709181673,"interpreter":"md.medium","endTime":1715709181756,"results":[{"message":"<h1 id=\"oml4r-feature-selection-using-summary-statistics\">OML4R Feature Selection Using Summary Statistics<\/h1>\n<p>In this notebook, we demonstrate how to perform feature selection using summary statistics via OML4R.<\/p>\n<p>Using the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance, we show how to use OML4R to select features based on number of distinct values, null values, proportion of constant values.<\/p>\n<p>The dataset <code>CUSTOMER_INSURANCE_LTV_R<\/code> is generated by the <code>&quot;OML Run-me-first&quot;<\/code> notebook, which <code>MUST<\/code> be run before this notebook.<\/p>\n<hr />\n<h5 id=\"important-the-oml-run-me-first-notebook-is-available-under-the-menu-templates---examples-and-is-a-pre-requisite-to-the-current-notebook\"><code>IMPORTANT<\/code>: The <code>&quot;OML Run-me-first&quot;<\/code> notebook is available under the menu Templates -&gt; Examples and is a pre-requisite to the current notebook.<\/h5>\n<hr />\n<p>Copyright (c) 2024 Oracle Corporation<\/p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a><\/h6>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For more information...","message":["%md","","* <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a>","* <a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a>","* <a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a>","* <a href=\"https://www.oracle.com/goto/ml-classification\" target=\"_blank\">OML Classification<\/a>","* <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oreug/preparing-data-in-database-using-ORE.html\" target=\"_blank\">OML4R Data Preparation<\/a>"],"enabled":true,"result":{"startTime":1715709181840,"interpreter":"md.medium","endTime":1715709182111,"results":[{"message":"<ul>\n<li><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a><\/li>\n<li><a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a><\/li>\n<li><a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a><\/li>\n<li><a href=\"https://www.oracle.com/goto/ml-classification\" target=\"_blank\">OML Classification<\/a><\/li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oreug/preparing-data-in-database-using-ORE.html\" target=\"_blank\">OML4R Data Preparation<\/a><\/li>\n<\/ul>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Load ORE packages","message":["%r","","library(ORE)","library(OREdplyr)","options(ore.warn.order=FALSE)"],"enabled":true,"result":{"startTime":1715709182187,"interpreter":"r.medium","endTime":1715709186886,"results":[{"message":"\nAttaching package: \u2018OREdplyr\u2019\n\n\nThe following objects are masked from \u2018package:dplyr\u2019:\n\n    arrange, arrange_, count, count_, cume_dist, dense_rank, desc,\n    distinct, distinct_, filter, filter_, first, full_join, group_by,\n    group_by_, group_size, groups, inner_join, last, left_join,\n    min_rank, mutate, mutate_, n, n_distinct, n_groups, nth, ntile,\n    percent_rank, rename, rename_, right_join, row_number, sample_frac,\n    sample_n, select, select_, slice, slice_, summarise, summarise_,\n    tally, top_n, transmute, transmute_, ungroup\n\n\nThe following object is masked from \u2018package:stats\u2019:\n\n    filter\n\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Get proxy object for CUSTOMER_INSURANCE_LTV table","message":["%r","","ore.sync(table = 'CUSTOMER_INSURANCE_LTV_R', use.keys= FALSE)","ore.attach()","","","CUSTOMER_INSURANCE_LTV <- CUSTOMER_INSURANCE_LTV_R","","row.names(CUSTOMER_INSURANCE_LTV) <- CUSTOMER_INSURANCE_LTV$CUSTOMER_ID","","numRows <- nrow(CUSTOMER_INSURANCE_LTV)"],"enabled":true,"result":{"startTime":1715709186973,"interpreter":"r.medium","endTime":1715709187972,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display a few rows from the table","message":["%r","","z.show(head(CUSTOMER_INSURANCE_LTV), 10)"],"enabled":true,"result":{"startTime":1715709188052,"interpreter":"r.medium","endTime":1715709188235,"results":[{"message":"MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nNA\tWA                        \tNA\t4\t24250\tNA\t1\t1\tNA\tCU1                       \tF                         \tIT Staff\t900\tWest\t2\t4200\tYes\t1\t0\t59\t61.27\t38527\t8893\t5\t25\t7\tVERY HIGH\tDORRIS\t2\t1\tTHANOS\nNA\tMN                        \tNA\t4\t2500\tNA\t6\t1\tNA\tCU10                      \tF                         \tPROF-35\t800\tWest\t1\t750\tNo\t7\t0\t73\t56.01\t19390.25\t60429\t1\t25\t6\tMEDIUM\tDWANA\t1\t1\tTHANOS\nNA\tNY                        \tNA\t1\t1500\tNA\t1\t1\tNA\tCU1000                    \tM                         \tNot specified\t500\tNorthEast\t1\t1500\tNo\t1\t0\t35\t53.18\t22046.25\t547\t1\t33\t3\tHIGH\tLANCE\t1\t1\tTHANOS\nNA\tCA                        \tNA\t3\t1000\tNA\t3\t1\tNA\tCU10000                   \tM                         \tProgrammer/Developer\t1000\tWest\t1\t1000\tYes\t3\t1\t26\t53.61\t21035\t386\t2\t25\t4\tMEDIUM\tELISHA\t1\t1\tTHANOS\nNA\tFL                        \tNA\t1\t3000\tNA\t1\t0\tNA\tCU10001                   \tM                         \tIT Staff\t1000\tSouth\t1\t3000\tNo\t1\t1\t44\t53.08\t30020.5\t259\t1\t25\t1\tVERY HIGH\tLONNY\t1\t1\tTHANOS\nNA\tMI                        \tNA\t4\t2600\tNA\t3\t1\tNA\tCU10003                   \tF                         \tIT Staff\t1000\tMidwest\t1\t2600\tNo\t1\t1\t46\t53.05\t23354\t0\t1\t25\t2\tHIGH\tSHERRYL\t1\t1\tTHANOS\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Identify categorical columns","message":["%r","","cat_cols <- names(CUSTOMER_INSURANCE_LTV)[mapply(is.factor, CUSTOMER_INSURANCE_LTV)]","cat_cols"],"enabled":true,"result":{"startTime":1715709188310,"interpreter":"r.medium","endTime":1715709188429,"results":[{"message":"<style>\n.list-inline {list-style: none; margin:0; padding: 0}\n.list-inline>li {display: inline-block}\n.list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n<\/style>\n<ol class=list-inline><li>'MARITAL_STATUS'<\/li><li>'STATE'<\/li><li>'CUSTOMER_ID'<\/li><li>'GENDER'<\/li><li>'PROFESSION'<\/li><li>'REGION'<\/li><li>'BUY_INSURANCE'<\/li><li>'LTV_BIN'<\/li><li>'FIRST_NAME'<\/li><li>'LAST_NAME'<\/li><\/ol>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Identify numeric columns","message":["%r","","num_cols <- names(CUSTOMER_INSURANCE_LTV)[mapply(Negate(is.factor), CUSTOMER_INSURANCE_LTV)]","num_cols"],"enabled":true,"result":{"startTime":1715709188506,"interpreter":"r.medium","endTime":1715709188625,"results":[{"message":"<style>\n.list-inline {list-style: none; margin:0; padding: 0}\n.list-inline>li {display: inline-block}\n.list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n<\/style>\n<ol class=list-inline><li>'CREDIT_BALANCE'<\/li><li>'CUSTOMER_TENURE'<\/li><li>'MORTGAGE_AMOUNT'<\/li><li>'BANK_FUNDS'<\/li><li>'NUM_DEPENDENTS'<\/li><li>'HAS_CHILDREN'<\/li><li>'INCOME'<\/li><li>'CREDIT_CARD_LIMITS'<\/li><li>'HOME_OWNERSHIP'<\/li><li>'NUM_ONLINE_TRANS'<\/li><li>'MONTHLY_CHECKS'<\/li><li>'NUM_TRANS_KIOSK'<\/li><li>'AGE'<\/li><li>'MONEY_MONTLY_OVERDRAWN'<\/li><li>'LTV'<\/li><li>'TOTAL_AUTOM_PAYMENTS'<\/li><li>'NUM_TRANS_TELLER'<\/li><li>'CHECKING_BALANCE'<\/li><li>'NUM_TRANS_ATM'<\/li><li>'NUM_MORTGAGES'<\/li><li>'CAR_OWNERSHIP'<\/li><\/ol>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Check the unique values in each column","message":["%r","","unique_counts <- mapply(OREdplyr::n_distinct,CUSTOMER_INSURANCE_LTV)","","unique_counts_df <- as.data.frame(unique_counts)","unique_counts_df$rownames <- rownames(unique_counts_df)","colnames(unique_counts_df) <- c('CNT', 'FEATURE')","z.show(unique_counts_df)"],"enabled":true,"result":{"startTime":1715709188700,"interpreter":"r.medium","endTime":1715709192523,"results":[{"message":"CNT\tFEATURE\n8\tMARITAL_STATUS\n24\tSTATE\n964\tCREDIT_BALANCE\n5\tCUSTOMER_TENURE\n1763\tMORTGAGE_AMOUNT\n1179\tBANK_FUNDS\n7\tNUM_DEPENDENTS\n2\tHAS_CHILDREN\n6375\tINCOME\n13880\tCUSTOMER_ID\n2\tGENDER\n100\tPROFESSION\n33\tCREDIT_CARD_LIMITS\n5\tREGION\n3\tHOME_OWNERSHIP\n1504\tNUM_ONLINE_TRANS\n2\tBUY_INSURANCE\n19\tMONTHLY_CHECKS\n11\tNUM_TRANS_KIOSK\n69\tAGE\n870\tMONEY_MONTLY_OVERDRAWN\n12453\tLTV\n5071\tTOTAL_AUTOM_PAYMENTS\n10\tNUM_TRANS_TELLER\n2798\tCHECKING_BALANCE\n9\tNUM_TRANS_ATM\n4\tLTV_BIN\n3740\tFIRST_NAME\n3\tNUM_MORTGAGES\n2\tCAR_OWNERSHIP\n1348\tLAST_NAME\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":"Filter categorical 'identifier' columns - filter out columns with > 95% unique values","message":["%r","","ratio <- 0.95","threshold <- numRows*ratio","unique_cat_cols <- unique_counts[cat_cols]","selected_cat_cols <- names(unique_cat_cols)[unique_cat_cols < threshold & unique_cat_cols > 1]","selected_cat_cols","length(selected_cat_cols)"],"enabled":true,"result":{"startTime":1715709192596,"interpreter":"r.medium","endTime":1715709192728,"results":[{"message":"<style>\n.list-inline {list-style: none; margin:0; padding: 0}\n.list-inline>li {display: inline-block}\n.list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n<\/style>\n<ol class=list-inline><li>'MARITAL_STATUS'<\/li><li>'STATE'<\/li><li>'CUSTOMER_ID'<\/li><li>'GENDER'<\/li><li>'PROFESSION'<\/li><li>'REGION'<\/li><li>'BUY_INSURANCE'<\/li><li>'LTV_BIN'<\/li><li>'FIRST_NAME'<\/li><li>'LAST_NAME'<\/li><\/ol>\n\n","type":"HTML"},{"message":"10","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"To confirm selected column is not an 'identifier',  use summary function to display unique values","message":["%r","","options(width = 500)","summary(CUSTOMER_INSURANCE_LTV[selected_cat_cols], maxsum = 30)"],"enabled":true,"result":{"startTime":1715709192899,"interpreter":"r.medium","endTime":1715709193710,"results":[{"message":"  MARITAL_STATUS                        STATE                          CUSTOMER_ID                           GENDER                         PROFESSION         REGION     BUY_INSURANCE      LTV_BIN        FIRST_NAME        LAST_NAME    \n SINGLE  :2530   NY                        :4837   CU10027                   :    2   M                         :10177   Programmer/Developer    :2397   NorthEast:5280   No :10864     HIGH     :7127   LOGAN   :   20   THANOS   :12829  \n MARRIED :2393   CA                        :3157   CU1004                    :    2   F                         : 4703   IT Staff                :1153   West     :4201   Yes: 4016     MEDIUM   :4910   JAYSON  :   19   HARE     :    6  \n DIVORCED:2063   MI                        :2594   CU10090                   :    2                                      Clerical                : 599   Midwest  :3264                 VERY HIGH:1425   LACY    :   19   RUSSO    :    6  \n WIDOWED : 475   FL                        : 606   CU10093                   :    2                                      Nurse                   : 598   South    :1123                 LOW      :1418   JIM     :   18   BERNIER  :    5  \n M       : 359   NV                        : 521   CU1010                    :    2                                      Not specified           : 459   Southwest:1012                                  LAURENCE:   18   CALDWELL :    5  \n DIV     : 337   MN                        : 489   CU1021                    :    2                                      Author                  : 458                                                   ROBERTO :   18   DELATORRE:    5  \n OTHER   :  96   DC                        : 443   CU10213                   :    2                                      Cashier                 : 450                                                   SETH    :   18   DENNIS   :    5  \n NA's    :6627   UT                        : 335   CU10236                   :    2                                      Administrative Assistant: 447                                                   TITUS   :   18   DILLON   :    5  \n                 IL                        : 261   CU10240                   :    2                                      Waiter/Waitress         : 444                                                   WILLARD :   18   ECHOLS   :    5  \n                 OR                        : 253   CU10253                   :    2                                      Construction Laborer    : 417                                                   ALEC    :   17   ANGEL    :    4  \n                 NC                        : 252   CU10259                   :    2                                      Truck Driver            : 360                                                   ANTONIA :   17   AVILES   :    4  \n                 MS                        : 176   CU10342                   :    2                                      Veterinarian            : 283                                                   IRA     :   17   BRADSHAW :    4  \n                 WA                        : 166   CU10356                   :    2                                      Software Engineer       : 255                                                   JOEY    :   17   CAMERON  :    4  \n                 WI                        : 161   CU10367                   :    2                                      Sales Representative    : 250                                                   MELVIN  :   17   CONNORS  :    4  \n                 OH                        : 141   CU10370                   :    2                                      Lab Technician          : 245                                                   MERRILL :   17   CURRAN   :    4  \n                 CO                        : 117   CU10429                   :    2                                      First-line Manager      : 240                                                   ALTON   :   16   DENNY    :    4  \n                 TX                        :  92   CU10490                   :    2                                      Administrator           : 224                                                   BARRY   :   16   GOLDEN   :    4  \n                 MO                        :  56   CU10499                   :    2                                      Bank Teller             : 208                                                   BERNARD :   16   GRANTHAM :    4  \n                 NM                        :  51   CU10501                   :    2                                      Technical Writer        : 206                                                   BURTON  :   16   HATCH    :    4  \n                 OK                        :  51   CU1051                    :    2                                      Publisher               : 197                                                   CARL    :   16   HEATH    :    4  \n                 AL                        :  48   CU10514                   :    2                                      Law Enforcement Officer : 190                                                   EMMANUEL:   16   JEAN     :    4  \n                 LA                        :  41   CU10518                   :    2                                      Fireman                 : 188                                                   ERVIN   :   16   LEARY    :    4  \n                 AK                        :  19   CU10526                   :    2                                      Dentist                 : 178                                                   HIRAM   :   16   LIPSCOMB :    4  \n                 AZ                        :  13   CU10557                   :    2                                      School Teacher          : 170                                                   LELAND  :   16   LUDWIG   :    4  \n                                                   CU10604                   :    2                                      Secretary               : 161                                                   LEONEL  :   16   NAVA     :    4  \n                                                   CU10629                   :    2                                      DBA                     : 148                                                   LINWOOD :   16   OHARA    :    4  \n                                                   CU10639                   :    2                                      Mason                   : 147                                                   ROLANDO :   16   PARNELL  :    4  \n                                                   CU10645                   :    2                                      Accountant              : 141                                                   TYLER   :   16   SAUNDERS :    4  \n                                                   CU10650                   :    2                                      Medical Doctor          : 136                                                   WARNER  :   16   SHERIDAN :    4  \n                                                   (Other)                   :14822                                      (Other)                 :3531                                                   (Other) :14388   (Other)  : 1929  ","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Create an OML dataframe with selected features only","message":["%r","","SELECTED_CAT_DF <- CUSTOMER_INSURANCE_LTV[selected_cat_cols]","z.show(head(SELECTED_CAT_DF))"],"enabled":true,"result":{"startTime":1715709193794,"interpreter":"r.medium","endTime":1715709193983,"results":[{"message":"MARITAL_STATUS\tSTATE\tCUSTOMER_ID\tGENDER\tPROFESSION\tREGION\tBUY_INSURANCE\tLTV_BIN\tFIRST_NAME\tLAST_NAME\nNA\tWA                        \tCU1                       \tF                         \tIT Staff\tWest\tYes\tVERY HIGH\tDORRIS\tTHANOS\nNA\tMN                        \tCU10                      \tF                         \tPROF-35\tWest\tNo\tMEDIUM\tDWANA\tTHANOS\nNA\tNY                        \tCU1000                    \tM                         \tNot specified\tNorthEast\tNo\tHIGH\tLANCE\tTHANOS\nNA\tCA                        \tCU10000                   \tM                         \tProgrammer/Developer\tWest\tYes\tMEDIUM\tELISHA\tTHANOS\nNA\tFL                        \tCU10001                   \tM                         \tIT Staff\tSouth\tNo\tVERY HIGH\tLONNY\tTHANOS\nNA\tMI                        \tCU10003                   \tF                         \tIT Staff\tMidwest\tNo\tHIGH\tSHERRYL\tTHANOS\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For all columns, identify columns with > 40% missing values","message":["%r","","ratio <- 0.4","threshold <- numRows*ratio","count_na <- as.list(colSums(is.na(CUSTOMER_INSURANCE_LTV)))","count_na <- Filter(function(x) any(x>threshold), count_na)","many_missing_cols <- names(count_na)","many_missing_cols"],"enabled":true,"result":{"startTime":1715709194056,"interpreter":"r.medium","endTime":1715709195956,"results":[{"message":"<style>\n.list-inline {list-style: none; margin:0; padding: 0}\n.list-inline>li {display: inline-block}\n.list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n<\/style>\n<ol class=list-inline><li>'MARITAL_STATUS'<\/li><li>'CREDIT_BALANCE'<\/li><li>'BANK_FUNDS'<\/li><li>'INCOME'<\/li><\/ol>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Filter 'constant' columns - those with > 90% same values","message":["%r","","ratio <- 0.90","threshold <- numRows*ratio","tables <- mapply(table,CUSTOMER_INSURANCE_LTV)","tables <- Filter(function(x) any(x>threshold), tables)","major_constant_cols <- names(tables)","major_constant_cols"],"enabled":true,"result":{"startTime":1715709196042,"interpreter":"r.medium","endTime":1715709198046,"results":[{"message":"'CAR_OWNERSHIP'","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Create an OML dataframe with 'constant' columns and missing value columns filtered out","message":["%r","","filtered_cols <- c(many_missing_cols,major_constant_cols)","selected_cat_cols_final <- setdiff((selected_cat_cols),(filtered_cols))","SELECTED_DF <- CUSTOMER_INSURANCE_LTV[selected_cat_cols_final]","z.show(head(SELECTED_DF))"],"enabled":true,"result":{"startTime":1715709198122,"interpreter":"r.medium","endTime":1715709198308,"results":[{"message":"STATE\tCUSTOMER_ID\tGENDER\tPROFESSION\tREGION\tBUY_INSURANCE\tLTV_BIN\tFIRST_NAME\tLAST_NAME\nWA                        \tCU1                       \tF                         \tIT Staff\tWest\tYes\tVERY HIGH\tDORRIS\tTHANOS\nMN                        \tCU10                      \tF                         \tPROF-35\tWest\tNo\tMEDIUM\tDWANA\tTHANOS\nNY                        \tCU1000                    \tM                         \tNot specified\tNorthEast\tNo\tHIGH\tLANCE\tTHANOS\nCA                        \tCU10000                   \tM                         \tProgrammer/Developer\tWest\tYes\tMEDIUM\tELISHA\tTHANOS\nFL                        \tCU10001                   \tM                         \tIT Staff\tSouth\tNo\tVERY HIGH\tLONNY\tTHANOS\nMI                        \tCU10003                   \tF                         \tIT Staff\tMidwest\tNo\tHIGH\tSHERRYL\tTHANOS\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Build a Naive Bayes Classification model to predict who will purchase insurance using the selected attributes","message":["%r","","mod <- ore.odmNB(BUY_INSURANCE~., SELECTED_DF)","mod"],"enabled":true,"result":{"startTime":1715709198385,"interpreter":"r.medium","endTime":1715709203586,"results":[{"message":"\nCall:\nore.odmNB(formula = BUY_INSURANCE ~ ., data = SELECTED_DF)\n\nSettings: \n                                               value\nclas.weights.balanced                            OFF\nodms.details                             odms.enable\nodms.missing.value.treatment odms.missing.value.auto\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","## End of script"],"enabled":true,"result":{"startTime":1715709203664,"interpreter":"md.medium","endTime":1715709203724,"results":[{"message":"<h2 id=\"end-of-script\">End of script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1715709203807,"interpreter":"md.medium","endTime":1715709203866,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]