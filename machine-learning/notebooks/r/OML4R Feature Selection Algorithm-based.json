{
  "paragraphs": [
    {
      "text": "%md\n\n## OML4R Feature Selection: Supervised Algorithm\n\nIn this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms via OML4R.\n\nUsing the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance, we build a random forest model to predict whether the customer by insurance or not, then use feature importance to perform feature selection. \n\nThe dataset `CUSTOMER_INSURANCE_LTV` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\n\n---\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.\n---\n\nCopyright (c) 2022 Oracle Corporation \n###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a>\n---\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:16:44+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h2>OML4R Feature Selection: Supervised Algorithm</h2>\n<p>In this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms via OML4R.</p>\n<p>Using the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance, we build a random forest model to predict whether the customer by insurance or not, then use feature importance to perform feature selection.</p>\n<p>The dataset <code>CUSTOMER_INSURANCE_LTV</code> is generated by the <code>\"OML Run-me-first\"</code> notebook, which <code>MUST</code> be run before this notebook.</p>\n<hr />\n<h5><code>IMPORTANT</code>: The <code>\"OML Run-me-first\"</code> notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.</h5>\n<hr />\n<p>Copyright (c) 2022 Oracle Corporation</p>\n<h6><a href=\"https: //oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_541284277",
      "id": "20220624-190336_182185739",
      "dateCreated": "2022-06-21T19:56:22+0000",
      "dateStarted": "2022-07-29T19:16:44+0000",
      "dateFinished": "2022-07-29T19:16:46+0000",
      "status": "FINISHED",
      "focus": true,
      "$$hashKey": "object:41"
    },
    {
      "text": "%md\nOracle ADW Documentation: <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html');\">https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html</a>\nOML folder on Oracle Github: <a href=\"https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick=\"return ! window.open('https://github.com/oracle/oracle-db-examples/tree/master/machine-learning');\">https://github.com/oracle/oracle-db-examples/tree/master/machine-learning</a>\nOML web page: <a href=\"https://www.oracle.com/machine-learning\" onclick=\"return ! window.open('https://www.oracle.com/machine-learning');\">https://www.oracle.com/machine-learning</a>\nOML Classification: <a href=\"https://www.oracle.com/goto/ml-classification\" onclick=\"return ! window.open('https://www.oracle.com/goto/ml-classification');\">https://www.oracle.com/goto/ml-classification</a>\nOML Random Forest: <a href=\"https://oracle.com/goto/ml-random-forest\" onclick=\"return ! window.open('https://oracle.com/goto/ml-random-forest');\">https://oracle.com/goto/ml-random-forest</a>\nOML4Py Documentation for Random Forest: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html');\">https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html</a>",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:16:46+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>Oracle ADW Documentation: <a href=\"https: //docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html');\">https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html</a>\n<br  />OML folder on Oracle Github: <a href=\"https: //github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick=\"return ! window.open('https://github.com/oracle/oracle-db-examples/tree/master/machine-learning');\">https://github.com/oracle/oracle-db-examples/tree/master/machine-learning</a>\n<br  />OML web page: <a href=\"https: //www.oracle.com/machine-learning\" onclick=\"return ! window.open('https://www.oracle.com/machine-learning');\">https://www.oracle.com/machine-learning</a>\n<br  />OML Classification: <a href=\"https: //www.oracle.com/goto/ml-classification\" onclick=\"return ! window.open('https://www.oracle.com/goto/ml-classification');\">https://www.oracle.com/goto/ml-classification</a>\n<br  />OML Random Forest: <a href=\"https: //oracle.com/goto/ml-random-forest\" onclick=\"return ! window.open('https://oracle.com/goto/ml-random-forest');\">https://oracle.com/goto/ml-random-forest</a>\n<br  />OML4Py Documentation for Random Forest: <a href=\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html');\">https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html</a></p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-1324261370",
      "id": "20220624-190336_462600080",
      "dateCreated": "2022-06-21T19:56:39+0000",
      "dateStarted": "2022-07-29T19:16:46+0000",
      "dateFinished": "2022-07-29T19:16:46+0000",
      "status": "FINISHED",
      "$$hashKey": "object:42"
    },
    {
      "title": "Import libraries and set display options",
      "text": "%r\n\nlibrary(ORE)\nlibrary(lattice)\noptions(ore.warn.order=FALSE)",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:16:46+0000",
      "progress": 0,
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_1187430442",
      "id": "20220624-190336_1346746426",
      "dateCreated": "2022-05-31T22:23:47+0000",
      "dateStarted": "2022-07-29T19:16:46+0000",
      "dateFinished": "2022-07-29T19:17:01+0000",
      "status": "FINISHED",
      "$$hashKey": "object:43"
    },
    {
      "title": "Get a proxy object to the CUSTOMER_INSURANCE_LTV table and assign rownames for row indexing",
      "text": "%r\n\nore.sync(table = 'CUSTOMER_INSURANCE_LTV', use.keys= TRUE)\nore.attach()\nrownames(CUSTOMER_INSURANCE_LTV) <- CUSTOMER_INSURANCE_LTV$CUSTOMER_ID",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:01+0000",
      "progress": 0,
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {
          "1": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "number",
                      "STATE": "number",
                      "CREDIT_BALANCE": "number",
                      "CUSTOMER_TENURE": "number",
                      "MORTGAGE_AMOUNT": "number",
                      "BANK_FUNDS": "number",
                      "NUM_DEPENDENTS": "number",
                      "HAS_CHILDREN": "number",
                      "INCOME": "number",
                      "CUSTOMER_ID": "number",
                      "GENDER": "number",
                      "PROFESSION": "number",
                      "CREDIT_CARD_LIMITS": "number",
                      "REGION": "number",
                      "HOME_OWNERSHIP": "number",
                      "NUM_ONLINE_TRANS": "number",
                      "BUY_INSURANCE": "number",
                      "MONTHLY_CHECKS": "number",
                      "NUM_TRANS_KIOSK": "number",
                      "AGE": "number",
                      "MONEY_MONTLY_OVERDRAWN": "number",
                      "LTV": "number",
                      "TOTAL_AUTOM_PAYMENTS": "number",
                      "NUM_TRANS_TELLER": "number",
                      "CHECKING_BALANCE": "number",
                      "NUM_TRANS_ATM": "number",
                      "LTV_BIN": "number",
                      "FIRST_NAME": "number",
                      "NUM_MORTGAGES": "number",
                      "CAR_OWNERSHIP": "number",
                      "LAST_NAME": "number"
                    }
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-1448733943",
      "id": "20220624-190336_1250923575",
      "dateCreated": "2022-05-31T22:24:49+0000",
      "dateStarted": "2022-07-29T19:17:01+0000",
      "dateFinished": "2022-07-29T19:17:02+0000",
      "status": "FINISHED",
      "$$hashKey": "object:44"
    },
    {
      "title": "Display a few rows from CUSTOMER_INSURANCE_LTV table",
      "text": "%r\n\nz.show(head(CUSTOMER_INSURANCE_LTV))\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:02+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "number",
                      "STATE": "number",
                      "CREDIT_BALANCE": "number",
                      "CUSTOMER_TENURE": "number",
                      "MORTGAGE_AMOUNT": "number",
                      "BANK_FUNDS": "number",
                      "NUM_DEPENDENTS": "number",
                      "HAS_CHILDREN": "number",
                      "INCOME": "number",
                      "CUSTOMER_ID": "number",
                      "GENDER": "number",
                      "PROFESSION": "number",
                      "CREDIT_CARD_LIMITS": "number",
                      "REGION": "number",
                      "HOME_OWNERSHIP": "number",
                      "NUM_ONLINE_TRANS": "number",
                      "BUY_INSURANCE": "number",
                      "MONTHLY_CHECKS": "number",
                      "NUM_TRANS_KIOSK": "number",
                      "AGE": "number",
                      "MONEY_MONTLY_OVERDRAWN": "number",
                      "LTV": "number",
                      "TOTAL_AUTOM_PAYMENTS": "number",
                      "NUM_TRANS_TELLER": "number",
                      "CHECKING_BALANCE": "number",
                      "NUM_TRANS_ATM": "number",
                      "LTV_BIN": "number",
                      "FIRST_NAME": "number",
                      "NUM_MORTGAGES": "number",
                      "CAR_OWNERSHIP": "number",
                      "LAST_NAME": "number"
                    }
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          },
          "1": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "number",
                      "STATE": "number",
                      "CREDIT_BALANCE": "number",
                      "CUSTOMER_TENURE": "number",
                      "MORTGAGE_AMOUNT": "number",
                      "BANK_FUNDS": "number",
                      "NUM_DEPENDENTS": "number",
                      "HAS_CHILDREN": "number",
                      "INCOME": "number",
                      "CUSTOMER_ID": "number",
                      "GENDER": "number",
                      "PROFESSION": "number",
                      "CREDIT_CARD_LIMITS": "number",
                      "REGION": "number",
                      "HOME_OWNERSHIP": "number",
                      "NUM_ONLINE_TRANS": "number",
                      "BUY_INSURANCE": "number",
                      "MONTHLY_CHECKS": "number",
                      "NUM_TRANS_KIOSK": "number",
                      "AGE": "number",
                      "MONEY_MONTLY_OVERDRAWN": "number",
                      "LTV": "number",
                      "TOTAL_AUTOM_PAYMENTS": "number",
                      "NUM_TRANS_TELLER": "number",
                      "CHECKING_BALANCE": "number",
                      "NUM_TRANS_ATM": "number",
                      "LTV_BIN": "number",
                      "FIRST_NAME": "number",
                      "NUM_MORTGAGES": "number",
                      "CAR_OWNERSHIP": "number",
                      "LAST_NAME": "number"
                    }
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nOTHER\tWA                        \t0\t4\t24250\t26200\t1\t1\t70508\tCU1                       \tF                         \tIT Staff\t900\tWest\t2\t4200\tYes\t1\t0\t59\t61.27\t38527\t8893\t5\t25\t7\tVERY HIGH\tDORRIS\t2\t1\tHOPKINS\nDIVORCED\tMN                        \t57844\t4\t2500\t4350\t6\t1\t68361\tCU10                      \tF                         \tPROF-35\t800\tWest\t1\t750\tNo\t7\t0\t73\t56.01\t19390.25\t60429\t1\t25\t6\tMEDIUM\tDWANA\t1\t1\tWINN\nMARRIED\tNY                        \t0\t1\t1500\t0\t1\t1\t60185\tCU1000                    \tM                         \tNot specified\t500\tNorthEast\t1\t1500\tNo\t1\t0\t35\t53.18\t22046.25\t547\t1\t33\t3\tHIGH\tLANCE\t1\t1\tBURDEN\nMARRIED\tCA                        \t0\t3\t1000\t650\t3\t1\t71740\tCU10000                   \tM                         \tProgrammer/Developer\t1000\tWest\t1\t1000\tYes\t3\t1\t26\t53.61\t21035\t386\t2\t25\t4\tMEDIUM\tELISHA\t1\t1\tHYDE\nDIVORCED\tFL                        \t0\t1\t3000\t0\t1\t0\t68482\tCU10001                   \tM                         \tIT Staff\t1000\tSouth\t1\t3000\tNo\t1\t1\t44\t53.08\t30020.5\t259\t1\t25\t1\tVERY HIGH\tLONNY\t1\t1\tFAIRCHILD\nDIVORCED\tMI                        \t0\t4\t2600\t0\t3\t1\t71016\tCU10003                   \tF                         \tIT Staff\t1000\tMidwest\t1\t2600\tNo\t1\t1\t46\t53.05\t23354\t0\t1\t25\t2\tHIGH\tSHERRYL\t1\t1\tBAGGETT\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-193167653",
      "id": "20220624-190336_528058842",
      "dateCreated": "2022-06-21T19:57:31+0000",
      "dateStarted": "2022-07-29T19:17:03+0000",
      "dateFinished": "2022-07-29T19:17:03+0000",
      "status": "FINISHED",
      "$$hashKey": "object:45"
    },
    {
      "title": "Create Train and Test (60/40 split) datasets",
      "text": "%r\n\nset.seed(2)\nsampleSize <- nrow(CUSTOMER_INSURANCE_LTV)*.4\nind <- sample(1:nrow(CUSTOMER_INSURANCE_LTV),sampleSize)\ngroup <- as.integer(1:nrow(CUSTOMER_INSURANCE_LTV) %in% ind)\n\nCUSTOMER_INSURANCE_LTV.train <- CUSTOMER_INSURANCE_LTV[group==FALSE,]\nCUSTOMER_INSURANCE_LTV.test <- CUSTOMER_INSURANCE_LTV[group==TRUE,]\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:03+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-1294212032",
      "id": "20220624-190336_299471762",
      "dateCreated": "2022-06-22T23:33:25+0000",
      "dateStarted": "2022-07-29T19:17:03+0000",
      "dateFinished": "2022-07-29T19:17:04+0000",
      "status": "FINISHED",
      "$$hashKey": "object:46"
    },
    {
      "title": "Apply Attribute Importance algorithm to obtain the attribute importance",
      "text": "%r\n\nai_mod <- ore.odmAI(BUY_INSURANCE ~., CUSTOMER_INSURANCE_LTV.train)\n\nai_mod$importance$variable <- row.names(ai_mod$importance)\nz.show(ai_mod$importance)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:04+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "importance": "number",
                      "rank": "number",
                      "variable": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          },
          "1": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "importance": "number",
                      "rank": "number",
                      "variable": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "stackedAreaChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "importance",
                  "index": 0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "rank",
                  "index": 1,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "importance\trank\tvariable\n0.209333217976261\t1\tBANK_FUNDS\n0.150952228029964\t2\tMONEY_MONTLY_OVERDRAWN\n0.150295332663922\t3\tNUM_TRANS_ATM\n0.11324307283782\t4\tNUM_TRANS_TELLER\n0.111830226045908\t5\tTOTAL_AUTOM_PAYMENTS\n0.0892722533095141\t6\tMONTHLY_CHECKS\n0.0259473661529411\t7\tNUM_DEPENDENTS\n0.0190565008234718\t8\tCHECKING_BALANCE\n0.0187666923125637\t9\tCUSTOMER_TENURE\n0.0129675690090682\t10\tPROFESSION\n0.0115914195514507\t11\tNUM_ONLINE_TRANS\n0.0106902493086205\t12\tMORTGAGE_AMOUNT\n0.00918825019262612\t13\tMARITAL_STATUS\n0.00844914330389529\t14\tGENDER\n0.00815643656426859\t15\tCREDIT_BALANCE\n0.00746300819291594\t16\tCAR_OWNERSHIP\n0.00709615394441698\t17\tAGE\n0.00688497162277466\t18\tNUM_MORTGAGES\n0.0068610517700381\t19\tHOME_OWNERSHIP\n0.00527062042595214\t20\tLTV\n0.00499569922943549\t21\tNUM_TRANS_KIOSK\n0.00462042345888602\t22\tCREDIT_CARD_LIMITS\n0.00456283351851396\t23\tHAS_CHILDREN\n0\t24\tLAST_NAME\n0\t24\tSTATE\n0\t24\tINCOME\n0\t24\tREGION\n0\t24\tFIRST_NAME\n0\t24\tCUSTOMER_ID\n0\t24\tLTV_BIN\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-1869505052",
      "id": "20220624-190336_1814064635",
      "dateCreated": "2022-06-21T20:01:12+0000",
      "dateStarted": "2022-07-29T19:17:04+0000",
      "dateFinished": "2022-07-29T19:17:05+0000",
      "status": "FINISHED",
      "$$hashKey": "object:47"
    },
    {
      "title": "Get the top attributes from Attribute Importance algorithm greater than threshold value",
      "text": "%r\n\nthreshold <- 0.089\nfeatures <- rownames(ai_mod$importance)[ai_mod$importance$importance >= threshold]\n\nz.show(head(ai_mod$importance, n = 10))\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:05+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "importance": "number",
                      "rank": "number",
                      "variable": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "variable",
                  "index": 2,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "importance",
                  "index": 0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          },
          "1": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300,
              "optionOpen": true,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "importance": "number",
                      "rank": "number",
                      "variable": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "variable",
                  "index": 2,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "importance",
                  "index": 0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "importance\trank\tvariable\n0.209333217976261\t1\tBANK_FUNDS\n0.150952228029964\t2\tMONEY_MONTLY_OVERDRAWN\n0.150295332663922\t3\tNUM_TRANS_ATM\n0.11324307283782\t4\tNUM_TRANS_TELLER\n0.111830226045908\t5\tTOTAL_AUTOM_PAYMENTS\n0.0892722533095141\t6\tMONTHLY_CHECKS\n0.0259473661529411\t7\tNUM_DEPENDENTS\n0.0190565008234718\t8\tCHECKING_BALANCE\n0.0187666923125637\t9\tCUSTOMER_TENURE\n0.0129675690090682\t10\tPROFESSION\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_571584437",
      "id": "20220624-190336_1513648740",
      "dateCreated": "2022-05-31T22:39:22+0000",
      "dateStarted": "2022-07-29T19:17:06+0000",
      "dateFinished": "2022-07-29T19:17:06+0000",
      "status": "FINISHED",
      "$$hashKey": "object:48"
    },
    {
      "title": "Include the target variable to attribute vector",
      "text": "%r\n\nfeatures <- c(features, \"BUY_INSURANCE\")\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:06+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-238156758",
      "id": "20220624-190336_165414816",
      "dateCreated": "2022-05-31T22:41:19+0000",
      "dateStarted": "2022-07-29T19:17:06+0000",
      "dateFinished": "2022-07-29T19:17:06+0000",
      "status": "FINISHED",
      "$$hashKey": "object:49"
    },
    {
      "title": "Create a new ORE Frame with top attributes for predicting the target variable",
      "text": "%r\n\nDF_NEW <- subset(CUSTOMER_INSURANCE_LTV.train, select = features)\nz.show(head(DF_NEW))\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:06+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "BANK_FUNDS": "number",
                      "MONEY_MONTLY_OVERDRAWN": "number",
                      "NUM_TRANS_ATM": "number",
                      "NUM_TRANS_TELLER": "number",
                      "TOTAL_AUTOM_PAYMENTS": "number",
                      "MONTHLY_CHECKS": "number",
                      "BUY_INSURANCE": "number"
                    }
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "BANK_FUNDS\tMONEY_MONTLY_OVERDRAWN\tNUM_TRANS_ATM\tNUM_TRANS_TELLER\tTOTAL_AUTOM_PAYMENTS\tMONTHLY_CHECKS\tBUY_INSURANCE\n26200\t61.27\t7\t5\t8893\t1\tYes\n650\t53.61\t4\t2\t386\t3\tYes\n0\t53.08\t1\t1\t259\t1\tNo\n0\t53.05\t2\t1\t0\t1\tNo\n0\t53.06\t0\t1\t0\t0\tNo\n300\t53.13\t2\t2\t198\t10\tYes\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_1930550441",
      "id": "20220624-190336_1422147594",
      "dateCreated": "2022-05-31T22:54:54+0000",
      "dateStarted": "2022-07-29T19:17:06+0000",
      "dateFinished": "2022-07-29T19:17:07+0000",
      "status": "FINISHED",
      "$$hashKey": "object:50"
    },
    {
      "title": "Build a Naive Bayes model to predict who will purchase insurance using the top attributes",
      "text": "%r\n\nmod <- ore.odmNB(BUY_INSURANCE~., DF_NEW)\nmod\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:07+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nCall:\nore.odmNB(formula = BUY_INSURANCE ~ ., data = DF_NEW)\n\nSettings: \n                                               value\nclas.weights.balanced                            OFF\nodms.details                             odms.enable\nodms.missing.value.treatment odms.missing.value.auto\nodms.sampling                  odms.sampling.disable\nprep.auto                                         ON"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_831845304",
      "id": "20220624-190336_996454620",
      "dateCreated": "2022-05-31T22:55:54+0000",
      "dateStarted": "2022-07-29T19:17:07+0000",
      "dateFinished": "2022-07-29T19:17:08+0000",
      "status": "FINISHED",
      "$$hashKey": "object:51"
    },
    {
      "title": "",
      "text": "%md\n\n## End of script",
      "user": "OMLUSER",
      "dateUpdated": "2022-07-29T19:17:08+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 12,
        "editorHide": true,
        "title": false,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h2>End of script</h2>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656097416932_-1501175307",
      "id": "20220624-190336_584474246",
      "dateCreated": "2022-05-31T22:56:39+0000",
      "dateStarted": "2022-07-29T19:17:08+0000",
      "dateFinished": "2022-07-29T19:17:08+0000",
      "status": "FINISHED",
      "$$hashKey": "object:52"
    }
  ],
  "name": "OML4R Feature Selection Algorithm-based",
  "id": "18930",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  },
  "path": "/OML4R Feature Selection Algorithm-based"
}