{
  "paragraphs": [
    {
      "text": "%md\r\n## OML4Py Data Cleaning: Recode Synonymous Values\r\nIn this notebook, we demonstrate how to recode synonymous value using OML4Py.\r\n\r\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\n\r\nThe dataset `CUSTOMER_INSURANCE_LTV_PY` has special values generated by the `\"OML Run-me-first\"` notebook artificially, which `MUST` be run before this notebook.  Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as \u0027M\u0027. \r\n\r\n---\r\n\r\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\r\n\r\n---\r\n\r\n\r\nCopyright (c) 2022 Oracle Corporation \r\n###### \u003ca href\u003d\"https://oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\r\n---",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:03+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eOML4Py Data Cleaning: Recode Synonymous Values\u003c/h2\u003e\n\u003cp\u003eIn this notebook, we demonstrate how to recode synonymous value using OML4Py.\u003c/p\u003e\n\u003cp\u003eWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\u003c/p\u003e\n\u003cp\u003eThe dataset \u003ccode\u003eCUSTOMER_INSURANCE_LTV_PY\u003c/code\u003e has special values generated by the \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook artificially, which \u003ccode\u003eMUST\u003c/code\u003e be run before this notebook.  Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as \u0027M\u0027.\u003c/p\u003e\n\u003chr /\u003e\n\u003ch5\u003e\u003ccode\u003eIMPORTANT\u003c/code\u003e: The \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\u003c/h5\u003e\n\u003chr /\u003e\n\u003cp\u003eCopyright (c) 2022 Oracle Corporation\u003c/p\u003e\n\u003ch6\u003e\u003ca href\u003d\"https: //oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\u003c/h6\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_964877235",
      "id": "20220124-201422_1697066550",
      "dateCreated": "2020-12-16T17:54:40+0000",
      "dateStarted": "2022-03-10T16:56:04+0000",
      "dateFinished": "2022-03-10T16:56:05+0000",
      "status": "FINISHED"
    },
    {
      "title": "For more information ...",
      "text": "%md\n\nOML4Py documentation on Data Preparation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html \u003c/a\u003e",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:05+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cp\u003eOML4Py documentation on Data Preparation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html \u003c/a\u003e\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_-1110360111",
      "id": "20220124-201422_530793396",
      "dateCreated": "2020-12-17T18:33:47+0000",
      "dateStarted": "2022-03-10T16:56:06+0000",
      "dateFinished": "2022-03-10T16:56:06+0000",
      "status": "FINISHED"
    },
    {
      "title": "Import libraries and set display options",
      "text": "%python\n\nimport warnings\nwarnings.filterwarnings(\u0027ignore\u0027)\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option(\u0027display.max_rows\u0027, 500)\npd.set_option(\u0027display.max_columns\u0027, 500)\npd.set_option(\u0027display.width\u0027, 1000)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:06+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_1120366293",
      "id": "20220124-201422_375221641",
      "dateCreated": "2020-12-10T04:48:27+0000",
      "dateStarted": "2022-03-10T16:56:07+0000",
      "dateFinished": "2022-03-10T16:56:16+0000",
      "status": "FINISHED"
    },
    {
      "title": "Get proxy object for CUSTOMER_INSURANCE_LTV_PY table",
      "text": "%python\n\nCUST_DF \u003d oml.sync(table \u003d \u0027CUSTOMER_INSURANCE_LTV_PY\u0027)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:16+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_263101435",
      "id": "20220124-201422_1566181951",
      "dateCreated": "2020-12-10T04:48:12+0000",
      "dateStarted": "2022-03-10T16:56:17+0000",
      "dateFinished": "2022-03-10T16:56:17+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check the distinct values",
      "text": "%python\n\nz.show(CUST_DF.crosstab([\u0027MARITAL_STATUS\u0027]))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "count": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tcount\nSINGLE\t2530\nNone\t6627\nDIVORCED\t2063\nM\t359\nWIDOWED\t475\nOTHER\t96\nDIV\t337\nMARRIED\t2393\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_-1943313847",
      "id": "20220124-201422_22075708",
      "dateCreated": "2020-12-10T04:49:18+0000",
      "dateStarted": "2022-03-10T16:56:18+0000",
      "dateFinished": "2022-03-10T16:56:19+0000",
      "status": "FINISHED"
    },
    {
      "title": "Recode the synonymous values \u0027M\u0027 and \u0027DIV\u0027",
      "text": "%python\n\nCUST_DF \u003d CUST_DF.replace(old \u003d [\u0027M\u0027, \u0027DIV\u0027, None], new \u003d [\u0027MARRIED\u0027, \u0027DIVORCED\u0027, \u0027UNKNOWN\u0027],  columns \u003d [\u0027MARITAL_STATUS\u0027])\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:19+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_1963571947",
      "id": "20220124-201422_82547777",
      "dateCreated": "2020-12-15T19:33:31+0000",
      "dateStarted": "2022-03-10T16:56:19+0000",
      "dateFinished": "2022-03-10T16:56:20+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check the recoded values",
      "text": "%python\n\nz.show(CUST_DF.crosstab([\u0027MARITAL_STATUS\u0027]))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:20+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "count": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tcount\nSINGLE\t2530\nDIVORCED\t2400\nUNKNOWN\t6627\nWIDOWED\t475\nOTHER\t96\nMARRIED\t2752\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_1992413162",
      "id": "20220124-201422_2041024624",
      "dateCreated": "2020-12-15T19:39:57+0000",
      "dateStarted": "2022-03-10T16:56:20+0000",
      "dateFinished": "2022-03-10T16:56:21+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:21+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch1\u003eEnd of Script\u003c/h1\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_220860742",
      "id": "20220124-201422_1956738697",
      "dateCreated": "2020-12-15T19:41:03+0000",
      "dateStarted": "2022-03-10T16:56:22+0000",
      "dateFinished": "2022-03-10T16:56:22+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T16:56:22+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055262416_-954830623",
      "id": "20220124-201422_1933559832",
      "dateCreated": "2020-12-15T19:43:32+0000",
      "dateStarted": "2022-03-10T16:56:22+0000",
      "dateFinished": "2022-03-10T16:56:22+0000",
      "status": "FINISHED"
    }
  ],
  "name": "OML4Py Data Cleaning Recode Synonymous Values",
  "id": "101032",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "MDW381939C745:shared_process": [],
    "ORA7A60DC9B32:shared_process": []
  },
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  }
}