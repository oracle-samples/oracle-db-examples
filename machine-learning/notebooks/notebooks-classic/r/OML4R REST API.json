{
  "paragraphs": [
    {
      "text": "%md\n\n# OML4R REST API for invoking embedded R execution\n\nOn Oracle Autonomous Database, OML4R contains a REST API to run user-defined R functions saved in the script repository. REST APIs can be called from a web development application, improving the portability of the interface to other types of platforms, increasing project scalability, and allowing components to evolve independently. Use the OML4R REST API to invoke user-defined R functions and to list those available in the R script repository.\n\nTo run a script, it must reside in the R script repository. An Oracle Machine Learning cloud service account **username** and **password** must be provided for authentication.\n\n### **REST API Workflow**\n\nIn this workflow, we highlight a few of the features of the REST API:\n\n- Authenticating the database user and obtaining a token\n- Loading a database table into the database\n- Saving scripts in the database R script repository\n- Executing the saved R scripts from the REST API using both synchronous and asynchronous modes\n\n\nCopyright (c) 2022 Oracle Corporation \n###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a>\n---",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:53+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h1>OML4R REST API for invoking embedded R execution</h1>\n<p>On Oracle Autonomous Database, OML4R contains a REST API to run user-defined R functions saved in the script repository. REST APIs can be called from a web development application, improving the portability of the interface to other types of platforms, increasing project scalability, and allowing components to evolve independently. Use the OML4R REST API to invoke user-defined R functions and to list those available in the R script repository.</p>\n<p>To run a script, it must reside in the R script repository. An Oracle Machine Learning cloud service account <strong>username</strong> and <strong>password</strong> must be provided for authentication.</p>\n<h3><strong>REST API Workflow</strong></h3>\n<p>In this workflow, we highlight a few of the features of the REST API:</p>\n<ul>\n<li>Authenticating the database user and obtaining a token</li>\n<li>Loading a database table into the database</li>\n<li>Saving scripts in the database R script repository</li>\n<li>Executing the saved R scripts from the REST API using both synchronous and asynchronous modes</li>\n</ul>\n<p>Copyright (c) 2022 Oracle Corporation</p>\n<h6><a href=\"https: //oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656527029473_1173963281",
      "id": "paragraph_1656527029473_1173963281",
      "dateCreated": "2022-06-29T18:23:49+0000",
      "dateStarted": "2022-08-01T15:40:53+0000",
      "dateFinished": "2022-08-01T15:40:54+0000",
      "status": "FINISHED",
      "focus": true,
      "$$hashKey": "object:41"
    },
    {
      "text": "%md\n\nOracle ADW Documentation <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html');\">https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html</a>\nOML folder on Oracle Github : <a href=\"https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick=\"return ! window.open('https://github.com/oracle/oracle-db-examples/tree/master/machine-learning');\">https://github.com/oracle/oracle-db-examples/tree/master/machine-learning</a>\nOML web page: <a href=\"https://www.oracle.com/machine-learning\" onclick=\"return ! window.open('https://www.oracle.com/machine-learning');\">https://www.oracle.com/machine-learning</a>\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:54+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>Oracle ADW Documentation <a href=\"https: //docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html');\">https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html</a>\n<br  />OML folder on Oracle Github : <a href=\"https: //github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick=\"return ! window.open('https://github.com/oracle/oracle-db-examples/tree/master/machine-learning');\">https://github.com/oracle/oracle-db-examples/tree/master/machine-learning</a>\n<br  />OML web page: <a href=\"https: //www.oracle.com/machine-learning\" onclick=\"return ! window.open('https://www.oracle.com/machine-learning');\">https://www.oracle.com/machine-learning</a></p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656529081682_711893843",
      "id": "paragraph_1656529081682_711893843",
      "dateCreated": "2022-06-29T18:58:01+0000",
      "dateStarted": "2022-08-01T15:40:55+0000",
      "dateFinished": "2022-08-01T15:40:55+0000",
      "status": "FINISHED",
      "$$hashKey": "object:42"
    },
    {
      "title": "REST  API Authentication",
      "text": "%md\n\nTo authenticate and obtain a token, use **cURL** with the **-d** option to pass the credentials for your Oracle Machine Learning account against the Oracle Machine Learning user management cloud service REST endpoint */oauth2/v1/token*. \n\n    $ curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"grant_type\":\"password\", \"username\":\"'<yourusername>'\", \n    \"password\":\"' <yourpassword>'\"}' \"<oml-cloud-service-url>/omlusers/api/oauth2/v1/token\"\n    \nwhere   \n\n* _-X POST_ specifies to use a POST request when communicating with the HTTP server\n* _--header_ defines the headers required for the request (application/json)\n* _-d <data>_ sends the username and password authentication credentials as data in a POST request to the HTTP server\n* _Content-Type_ and _Accept_ define the response format (JSON)\n* _yourusername_ is the user name of a Oracle Machine Learning user with the default OML_DEVELOPER role\n* _yourpassword_ is the password for the user name\n* _oml-cloud-service-url_ is the REST server portion of the Oracle Machine Learning user management cloud service instance\n\nFor example, Oracle Machine Learning user **OMLUSER** with password **OMLPASSWD** and cloud service url **https://qtraya2braestch-omldb.adb.us-sanjose-1.oraclecloudapps.com** authenticates and obtain a REST token using the \nfollowing approach:\n\n\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:55+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>To authenticate and obtain a token, use <strong>cURL</strong> with the <strong>-d</strong> option to pass the credentials for your Oracle Machine Learning account against the Oracle Machine Learning user management cloud service REST endpoint <em>/oauth2/v1/token</em>.</p>\n<pre><code>$ curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"grant_type\":\"password\", \"username\":\"'&lt;yourusername&gt;'\", \n\"password\":\"' &lt;yourpassword&gt;'\"}' \"&lt;oml-cloud-service-url&gt;/omlusers/api/oauth2/v1/token\"\n</code></pre>\n<p>where</p>\n<ul>\n<li><em>-X POST</em> specifies to use a POST request when communicating with the HTTP server</li>\n<li><em>&ndash;header</em> defines the headers required for the request (application/json)</li>\n<li><em>-d <data></em> sends the username and password authentication credentials as data in a POST request to the HTTP server</li>\n<li><em>Content-Type</em> and <em>Accept</em> define the response format (JSON)</li>\n<li><em>yourusername</em> is the user name of a Oracle Machine Learning user with the default OML_DEVELOPER role</li>\n<li><em>yourpassword</em> is the password for the user name</li>\n<li><em>oml-cloud-service-url</em> is the REST server portion of the Oracle Machine Learning user management cloud service instance</li>\n</ul>\n<p>For example, Oracle Machine Learning user <strong>OMLUSER</strong> with password <strong>OMLPASSWD</strong> and cloud service url <strong>https://qtraya2braestch-omldb.adb.us-sanjose-1.oraclecloudapps.com</strong> authenticates and obtain a REST token using the\n<br  />following approach:</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_1591536456",
      "id": "20220623-161723_1399434472",
      "dateCreated": "2022-05-31T16:09:40+0000",
      "dateStarted": "2022-08-01T15:40:55+0000",
      "dateFinished": "2022-08-01T15:40:55+0000",
      "status": "FINISHED",
      "$$hashKey": "object:43"
    },
    {
      "text": "%md\n_____________________________________________________________________________________________________________________________________________________________________________________________________________________________________________\nExport the OML cloud service URL to the environment variable `omlserver`, the OML username to environment variable `username`, and the password to environment variable `password`, then exchange the OML user credentials for an access token using a `cURL` command.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:55+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Export the OML cloud service URL to the environment variable <code>omlserver</code>, the OML username to environment variable <code>username</code>, and the password to environment variable <code>password</code>, then exchange the OML user credentials for an access token using a <code>cURL</code> command.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_1905844832",
      "id": "20220623-161723_1484466688",
      "dateCreated": "2022-05-31T16:12:01+0000",
      "dateStarted": "2022-08-01T15:40:55+0000",
      "dateFinished": "2022-08-01T15:40:55+0000",
      "status": "FINISHED",
      "$$hashKey": "object:44"
    },
    {
      "text": "\n$ export omlserver=https://qtraya2braestch-omldb.adb.us-sanjose-1.oraclecloudapps.com\n$ export username=OMLUSER\n$ export password=OMLPASSWD\n\n$ curl -i -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"grant_type\":\"password\", \"username\":\"'${username}'\", \"password\":\"'${password}'\"}' \"${omlserver}/omlusers/api/oauth2/v1/token\"\n\n  HTTP/1.1 200 OK\n  Date: Wed, 09 Mar 2022 21:59:16 GMT\n  Content-Type: application/json\n  Content-Length: 1027\n  Connection: keep-alive\n  Cache-Control: no-cache, no-store, private\n  X-Frame-Options: SAMEORIGIN\n  X-XSS-Protection: 1;mode=block\n  Strict-Transport-Security: max-age=31536000; includeSubDomains\n  X-Content-Type-Options: nosniff\n\n  {\"accessToken\":\"eyJhbGciOiJ...\",\"expiresIn\":3600,\"tokenType\":\"Bearer\"}\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:55+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_790298776",
      "id": "20220623-161723_998641399",
      "dateCreated": "2022-05-31T16:12:44+0000",
      "status": "FINISHED",
      "$$hashKey": "object:45"
    },
    {
      "text": "%md\n_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________\n\nCopy the `accessToken` field from the response and assign it to variable token, surrounded by single quotes. A token has a lifecycle of 3600 seconds, or 1 hour, and it can be refreshed for up to 8 hours.",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Copy the <code>accessToken</code> field from the response and assign it to variable token, surrounded by single quotes. A token has a lifecycle of 3600 seconds, or 1 hour, and it can be refreshed for up to 8 hours.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-930644239",
      "id": "20220623-161723_627848632",
      "dateCreated": "2022-05-31T16:13:01+0000",
      "dateStarted": "2022-08-01T15:40:56+0000",
      "dateFinished": "2022-08-01T15:40:56+0000",
      "status": "FINISHED",
      "$$hashKey": "object:46"
    },
    {
      "text": "\n$ export token='eyJhbGciOiJ...'\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-506519748",
      "id": "20220623-161723_1006420753",
      "dateCreated": "2022-05-31T16:13:47+0000",
      "status": "FINISHED",
      "$$hashKey": "object:47"
    },
    {
      "title": "Load an R data frame to an Oracle Database table",
      "text": "%md\n\nUsing the `ore.create` function, create an OML proxy object `IRIS_R` from the `iris` data frame. The OML proxy object `IRIS_R` represents a database table. We first drop the table if already exists.\n\nThe `ore.warn.order` option specifies whether you want OML4R to display a warning message when using an ore.frame object. We turn off turn the warnings off so they do not appear in the output, and display the first 6 rows of the `IRIS_R` proxy object. ",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>Using the <code>ore.create</code> function, create an OML proxy object <code>IRIS_R</code> from the <code>iris</code> data frame. The OML proxy object <code>IRIS_R</code> represents a database table. We first drop the table if already exists.</p>\n<p>The <code>ore.warn.order</code> option specifies whether you want OML4R to display a warning message when using an ore.frame object. We turn off turn the warnings off so they do not appear in the output, and display the first 6 rows of the <code>IRIS_R</code> proxy object.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_461296596",
      "id": "20220623-161723_978765124",
      "dateCreated": "2022-05-31T16:13:53+0000",
      "dateStarted": "2022-08-01T15:40:56+0000",
      "dateFinished": "2022-08-01T15:40:56+0000",
      "status": "FINISHED",
      "$$hashKey": "object:48"
    },
    {
      "title": "",
      "text": "%r \n\noptions(ore.warn.order=FALSE)\n\nsuppressWarnings(ore.drop(table=\"IRIS_REST\"))\n\nore.create(iris, table=\"IRIS_REST\")\n\nz.show(head(IRIS_REST))\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:40:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": false,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "Sepal.Length": "number",
                      "Sepal.Width": "number",
                      "Petal.Length": "number",
                      "Petal.Width": "number",
                      "Species": "number"
                    }
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "Sepal.Length\tSepal.Width\tPetal.Length\tPetal.Width\tSpecies\n4.6\t3.6\t1\t0.2\tsetosa\n4.3\t3\t1.1\t0.1\tsetosa\n5\t3.2\t1.2\t0.2\tsetosa\n5.8\t4\t1.2\t0.2\tsetosa\n4.4\t3\t1.3\t0.2\tsetosa\n4.4\t3.2\t1.3\t0.2\tsetosa\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-2030791276",
      "id": "20220623-161723_833393999",
      "dateCreated": "2022-05-31T16:14:08+0000",
      "dateStarted": "2022-08-01T15:40:57+0000",
      "dateFinished": "2022-08-01T15:41:11+0000",
      "status": "FINISHED",
      "$$hashKey": "object:49"
    },
    {
      "title": "Create an R function and save it to the R script repository",
      "text": "%md\n_____________________________________________________________________________________________________________________________________________________________________________________________________________________________\n\nCreate a function `group.countR` that returns the counts for each category in the `SPECIES` column.  Save the `group.countR` function to the R script repository using `ore.scriptCreate`, overwriting any existing script with the same name. The script is invoked from the R interface, followed by the OML4R R and REST APIs for embedded R execution.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:11+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Create a function <code>group.countR</code> that returns the counts for each category in the <code>SPECIES</code> column.  Save the <code>group.countR</code> function to the R script repository using <code>ore.scriptCreate</code>, overwriting any existing script with the same name. The script is invoked from the R interface, followed by the OML4R R and REST APIs for embedded R execution.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_675140877",
      "id": "20220623-161723_1974056759",
      "dateCreated": "2022-05-31T16:14:56+0000",
      "dateStarted": "2022-08-01T15:41:12+0000",
      "dateFinished": "2022-08-01T15:41:12+0000",
      "status": "FINISHED",
      "$$hashKey": "object:50"
    },
    {
      "text": "%r\n\ngroup.countR <- function(df) {\n    x <- aggregate(df[, \"Species\"], by=list(df$Species), FUN=length)\n    names(x) <- c(\"SPECIES\", \"COUNT\")\n    return(x)}\n    \n\nore.scriptCreate(\"group.countR\", group.countR, overwrite=TRUE)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:12+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656534279240_377321646",
      "id": "paragraph_1656534279240_377321646",
      "dateCreated": "2022-06-29T20:24:39+0000",
      "dateStarted": "2022-08-01T15:41:12+0000",
      "dateFinished": "2022-08-01T15:41:12+0000",
      "status": "FINISHED",
      "$$hashKey": "object:51"
    },
    {
      "title": "View the  script in the R script repository",
      "text": "%md\n\nTo check for the existence of the saved `group.countR` script from the OML4R R interface, run the function `ore.scriptList`. We set the `type` parameter to `user` to show only the scripts created by the current user.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:12+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>To check for the existence of the saved <code>group.countR</code> script from the OML4R R interface, run the function <code>ore.scriptList</code>. We set the <code>type</code> parameter to <code>user</code> to show only the scripts created by the current user.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656630724765_995577731",
      "id": "paragraph_1656630724765_995577731",
      "dateCreated": "2022-06-30T23:12:04+0000",
      "dateStarted": "2022-08-01T15:41:12+0000",
      "dateFinished": "2022-08-01T15:41:12+0000",
      "status": "FINISHED",
      "$$hashKey": "object:52"
    },
    {
      "title": "",
      "text": "%r\n\nore.scriptList(name = \"group.countR\", type=\"user\")\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:12+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": false,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<table class=\"dataframe\">\n<caption>A data.frame: 1 x 2</caption>\n<thead>\n\t<tr><th scope=col>NAME</th><th scope=col>SCRIPT</th></tr>\n\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n</thead>\n<tbody>\n\t<tr><td>group.countR</td><td><span style=white-space:pre-wrap>function (df) \n{\n    x &lt;- aggregate(df[, \"Species\"], by = list(df$Species), FUN = length)\n    names(x) &lt;- c(\"SPECIES\", \"COUNT\")\n    return(x)\n}</span></td></tr>\n</tbody>\n</table>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-2135348185",
      "id": "20220623-161723_680531672",
      "dateCreated": "2022-06-13T18:20:18+0000",
      "dateStarted": "2022-08-01T15:41:13+0000",
      "dateFinished": "2022-08-01T15:41:13+0000",
      "status": "FINISHED",
      "$$hashKey": "object:53"
    },
    {
      "title": "Run the script in R",
      "text": "%r\n\ngroup.countR(iris)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:13+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<table class=\"dataframe\">\n<caption>A data.frame: 3 x 2</caption>\n<thead>\n\t<tr><th scope=col>SPECIES</th><th scope=col>COUNT</th></tr>\n\t<tr><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n</thead>\n<tbody>\n\t<tr><td>setosa    </td><td>50</td></tr>\n\t<tr><td>versicolor</td><td>50</td></tr>\n\t<tr><td>virginica </td><td>50</td></tr>\n</tbody>\n</table>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656536030653_1937702766",
      "id": "paragraph_1656536030653_1937702766",
      "dateCreated": "2022-06-29T20:53:50+0000",
      "dateStarted": "2022-08-01T15:41:13+0000",
      "dateFinished": "2022-08-01T15:41:13+0000",
      "status": "FINISHED",
      "$$hashKey": "object:54"
    },
    {
      "title": "Run the script using groupApply",
      "text": "%md\n\nThe `groupApply` function runs a user-defined function on data grouped by a specified column in the database environment. In this case, the grouping column is `Species` and the script is `group.countR`.",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:13+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>The <code>groupApply</code> function runs a user-defined function on data grouped by a specified column in the database environment. In this case, the grouping column is <code>Species</code> and the script is <code>group.countR</code>.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656629361943_278947294",
      "id": "paragraph_1656629361943_278947294",
      "dateCreated": "2022-06-30T22:49:21+0000",
      "dateStarted": "2022-08-01T15:41:13+0000",
      "dateFinished": "2022-08-01T15:41:13+0000",
      "status": "FINISHED",
      "$$hashKey": "object:55"
    },
    {
      "title": "",
      "text": "%r\n\nore.groupApply(IRIS_REST, INDEX=IRIS_REST$Species, FUN.NAME=\"group.countR\")\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:13+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": false,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<table class=\"dataframe\">\n<caption>A data.frame: 3 x 2</caption>\n<thead>\n\t<tr><th scope=col>SPECIES</th><th scope=col>COUNT</th></tr>\n\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n</thead>\n<tbody>\n\t<tr><td>setosa    </td><td>50</td></tr>\n\t<tr><td>versicolor</td><td>50</td></tr>\n\t<tr><td>virginica </td><td>50</td></tr>\n</tbody>\n</table>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656536395350_1042296153",
      "id": "paragraph_1656536395350_1042296153",
      "dateCreated": "2022-06-29T20:59:55+0000",
      "dateStarted": "2022-08-01T15:41:14+0000",
      "dateFinished": "2022-08-01T15:41:14+0000",
      "status": "FINISHED",
      "$$hashKey": "object:56"
    },
    {
      "text": "%md\n\n### **Synchronous REST API calls**",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:14+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h3><strong>Synchronous REST API calls</strong></h3>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656542786487_2078497676",
      "id": "paragraph_1656542786487_2078497676",
      "dateCreated": "2022-06-29T22:46:26+0000",
      "dateStarted": "2022-08-01T15:41:15+0000",
      "dateFinished": "2022-08-01T15:41:15+0000",
      "status": "FINISHED",
      "$$hashKey": "object:57"
    },
    {
      "title": "View script in the R script repository using REST",
      "text": "%md\n__________________________________________________________________________________________________________________________________________________________________________________________________________________________\nVerify the existence of `group.countR` in the script repository again, this time using the REST API with `cURL`.  Send a GET request to the `scripts` endpoint, and the scripts available to the OML user are returned in JSON format.\n\nNote, the default REST API execution mode is *synchronous*, so code execution will wait for the REST API call to return before additional calls may be initiated. \n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:15+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Verify the existence of <code>group.countR</code> in the script repository again, this time using the REST API with <code>cURL</code>.  Send a GET request to the <code>scripts</code> endpoint, and the scripts available to the OML user are returned in JSON format.</p>\n<p>Note, the default REST API execution mode is <em>synchronous</em>, so code execution will wait for the REST API call to return before additional calls may be initiated.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_1904962126",
      "id": "20220623-161723_618699371",
      "dateCreated": "2022-06-13T18:21:36+0000",
      "dateStarted": "2022-08-01T15:41:15+0000",
      "dateFinished": "2022-08-01T15:41:15+0000",
      "status": "FINISHED",
      "$$hashKey": "object:58"
    },
    {
      "text": "\n$ curl -X GET --header \"Authorization: Bearer ${token}\" --header 'Accept: application/json' \"${omlserver}/oml/api/r-scripts/v1/scripts\" | jq  \n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:15+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656542718702_193637422",
      "id": "paragraph_1656542718702_193637422",
      "dateCreated": "2022-06-29T22:45:18+0000",
      "status": "FINISHED",
      "$$hashKey": "object:59"
    },
    {
      "text": "%md\n\nThe result is shown below. The Linux command line JSON parser `jq` is used to format the returned value. To install `jq` on your Linux REST client, run the command **sudo yum install jq**.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:15+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>The result is shown below. The Linux command line JSON parser <code>jq</code> is used to format the returned value. To install <code>jq</code> on your Linux REST client, run the command <strong>sudo yum install jq</strong>.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656628581574_1396620954",
      "id": "paragraph_1656628581574_1396620954",
      "dateCreated": "2022-06-30T22:36:21+0000",
      "dateStarted": "2022-08-01T15:41:15+0000",
      "dateFinished": "2022-08-01T15:41:15+0000",
      "status": "FINISHED",
      "$$hashKey": "object:60"
    },
    {
      "text": "\n{\n  \"result\": [\n    {\n      \"SCRIPT\": \"function (df) \\n{\\n    x <- aggregate(df[, \\\"Species\\\"], by = list(df$Species), FUN = length)\\n  names(x) <- c(\\\"SPECIES\\\", \\\"COUNT\\\")\\n  return(x)\\n}\",\n      \"NAME\": \"group.countR\"\n    }\n  ]\n}\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:16+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656541154678_814315054",
      "id": "paragraph_1656541154678_814315054",
      "dateCreated": "2022-06-29T22:19:14+0000",
      "status": "FINISHED",
      "$$hashKey": "object:61"
    },
    {
      "title": "Run the script from the REST API",
      "text": "%md\n\nNow invoke the `group.countR` function from the REST API using the `group-apply` endpoint, setting `parallelFlag` to `true` to leverage database parallelism.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:16+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>Now invoke the <code>group.countR</code> function from the REST API using the <code>group-apply</code> endpoint, setting <code>parallelFlag</code> to <code>true</code> to leverage database parallelism.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-343312572",
      "id": "20220623-161723_1899193685",
      "dateCreated": "2022-06-13T18:23:01+0000",
      "dateStarted": "2022-08-01T15:41:16+0000",
      "dateFinished": "2022-08-01T15:41:16+0000",
      "status": "FINISHED",
      "$$hashKey": "object:62"
    },
    {
      "text": "\n\n$ curl -i -X POST --header \"Authorization: Bearer ${token}\" --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"input\":\"IRIS\",\"groupBy\":\"Species\",\"parallelFlag\":true}' \"${omlserver}/oml/api/r-scripts/v1/group-apply/group.countR\"\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:16+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656631441980_1753707040",
      "id": "paragraph_1656631441980_1753707040",
      "dateCreated": "2022-06-30T23:24:01+0000",
      "status": "FINISHED",
      "$$hashKey": "object:63"
    },
    {
      "text": "%md\n\nThe result of the REST call is a JSON representation of the value returned from the R script. Integers, vectors, lists, matrices, arrays, and data frames are supported. The returned value is:\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:16+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>The result of the REST call is a JSON representation of the value returned from the R script. Integers, vectors, lists, matrices, arrays, and data frames are supported. The returned value is:</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656541134669_470719994",
      "id": "paragraph_1656541134669_470719994",
      "dateCreated": "2022-06-29T22:18:54+0000",
      "dateStarted": "2022-08-01T15:41:17+0000",
      "dateFinished": "2022-08-01T15:41:17+0000",
      "status": "FINISHED",
      "$$hashKey": "object:64"
    },
    {
      "text": "\n{\"result\":[{\"SPECIES\":\"setosa\",\"COUNT\":50},{\"SPECIES\":\"versicolor\",\"COUNT\":50},{\"SPECIES\":\"virginica\",\"COUNT\":50}]\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:17+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656612651026_2116576647",
      "id": "paragraph_1656612651026_2116576647",
      "dateCreated": "2022-06-30T18:10:51+0000",
      "status": "FINISHED",
      "$$hashKey": "object:65"
    },
    {
      "text": "%md\n\n## Asynchronous REST API calls\n\nAsynchronous calls do not wait for the result to return from the server. If the R script is performing long running computations, results will not be immediate and the user may want to use asynchronous calls to continue development on the client. \n\nThe asynchronous call's returned results are included in the response header. Display the response header by passing the `-i` flag to the `cURL` command. Asynchronous calls have a default timeout of 1800 seconds, or 30 minutes, and can be extended up to 12 hours. Set the `asyncFlag` to `true` to run asynchronous calls from the REST API.\n\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:17+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h2>Asynchronous REST API calls</h2>\n<p>Asynchronous calls do not wait for the result to return from the server. If the R script is performing long running computations, results will not be immediate and the user may want to use asynchronous calls to continue development on the client.</p>\n<p>The asynchronous call's returned results are included in the response header. Display the response header by passing the <code>-i</code> flag to the <code>cURL</code> command. Asynchronous calls have a default timeout of 1800 seconds, or 30 minutes, and can be extended up to 12 hours. Set the <code>asyncFlag</code> to <code>true</code> to run asynchronous calls from the REST API.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632049565_1609869854",
      "id": "paragraph_1656632049565_1609869854",
      "dateCreated": "2022-06-30T23:34:09+0000",
      "dateStarted": "2022-08-01T15:41:17+0000",
      "dateFinished": "2022-08-01T15:41:17+0000",
      "status": "FINISHED",
      "$$hashKey": "object:66"
    },
    {
      "title": "Perform an asynchronous REST call with a timeout of 300 seconds, or 5 minutes",
      "text": "%md\n___________________________________________________________________________________________________________________________________________________________________________________________________________________________\nBelow is the equivalent asynchronous REST call with a timeout of 300 seconds, or 5 minutes. The output includes the HTTP 201 status code indicating the job was created, and a job id location that can be polled for status and results.\n\nThe `timeout` flag is used to change the default timeout setting.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:17+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Below is the equivalent asynchronous REST call with a timeout of 300 seconds, or 5 minutes. The output includes the HTTP 201 status code indicating the job was created, and a job id location that can be polled for status and results.</p>\n<p>The <code>timeout</code> flag is used to change the default timeout setting.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656542626877_45884364",
      "id": "paragraph_1656542626877_45884364",
      "dateCreated": "2022-06-29T22:43:46+0000",
      "dateStarted": "2022-08-01T15:41:17+0000",
      "dateFinished": "2022-08-01T15:41:17+0000",
      "status": "FINISHED",
      "$$hashKey": "object:67"
    },
    {
      "title": "",
      "text": "\n\n\n$ curl -i -X POST --header \"Authorization: Bearer ${token}\" --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"input\":\"IRIS_REST\",\"groupBy\":\"Species\",\"asyncFlag\":true, \"timeout\":300, \"parallelFlag\":true, \"service\":\"MEDIUM\"}' \"${omlserver}/oml/api/r-scripts/v1/group-apply/group.countR\"\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "editorHide": false,
        "title": false,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-322360312",
      "id": "20220623-161723_1628802406",
      "dateCreated": "2022-06-13T18:24:01+0000",
      "status": "FINISHED",
      "$$hashKey": "object:68"
    },
    {
      "text": " \n HTTP/1.1 201 Created\n Location: ${omlserver}/oml/api/r-scripts/v1/jobs/<job id location>\n Cache-Control: no-cache, no-store, private\n Content-Length: 0\n X-Frame-Options: SAMEORIGIN\n Proxy-Connection: Keep-Alive\n X-XSS-Protection: 1;mode=block\n X-Content-Type-Options: nosniff\n ",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656542642753_1630403883",
      "id": "paragraph_1656542642753_1630403883",
      "dateCreated": "2022-06-29T22:44:02+0000",
      "status": "FINISHED",
      "$$hashKey": "object:69"
    },
    {
      "title": "Poll the job status",
      "text": "%md\n\n\nTo poll the job status, pass the job ID location to the jobs endpoint using the GET method. The HTTP response status 302 indicates the running job is found and includes a job id location for future results.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<p>To poll the job status, pass the job ID location to the jobs endpoint using the GET method. The HTTP response status 302 indicates the running job is found and includes a job id location for future results.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632264103_1655237626",
      "id": "paragraph_1656632264103_1655237626",
      "dateCreated": "2022-06-30T23:37:44+0000",
      "dateStarted": "2022-08-01T15:41:18+0000",
      "dateFinished": "2022-08-01T15:41:18+0000",
      "status": "FINISHED",
      "$$hashKey": "object:70"
    },
    {
      "title": "",
      "text": "\n$ curl -i -X GET --header \"Authorization: Bearer ${token}\" --header 'Accept: application/json' ${omlserver}/oml/api/r-scripts/v1/jobs/<job id location>\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "editorHide": false,
        "title": false,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-1465116560",
      "id": "20220623-161723_1099329773",
      "dateCreated": "2022-06-13T18:24:30+0000",
      "status": "FINISHED",
      "$$hashKey": "object:71"
    },
    {
      "title": "Poll the job at the results location",
      "text": "\n$ curl -i -X GET --header \"Authorization: Bearer ${token}\" --header 'Accept: application/json' ${omlserver}/oml/api/r-scripts/v1/jobs/<job id location>/result\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:18+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_1457807436",
      "id": "20220623-161723_729136197",
      "dateCreated": "2022-06-13T18:24:59+0000",
      "status": "FINISHED",
      "$$hashKey": "object:72"
    },
    {
      "text": "%md\n\n______________________________________________________________________________________________________________________________________________________________________________________________________________________________\n\nThe return value is:\n\n{\"result\":[{\"SPECIES\":\"setosa\",\"COUNT\":50},{\"SPECIES\":\"versicolor\",\"COUNT\":50},{\"SPECIES\":\"virginica\",\"COUNT\":50}]}",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:19+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>The return value is:</p>\n<p>{&ldquo;result&rdquo;:[{&ldquo;SPECIES&rdquo;:&ldquo;setosa&rdquo;,&ldquo;COUNT&rdquo;:50},{&ldquo;SPECIES&rdquo;:&ldquo;versicolor&rdquo;,&ldquo;COUNT&rdquo;:50},{&ldquo;SPECIES&rdquo;:&ldquo;virginica&rdquo;,&ldquo;COUNT&rdquo;:50}]}</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632367626_108772473",
      "id": "paragraph_1656632367626_108772473",
      "dateCreated": "2022-06-30T23:39:27+0000",
      "dateStarted": "2022-08-01T15:41:19+0000",
      "dateFinished": "2022-08-01T15:41:19+0000",
      "status": "FINISHED",
      "$$hashKey": "object:73"
    },
    {
      "title": "Returning model details from the REST API",
      "text": "%md\n________________________________________________________________________________________________________________________________________________________________________________________________________________________________\nLet's create a linear model script and run it from the REST API. First, we'll define our function, `build.lmRestR`, that returns a list mapping of the model attributes. Note that the model itself cannot be returned directly from REST because LinearRegression model objects are not JSON-serializable. \n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:19+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Let's create a linear model script and run it from the REST API. First, we'll define our function, <code>build.lmRestR</code>, that returns a list mapping of the model attributes. Note that the model itself cannot be returned directly from REST because LinearRegression model objects are not JSON-serializable.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632388152_1574338063",
      "id": "paragraph_1656632388152_1574338063",
      "dateCreated": "2022-06-30T23:39:48+0000",
      "dateStarted": "2022-08-01T15:41:19+0000",
      "dateFinished": "2022-08-01T15:41:19+0000",
      "status": "FINISHED",
      "$$hashKey": "object:74"
    },
    {
      "title": "Create the script and save it to the R script repository",
      "text": "%r\n\nbuild.lmRestR <- function(dat){\n  dat$Species <- as.factor(dat$Species)\n  mod <- lm(Petal.Length~., dat)\n  res <- summary(mod)\n  res.list <- list(\"Coef\"=res$coefficients, \"R2\"=res$r.squared)\n  res.list\n}\n\nore.scriptCreate(name = 'build.lmRestR', FUN = build.lmRestR, overwrite=TRUE)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:19+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_-182692266",
      "id": "20220623-161723_962473036",
      "dateCreated": "2022-06-13T18:25:21+0000",
      "dateStarted": "2022-08-01T15:41:20+0000",
      "dateFinished": "2022-08-01T15:41:20+0000",
      "status": "FINISHED",
      "$$hashKey": "object:75"
    },
    {
      "title": "Run the script in R",
      "text": "%r\n\nres <- build.lmRestR(iris)\nres[\"Coef\"]\nres[\"R2\"]\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:20+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<strong>$Coef</strong> = <table class=\"dataframe\">\n<caption>A matrix: 6 x 4 of type dbl</caption>\n<thead>\n\t<tr><th></th><th scope=col>Estimate</th><th scope=col>Std. Error</th><th scope=col>t value</th><th scope=col>Pr(&gt;|t|)</th></tr>\n</thead>\n<tbody>\n\t<tr><th scope=row>(Intercept)</th><td>-1.1109888</td><td>0.26987329</td><td>-4.116705</td><td>6.445916e-05</td></tr>\n\t<tr><th scope=row>Sepal.Length</th><td> 0.6080058</td><td>0.05024482</td><td>12.100867</td><td>1.073592e-23</td></tr>\n\t<tr><th scope=row>Sepal.Width</th><td>-0.1805236</td><td>0.08035779</td><td>-2.246498</td><td>2.619373e-02</td></tr>\n\t<tr><th scope=row>Petal.Width</th><td> 0.6022215</td><td>0.12144281</td><td> 4.958890</td><td>1.968679e-06</td></tr>\n\t<tr><th scope=row>Speciesversicolor</th><td> 1.4633709</td><td>0.17345489</td><td> 8.436608</td><td>3.142686e-14</td></tr>\n\t<tr><th scope=row>Speciesvirginica</th><td> 1.9742229</td><td>0.24479964</td><td> 8.064648</td><td>2.600021e-13</td></tr>\n</tbody>\n</table>\n\n"
          },
          {
            "type": "HTML",
            "data": "<strong>$R2</strong> = 0.978593281337676"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656703535593_543784026",
      "id": "paragraph_1656703535593_543784026",
      "dateCreated": "2022-07-01T19:25:35+0000",
      "dateStarted": "2022-08-01T15:41:20+0000",
      "dateFinished": "2022-08-01T15:41:20+0000",
      "status": "FINISHED",
      "$$hashKey": "object:76"
    },
    {
      "text": "%md\n\n______________________________________________________________________________________________________________________________________________________________________________________________________________________________\nNow invoke the `build.lmRestR` function from the REST API in asynchronous mode, and display the results by polling the results location.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:20+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>Now invoke the <code>build.lmRestR</code> function from the REST API in asynchronous mode, and display the results by polling the results location.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656633034345_1607984403",
      "id": "paragraph_1656633034345_1607984403",
      "dateCreated": "2022-06-30T23:50:34+0000",
      "dateStarted": "2022-08-01T15:41:20+0000",
      "dateFinished": "2022-08-01T15:41:20+0000",
      "status": "FINISHED",
      "$$hashKey": "object:77"
    },
    {
      "title": "",
      "text": "\n\n\n$ curl -i -X POST --header \"Authorization: Bearer ${token}\" --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{\"input\":\"IRIS_REST\", \"asyncFlag\":true}' \"${omlserver}/oml/api/r-scripts/v1/table-apply/build.lmRestR\"\n\n$ curl -i -X GET --header \"Authorization: Bearer ${token}\" --header 'Accept: application/json' ${omlserver}/oml/api/r-scripts/v1/jobs/<job id location>result\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:20+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "editorHide": false,
        "title": false,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656001043038_960846011",
      "id": "20220623-161723_1961752764",
      "dateCreated": "2022-06-13T18:25:58+0000",
      "status": "FINISHED",
      "$$hashKey": "object:78"
    },
    {
      "text": "%md\n\n______________________________________________________________________________________________________________________________________________________________________________________________________________________________\nThe returned value is a list containing the Coeffiecient and R^2 values.\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:21+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<hr />\n<p>The returned value is a list containing the Coeffiecient and R^2 values.</p>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632464322_1048223970",
      "id": "paragraph_1656632464322_1048223970",
      "dateCreated": "2022-06-30T23:41:04+0000",
      "dateStarted": "2022-08-01T15:41:21+0000",
      "dateFinished": "2022-08-01T15:41:21+0000",
      "status": "FINISHED",
      "$$hashKey": "object:79"
    },
    {
      "text": "\n\n\n\n{\"result\":{\"R2\":0.9786,\"Coef\":[[-1.111,0.2699,-4.1167,1.0E-4],[0.608,0.0502,12.1009,1.0736E-23],[-0.1805,0.0804,-2.2465,0.0262],[0.6022,0.1214,4.9589,1.9687E-6],[1.4634,0.1735,8.4366,3.1427E-14],[1.9742,0.2448,8.0646,2.6E-13]]}}\n\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:21+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/osql",
        "fontSize": 9,
        "results": {},
        "enabled": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1659048708854_282959278",
      "id": "paragraph_1659048708854_282959278",
      "dateCreated": "2022-07-28T22:51:48+0000",
      "status": "FINISHED",
      "$$hashKey": "object:80"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-08-01T15:41:21+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<h1>End of Script</h1>\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1656632464088_234818204",
      "id": "paragraph_1656632464088_234818204",
      "dateCreated": "2022-06-30T23:41:04+0000",
      "dateStarted": "2022-08-01T15:41:21+0000",
      "dateFinished": "2022-08-01T15:41:21+0000",
      "status": "FINISHED",
      "$$hashKey": "object:81"
    }
  ],
  "name": "OML4R REST API ",
  "id": "18874",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  }
}