{"paragraphs":[{"text":"%md\r\n## OML4SQL Noise \r\n\r\nIn this notebook, we prepare the dataset used by the Data Preparation notebooks, in particular those for data cleaning and feature selection.\r\n\r\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\n\r\nNormal values will be replaced by null values and also duplicated rows will be added artificially. \r\n\r\n\r\n**Requirement** Run this notebook before the data preparation notebooks.\r\n\r\nCopyright (c) 2020 Oracle Corporation                             \r\n###### [The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)\r\n---","user":"OMLUSER","dateUpdated":"2021-01-06T20:14:53+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OML4SQL Noise</h2>\n<p>In this notebook, we prepare the dataset used by the Data Preparation notebooks, in particular those for data cleaning and feature selection.</p>\n<p>We use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.</p>\n<p>Normal values will be replaced by null values and also duplicated rows will be added artificially.</p>\n<p><strong>Requirement</strong> Run this notebook before the data preparation notebooks.</p>\n<p>Copyright (c) 2020 Oracle Corporation</p>\n<h6><a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-606207635","id":"20201217-193843_702207225","dateCreated":"2020-12-15T20:04:38+0000","dateStarted":"2021-01-06T20:14:54+0000","dateFinished":"2021-01-06T20:14:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:40"},{"title":"Drop table with noise introduced, if it exists","text":"%script\n\nbegin\n    execute immediate 'DROP TABLE CUSTOMER_INSURANCE_LTV_NOISE';\n    exception when others then null;\nend;","user":"OMLUSER","dateUpdated":"2021-01-06T20:14:54+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","STATE":"string","CREDIT_BALANCE":"string","CUSTOMER_TENURE":"string","MORTGAGE_AMOUNT":"string","BANK_FUNDS":"string","NUM_DEPENDENTS":"string","HAS_CHILDREN":"string","INCOME":"string","CUSTOMER_ID":"string","GENDER":"string","PROFESSION":"string","CREDIT_CARD_LIMITS":"string","REGION":"string","HOME_OWNERSHIP":"string","NUM_ONLINE_TRANS":"string","BUY_INSURANCE":"string","MONTHLY_CHECKS":"string","NUM_TRANS_KIOSK":"string","AGE":"string","MONEY_MONTLY_OVERDRAWN":"string","LTV":"string","TOTAL_AUTOM_PAYMENTS":"string","NUM_TRANS_TELLER":"string","CHECKING_BALANCE":"string","NUM_TRANS_ATM":"string","LTV_BIN":"string","FIRST_NAME":"string","NUM_MORTGAGES":"string","CAR_OWNERSHIP":"string","LAST_NAME":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"plsql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-1302278510","id":"20201217-193843_1368517585","dateCreated":"2020-11-12T19:23:54+0000","dateStarted":"2021-01-06T20:14:54+0000","dateFinished":"2021-01-06T20:15:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:41"},{"title":"Create table with noise by copying content from the customer insurance LTV table","text":"%script\n\nCREATE TABLE CUSTOMER_INSURANCE_LTV_NOISE AS\nSELECT * FROM OMLUSER.CUSTOMER_INSURANCE_LTV","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:26+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nTable CUSTOMER_INSURANCE_LTV_NOISE created.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_799568819","id":"20201217-193843_575862020","dateCreated":"2020-11-12T19:24:37+0000","dateStarted":"2021-01-06T20:15:27+0000","dateFinished":"2021-01-06T20:15:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:42"},{"title":"Insert duplicated rows into the table with noise","text":"%script\n\nbegin \n    INSERT INTO CUSTOMER_INSURANCE_LTV_NOISE\n    SELECT * FROM OMLUSER.CUSTOMER_INSURANCE_LTV sample(50)\n    FETCH FIRST 1000 ROWS ONLY;\n    commit;\nend;","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_709286257","id":"20201217-193843_2034426569","dateCreated":"2020-11-12T19:26:45+0000","dateStarted":"2021-01-06T20:15:30+0000","dateFinished":"2021-01-06T20:15:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:43"},{"title":"For customer id  < 'CU2', change INCOME, BANK_FUNDS, CREDIT_BALANCE, MARITAL_STATUS to null ","text":"%sql\n\nUPDATE  CUSTOMER_INSURANCE_LTV_NOISE\nSET INCOME = NULL, BANK_FUNDS = NULL, CREDIT_BALANCE = NULL, MARITAL_STATUS = NULL\nWHERE CUSTOMER_ID < 'CU2';","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608233923533_-3832289","id":"20201217-193843_104897540","dateCreated":"2020-11-17T01:48:48+0000","dateStarted":"2021-01-06T20:15:31+0000","dateFinished":"2021-01-06T20:15:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:44"},{"title":"Update most of the LAST_TIME to 'THANOS'","text":"%sql\n\nUPDATE  CUSTOMER_INSURANCE_LTV_NOISE\nSET LAST_NAME = 'THANOS'\nWHERE CUSTOMER_ID < 'CU8';","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:31+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608736588491_-2125572095","id":"20201223-151628_2058133150","dateCreated":"2020-12-23T15:16:28+0000","dateStarted":"2021-01-06T20:15:32+0000","dateFinished":"2021-01-06T20:15:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:45"},{"title":"For customer id >= 'CU3' and  < 'CU4', use synonyms","text":"%script\n\nbegin\n    update CUSTOMER_INSURANCE_LTV_NOISE\n    set MARITAL_STATUS = 'DIV'\n    WHERE CUSTOMER_ID >= 'CU3' and CUSTOMER_ID < 'CU4'\n    and MARITAL_STATUS = 'DIVORCED';\n    \n    update CUSTOMER_INSURANCE_LTV_NOISE\n    set MARITAL_STATUS = 'M'\n    WHERE CUSTOMER_ID >= 'CU3' and CUSTOMER_ID < 'CU4'\n    and MARITAL_STATUS = 'MARRIED';\n    \n    commit;\nend;\n","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:33+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","STATE":"string","CREDIT_BALANCE":"string","CUSTOMER_TENURE":"string","MORTGAGE_AMOUNT":"string","BANK_FUNDS":"string","NUM_DEPENDENTS":"string","HAS_CHILDREN":"string","INCOME":"string","CUSTOMER_ID":"string","GENDER":"string","PROFESSION":"string","CREDIT_CARD_LIMITS":"string","REGION":"string","HOME_OWNERSHIP":"string","NUM_ONLINE_TRANS":"string","BUY_INSURANCE":"string","MONTHLY_CHECKS":"string","NUM_TRANS_KIOSK":"string","AGE":"string","MONEY_MONTLY_OVERDRAWN":"string","LTV":"string","TOTAL_AUTOM_PAYMENTS":"string","NUM_TRANS_TELLER":"string","CHECKING_BALANCE":"string","NUM_TRANS_ATM":"string","LTV_BIN":"string","FIRST_NAME":"string","NUM_MORTGAGES":"string","CAR_OWNERSHIP":"string","LAST_NAME":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-761220948","id":"20201217-193843_1481711742","dateCreated":"2020-12-07T15:59:19+0000","dateStarted":"2021-01-06T20:15:33+0000","dateFinished":"2021-01-06T20:15:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:46"},{"title":"Drop the previous noise table for SQL","text":"%script\n\nbegin\n    execute immediate 'DROP TABLE CUSTOMER_INSURANCE_LTV_SQL';\n    exception when others then null;\nend;","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:33+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-988040844","id":"20201217-193843_1839072421","dateCreated":"2020-11-13T04:09:40+0000","dateStarted":"2021-01-06T20:15:34+0000","dateFinished":"2021-01-06T20:15:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:47"},{"title":"Create noise table for SQL","text":"%sql\n\nCREATE TABLE CUSTOMER_INSURANCE_LTV_SQL AS\nSELECT * FROM CUSTOMER_INSURANCE_LTV_NOISE","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:34+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608233923533_1825599040","id":"20201217-193843_52754293","dateCreated":"2020-11-21T23:58:02+0000","dateStarted":"2021-01-06T20:15:35+0000","dateFinished":"2021-01-06T20:15:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:48"},{"title":"Drop the previous noise table for python","text":"%script\n\nbegin\n    execute immediate 'DROP TABLE CUSTOMER_INSURANCE_LTV_PY';\n    exception when others then null;\nend;","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-1933812210","id":"20201217-193843_17234857","dateCreated":"2020-11-21T23:57:52+0000","dateStarted":"2021-01-06T20:15:37+0000","dateFinished":"2021-01-06T20:15:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:49"},{"title":"Create noise table for python","text":"%script\n\nCREATE TABLE CUSTOMER_INSURANCE_LTV_PY AS\nSELECT * FROM CUSTOMER_INSURANCE_LTV_NOISE;","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:38+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nTable CUSTOMER_INSURANCE_LTV_PY created.\n\n\n---------------------------\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_-1692322565","id":"20201217-193843_1350924583","dateCreated":"2020-11-21T23:58:50+0000","dateStarted":"2021-01-06T20:15:38+0000","dateFinished":"2021-01-06T20:15:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:50"},{"text":"%md\n# End of Script\n","user":"OMLUSER","dateUpdated":"2021-01-06T20:15:40+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1608233923533_293768642","id":"20201217-193843_1302590654","dateCreated":"2020-11-21T23:59:16+0000","dateStarted":"2021-01-06T20:15:41+0000","dateFinished":"2021-01-06T20:15:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:51"},{"text":"%sql\n","user":"OMLUSER","dateUpdated":"2020-12-23T15:21:17+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql"},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1608233923533_-1681840764","id":"20201217-193843_1771584800","dateCreated":"2020-12-15T20:14:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:52"}],"name":"OML4SQL Noise","id":"684358","noteParams":{},"noteForms":{},"angularObjects":{"MDW381939C745:shared_process":[],"ORACED2F65282:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}