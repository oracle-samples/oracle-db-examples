{
  "paragraphs": [
    {
      "text": "%md\r\n\r\n## OML4SQL Feature Selection: Supervised Algorithm\r\nIn this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms.\r\n\r\nWe use the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\n\r\nWe first build a random forest model to predict if the customer will buy insurance, then use feature importance values for feature selection. \r\n\r\nWe then build a decision tree model for the same classification task and obtain split nodes. For the top splitting nodes with highest support, we select features associated with those nodes.\r\n\r\nThe dataset `CUSTOMER_INSURANCE_LTV` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\r\n\r\n---\r\n\r\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\r\n\r\n---\r\n\r\n\r\nCopyright (c) 2023 Oracle Corporation \r\n###### \u003ca href\u003d\"https://oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\r\n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eOML4SQL Feature Selection: Supervised Algorithm\u003c/h2\u003e\n\u003cp\u003eIn this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms.\u003c/p\u003e\n\u003cp\u003eWe use the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\u003c/p\u003e\n\u003cp\u003eWe first build a random forest model to predict if the customer will buy insurance, then use feature importance values for feature selection.\u003c/p\u003e\n\u003cp\u003eWe then build a decision tree model for the same classification task and obtain split nodes. For the top splitting nodes with highest support, we select features associated with those nodes.\u003c/p\u003e\n\u003cp\u003eThe dataset \u003ccode\u003eCUSTOMER_INSURANCE_LTV\u003c/code\u003e is generated by the \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook, which \u003ccode\u003eMUST\u003c/code\u003e be run before this notebook.\u003c/p\u003e\n\u003chr /\u003e\n\u003ch5\u003e\u003ccode\u003eIMPORTANT\u003c/code\u003e: The \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\u003c/h5\u003e\n\u003chr /\u003e\n\u003cp\u003eCopyright (c) 2023 Oracle Corporation\u003c/p\u003e\n\u003ch6\u003e\u003ca href\u003d\"https: //oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\u003c/h6\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-544504474",
      "id": "20220124-201424_2124178999",
      "dateCreated": "2020-12-15T01:41:56+0000",
      "dateStarted": "2023-02-17T23:19:20+0000",
      "dateFinished": "2023-02-17T23:19:20+0000",
      "status": "FINISHED"
    },
    {
      "title": "For more information ...",
      "text": "%md\n\nOracle ADW Documentation \u003ca href\u003d\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\nOML folder on Oracle Github : \u003ca href\u003d\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u0027);\"\u003ehttps://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u003c/a\u003e\nOML web page: \u003ca href\u003d\"https://www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\nOML Attribute Importance: \u003ca href\u003d\"https://www.oracle.com/goto/ml-attribute-importance\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-attribute-importance\u0027);\"\u003ehttps://www.oracle.com/goto/ml-attribute-importance\u003c/a\u003e\nOML4SQL Random Forest documentation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html \u003c/a\u003e\nOML4SQL Decision Tree documentation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html \u003c/a\u003e",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cp\u003eOracle ADW Documentation \u003ca href\u003d\"https: //docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\n\u003cbr  /\u003eOML folder on Oracle Github : \u003ca href\u003d\"https: //github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u0027);\"\u003ehttps://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML web page: \u003ca href\u003d\"https: //www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML Attribute Importance: \u003ca href\u003d\"https: //www.oracle.com/goto/ml-attribute-importance\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-attribute-importance\u0027);\"\u003ehttps://www.oracle.com/goto/ml-attribute-importance\u003c/a\u003e\n\u003cbr  /\u003eOML4SQL Random Forest documentation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/random-forest.html \u003c/a\u003e\n\u003cbr  /\u003eOML4SQL Decision Tree documentation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/decision-tree.html \u003c/a\u003e\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_1168640341",
      "id": "20220124-201424_6638957",
      "dateCreated": "2020-12-17T03:58:09+0000",
      "dateStarted": "2023-02-17T23:19:20+0000",
      "dateFinished": "2023-02-17T23:19:20+0000",
      "status": "FINISHED"
    },
    {
      "title": "Display CUSTOMER_INSURANCE_LTV data",
      "text": "%sql\n\nSELECT *\nFROM   CUSTOMER_INSURANCE_LTV\nFETCH FIRST 10 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CREDIT_BALANCE": "string",
                      "CUSTOMER_TENURE": "string",
                      "MORTGAGE_AMOUNT": "string",
                      "BANK_FUNDS": "string",
                      "NUM_DEPENDENTS": "string",
                      "HAS_CHILDREN": "string",
                      "INCOME": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "CREDIT_CARD_LIMITS": "string",
                      "REGION": "string",
                      "HOME_OWNERSHIP": "string",
                      "NUM_ONLINE_TRANS": "string",
                      "BUY_INSURANCE": "string",
                      "MONTHLY_CHECKS": "string",
                      "NUM_TRANS_KIOSK": "string",
                      "AGE": "string",
                      "MONEY_MONTLY_OVERDRAWN": "string",
                      "LTV": "string",
                      "TOTAL_AUTOM_PAYMENTS": "string",
                      "NUM_TRANS_TELLER": "string",
                      "CHECKING_BALANCE": "string",
                      "NUM_TRANS_ATM": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "NUM_MORTGAGES": "string",
                      "CAR_OWNERSHIP": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nSINGLE\tCA                        \t0\t3\t0\t0\t3\t0\t65871\tCU15154                   \tM                         \tNurse\t1000\tWest\t0\t0\tNo\t0\t1\t24\t53.06\t14367.75\t0\t0\t25\t0\tMEDIUM\tGAYLE\t0\t0\tDURANT\nSINGLE\tNY                        \t0\t4\t0\t290\t4\t0\t68747\tCU15155                   \tM                         \tProgrammer/Developer\t700\tNorthEast\t0\t0\tYes\t1\t1\t35\t53.84\t14686.75\t287\t2\t25\t4\tMEDIUM\tQUINTON\t0\t1\tMASSEY\nMARRIED\tMI                        \t0\t3\t1000\t550\t3\t0\t68684\tCU15157                   \tM                         \tProgrammer/Developer\t1000\tMidwest\t1\t1000\tYes\t14\t1\t26\t53.48\t25271\t132\t2\t25\t4\tHIGH\tANIBAL\t1\t1\tJIMENEZ\nMARRIED\tUT                        \t0\t5\t1200\t1000\t5\t0\t59354\tCU15286                   \tF                         \tFireman\t2500\tSouthwest\t1\t1200\tNo\t4\t5\t24\t53.08\t19738.5\t628\t3\t619\t1\tMEDIUM\tJUNITA\t1\t1\tROBERTSON\nMARRIED\tUT                        \t0\t4\t1800\t0\t3\t0\t84801\tCU15287                   \tF                         \tPROF-26\t2500\tSouthwest\t1\t1800\tNo\t0\t5\t47\t53.06\t31900.25\t0\t0\t25\t0\tVERY HIGH\tCHASITY\t1\t1\tELLIS\nMARRIED\tUT                        \t0\t1\t1400\t0\t1\t0\t73987\tCU15289                   \tM                         \tProfessor\t2500\tSouthwest\t1\t1400\tNo\t0\t5\t46\t53.06\t31596.75\t0\t0\t25\t0\tVERY HIGH\tFRANKLIN\t1\t1\tKNOX\nSINGLE\tUT                        \t0\t3\t578\t0\t3\t0\t51452\tCU15290                   \tM                         \tSales Representative\t2500\tSouthwest\t1\t578\tNo\t0\t5\t33\t53.06\t21663\t0\t0\t25\t0\tMEDIUM\tLINCOLN\t1\t1\tMATTSON\nSINGLE\tUT                        \t0\t3\t0\t0\t3\t0\t63181\tCU15291                   \tM                         \tConstruction Laborer\t2500\tSouthwest\t0\t0\tNo\t1\t5\t49\t53.07\t16195.25\t0\t0\t25\t1\tMEDIUM\tSTEPHEN\t0\t0\tCARROLL\nSINGLE\tUT                        \t0\t5\t117\t0\t5\t0\t66654\tCU15292                   \tF                         \tPROF-3\t2500\tSouthwest\t1\t117\tNo\t0\t5\t21\t53.06\t21263.5\t0\t0\t25\t0\tMEDIUM\tCEOLA\t1\t1\tHARRISON\nSINGLE\tUT                        \t0\t3\t0\t250\t3\t0\t61716\tCU15294                   \tM                         \tProgrammer/Developer\t1500\tSouthwest\t0\t0\tNo\t3\t5\t26\t53.04\t13529\t0\t2\t25\t2\tLOW\tLLOYD\t0\t0\tHOLLEY\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_1439664662",
      "id": "20220124-201424_802978205",
      "dateCreated": "2020-12-09T14:02:52+0000",
      "dateStarted": "2023-02-17T23:19:20+0000",
      "dateFinished": "2023-02-17T23:19:26+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Examples of possible setting overrides for Attribute Importance \n\nIf the user does not override the default settings, then relevant settings are determined by the algorithm.\n\nA complete list of shared settings can be found in the Documentation link:\n\n-- Shared Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\n\n--- \n\n#### Other interesting overrides for Data Preparation\n\nOracle Machine Learning supports fully Automatic Data Preparation (ADP), user-directed general data preparation, and user-specified embedded data preparation. The PREP_* settings enable the user to request fully automated or user-directed general data preparation. By default, fully Automatic Data Preparation (ON) is enabled. \n\nA complete list of settings can be found in the Documentation link:\n\n-- Automatic Data Preparation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\u0027);\"\u003eAutomatic Data Preparation\u003c/a\u003e\n\n-- This setting is used to specify Automatic Data Preparation.\n   The value required is either ON or OFF, and the default is ON. \n    v_setlst(\u0027PREP_AUTO\u0027) :\u003d \u0027ON\u0027;\n    \nThe model uses heuristics to transform the build data according to the requirements of the algorithm. \n\n#### User defined transformations\n\nInstead of fully ADP, the user can request that the data be shifted and/or scaled with the PREP_SCALE* and PREP_SHIFT* settings. The transformation instructions are stored with the model and reused whenever the model is applied. The model settings can be viewed in USER_MINING_MODEL_SETTINGS. \n\n-- This setting enables scaling data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n   PREP_SCALE_STDDEV: A request to divide the column values by the standard deviation of the column and is often provided together with PREP_SHIFT_MEAN to yield z-score normalization.\n   PREP_SCALE_RANGE: A request to divide the column values by the range of values and is often provided together with PREP_SHIFT_MIN to yield a range of [0,1].\n    v_setlst(\u0027PREP_SCALE_2DNUM\u0027) :\u003d \u0027PREP_SCALE_STDDEV\u0027;\n\n-- This setting enables centering data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n   PREP_SHIFT_MEAN: Results in subtracting the average of the column from each value.\n   PREP_SHIFT_MIN: Results in subtracting the minimum of the column from each value.\n    v_setlst(\u0027PREP_SHIFT_2DNUM\u0027) :\u003d \u0027PREP_SHIFT_MEAN\u0027;\n\n-- This setting enables scaling data preparation for nested numeric columns. PREP_AUTO must be OFF for this setting to take effect. If specified, then the valid value for this setting is PREP_SCALE_MAXABS, which yields data in the range of [-1,1].\n    v_setlst(\u0027PREP_SCALE_NNUM\u0027) :\u003d \u0027PREP_SCALE_MAXABS\u0027;\n\n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eExamples of possible setting overrides for Attribute Importance\u003c/h3\u003e\n\u003cp\u003eIf the user does not override the default settings, then relevant settings are determined by the algorithm.\u003c/p\u003e\n\u003cp\u003eA complete list of shared settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Shared Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\u003c/p\u003e\n\u003chr /\u003e\n\u003ch4\u003eOther interesting overrides for Data Preparation\u003c/h4\u003e\n\u003cp\u003eOracle Machine Learning supports fully Automatic Data Preparation (ADP), user-directed general data preparation, and user-specified embedded data preparation. The PREP_* settings enable the user to request fully automated or user-directed general data preparation. By default, fully Automatic Data Preparation (ON) is enabled.\u003c/p\u003e\n\u003cp\u003eA complete list of settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Automatic Data Preparation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\u0027);\"\u003eAutomatic Data Preparation\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; This setting is used to specify Automatic Data Preparation.\n\u003cbr  /\u003eThe value required is either ON or OFF, and the default is ON.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_AUTO\u0027) :\u003d \u0027ON\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe model uses heuristics to transform the build data according to the requirements of the algorithm.\u003c/p\u003e\n\u003ch4\u003eUser defined transformations\u003c/h4\u003e\n\u003cp\u003eInstead of fully ADP, the user can request that the data be shifted and/or scaled with the PREP_SCALE\u003cem\u003e and PREP_SHIFT\u003c/em\u003e settings. The transformation instructions are stored with the model and reused whenever the model is applied. The model settings can be viewed in USER_MINING_MODEL_SETTINGS.\u003c/p\u003e\n\u003cp\u003e\u0026ndash; This setting enables scaling data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n\u003cbr  /\u003ePREP_SCALE_STDDEV: A request to divide the column values by the standard deviation of the column and is often provided together with PREP_SHIFT_MEAN to yield z-score normalization.\n\u003cbr  /\u003ePREP_SCALE_RANGE: A request to divide the column values by the range of values and is often provided together with PREP_SHIFT_MIN to yield a range of [0,1].\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SCALE_2DNUM\u0027) :\u003d \u0027PREP_SCALE_STDDEV\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; This setting enables centering data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n\u003cbr  /\u003ePREP_SHIFT_MEAN: Results in subtracting the average of the column from each value.\n\u003cbr  /\u003ePREP_SHIFT_MIN: Results in subtracting the minimum of the column from each value.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SHIFT_2DNUM\u0027) :\u003d \u0027PREP_SHIFT_MEAN\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; This setting enables scaling data preparation for nested numeric columns. PREP_AUTO must be OFF for this setting to take effect. If specified, then the valid value for this setting is PREP_SCALE_MAXABS, which yields data in the range of [-1,1].\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SCALE_NNUM\u0027) :\u003d \u0027PREP_SCALE_MAXABS\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676577581381_972801999",
      "id": "paragraph_1676577581381_972801999",
      "dateCreated": "2023-02-16T19:59:41+0000",
      "dateStarted": "2023-02-17T23:19:27+0000",
      "dateFinished": "2023-02-17T23:19:27+0000",
      "status": "FINISHED"
    },
    {
      "title": "Use in-database Attribute Importance ",
      "text": "\r\n%script\r\n\r\nBEGIN DBMS_DATA_MINING.DROP_MODEL(\u0027AI_FS_MODEL\u0027);\r\nEXCEPTION WHEN OTHERS THEN NULL; END;\r\n/\r\nDECLARE\r\n    V_SETLST DBMS_DATA_MINING.SETTING_LIST;\r\nBEGIN\r\n    V_SETLST(\u0027ALGO_NAME\u0027)  :\u003d \u0027ALGO_AI_MDL\u0027;\r\n    V_SETLST(\u0027PREP_AUTO\u0027)  :\u003d \u0027ON\u0027;\r\n\r\n    DBMS_DATA_MINING.CREATE_MODEL2(\r\n        MODEL_NAME          \u003d\u003e \u0027AI_FS_MODEL\u0027,\r\n        MINING_FUNCTION     \u003d\u003e \u0027ATTRIBUTE_IMPORTANCE\u0027,\r\n        DATA_QUERY          \u003d\u003e \u0027SELECT * FROM CUSTOMER_INSURANCE_LTV\u0027,\r\n        SET_LIST            \u003d\u003e V_SETLST,\r\n        CASE_ID_COLUMN_NAME \u003d\u003e \u0027CUSTOMER_ID\u0027,\r\n        TARGET_COLUMN_NAME  \u003d\u003e \u0027BUY_INSURANCE\u0027);\r\nEND;\r\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-1726449543",
      "id": "20220124-201424_175054360",
      "dateCreated": "2020-12-21T20:09:33+0000",
      "dateStarted": "2023-02-17T23:19:27+0000",
      "dateFinished": "2023-02-17T23:19:29+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check the model view output with attribute rankings",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, ATTRIBUTE_IMPORTANCE_VALUE, ATTRIBUTE_RANK \nFROM   DM$VAAI_FS_MODEL \nWHERE  ATTRIBUTE_IMPORTANCE_VALUE \u003e 0\nORDER BY ATTRIBUTE_IMPORTANCE_VALUE DESC\nFETCH FIRST 10 ROWS ONLY;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_IMPORTANCE_VALUE": "string",
                      "ATTRIBUTE_RANK": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_IMPORTANCE_VALUE\tATTRIBUTE_RANK\nBANK_FUNDS\t0.2105984620957382\t1\nMONEY_MONTLY_OVERDRAWN\t0.15007198908446304\t2\nNUM_TRANS_ATM\t0.14838252230225377\t3\nNUM_TRANS_TELLER\t0.11572527598455709\t4\nTOTAL_AUTOM_PAYMENTS\t0.10805697528319519\t5\nMONTHLY_CHECKS\t0.08916425624499165\t6\nNUM_DEPENDENTS\t0.028549990022342858\t7\nCUSTOMER_TENURE\t0.022654928543333067\t8\nCHECKING_BALANCE\t0.022525045499602096\t9\nPROFESSION\t0.016638375277904405\t10\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-158542790",
      "id": "20220124-201424_400518332",
      "dateCreated": "2020-12-21T20:19:16+0000",
      "dateStarted": "2023-02-17T23:19:29+0000",
      "dateFinished": "2023-02-17T23:19:29+0000",
      "status": "FINISHED"
    },
    {
      "title": "Plot attributes by importance for predicting people who buy insurance",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, ATTRIBUTE_IMPORTANCE_VALUE, ATTRIBUTE_RANK \nFROM   DM$VAAI_FS_MODEL \nWHERE  ATTRIBUTE_IMPORTANCE_VALUE \u003e 0\nORDER BY ATTRIBUTE_IMPORTANCE_VALUE DESC\nFETCH FIRST 10 ROWS ONLY;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_IMPORTANCE_VALUE": "string",
                      "ATTRIBUTE_RANK": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-30"
                  },
                  "xLabelStatus": "rotate",
                  "stacked": false
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "ATTRIBUTE_NAME",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "ATTRIBUTE_IMPORTANCE_VALUE",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_IMPORTANCE_VALUE\tATTRIBUTE_RANK\nBANK_FUNDS\t0.2105984620957382\t1\nMONEY_MONTLY_OVERDRAWN\t0.15007198908446304\t2\nNUM_TRANS_ATM\t0.14838252230225377\t3\nNUM_TRANS_TELLER\t0.11572527598455709\t4\nTOTAL_AUTOM_PAYMENTS\t0.10805697528319519\t5\nMONTHLY_CHECKS\t0.08916425624499165\t6\nNUM_DEPENDENTS\t0.028549990022342858\t7\nCUSTOMER_TENURE\t0.022654928543333067\t8\nCHECKING_BALANCE\t0.022525045499602096\t9\nPROFESSION\t0.016638375277904405\t10\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-1152191721",
      "id": "20220124-201424_1039877391",
      "dateCreated": "2020-12-21T20:17:33+0000",
      "dateStarted": "2023-02-17T23:19:30+0000",
      "dateFinished": "2023-02-17T23:19:30+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Feature importance using Random Forest\n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eFeature importance using Random Forest\u003c/h3\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-2051502654",
      "id": "20220124-201424_1906820028",
      "dateCreated": "2021-08-25T01:31:44+0000",
      "dateStarted": "2023-02-17T23:19:30+0000",
      "dateFinished": "2023-02-17T23:19:30+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Examples of possible setting overrides for Random Forest \n\nIf the user does not override the default settings, then relevant settings are determined by the algorithm.\n\n**NOTE:** Random Forest makes use of the Decision Tree settings to configure the construction of individual trees. \n\nA complete list of settings can be found in the Documentation link:\n\n-- Algorithm Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-481B6C67-B26E-4689-AD4C-98062D5A2117\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-481B6C67-B26E-4689-AD4C-98062D5A2117\u0027);\"\u003eRandom Forest\u003c/a\u003e\n\n-- Algorithm Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\u0027);\"\u003eDecision Tree\u003c/a\u003e\n\n-- Shared Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\n\n-- Specify a row weight column \n    v_setlst(\u0027ODMS_ROW_WEIGHT_COLUMN_NAME\u0027) :\u003d \u0027\u003crow_weight_column_name\u003e\u0027;\n   \n-- Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is `ODMS_MISSING_VALUE_AUTO`.  The option `ODMS_MISSING_VALUE_MEAN_MODE` replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option `ODMS_MISSING_VALUE_AUTO` performs different strategies for different algorithms.  When `ODMS_MISSING_VALUE_TREATMENT` is set to `ODMS_MISSING_VALUE_DELETE_ROW`, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.\n    v_setlst(\u0027ODMS_MISSING_VALUE_TREATMENT\u0027) :\u003d \u0027ODMS_MISSING_VALUE_AUTO\u0027;\n\n#### These settings configure the behavior of the Random Forest algorithm \n\n-- Specify the number of trees in the forest.  It requires a number between 1 and 65535 (including the edges).  The default is 20.\n    v_setlst(\u0027RFOR_NUM_TREES\u0027) :\u003d \u002720\u0027;\n\n-- Specify the fraction of the training data to be randomly sampled for use in the construction of an individual tree. The default is half of the number of rows in the training data. It requires a fraction between 0 and 1 (excluding the edges)\n    v_setlst(\u0027RFOR_SAMPLING_RATIO\u0027) :\u003d \u00270.5\u0027;\n\n-- Specify the size of the random subset of columns to be considered when choosing a split at a node. For each node, the size of the pool remains the same, but the specific candidate columns change. The default is half of the columns in the model signature. The special value 0 indicates that the candidate pool includes all columns.  It requires a number equal to or greater than 0.\n    v_setlst(\u0027RFOR_MTRY\u0027) :\u003d \u00270\u0027;\n\n#### Decision Tree settings to configure the construction of individual trees.\n    \n-- Specify Tree impurity metric for each Tree. \n   Tree algorithms seek the best test question for splitting data at each node. The best splitter and split values are those that result in the largest increase in target value homogeneity (purity) for the entities in the node. Purity is by a metric. Decision trees can use either Gini `TREE_IMPURITY_GINI` or entropy `TREE_IMPURITY_ENTROPY` as the purity metric. By default, the algorithm uses `TREE_IMPURITY_GINI`.\n    v_setlst(\u0027TREE_IMPURITY_METRIC\u0027) :\u003d \u0027TREE_IMPURITY_GINI\u0027;\n    \n-- Specify the criteria for splits regarding the maximum tree depth (the maximum number of nodes between the root and any leaf node, including the leaf node).\n   For Decision Tree, it requires a number between 2 and 20, and the default is 7. For Random Forest it is a number between 2 and 100, and the default is 16.\n    v_setlst(\u0027TREE_TERM_MAX_DEPTH\u0027) :\u003d \u00277\u0027;\n    \n-- Specify the minimum number of training rows in a node expressed as a percentage of the rows in the training data.\n   It requires a number between 0 and 10.  The default is 0.05, indicating 0.05%. \n    v_setlst(\u0027TREE_TERM_MINPCT_NODE\u0027) :\u003d \u00270.05\u0027;\n    \n-- Specifyt he minimum number of rows required to consider splitting a node expressed as a percentage of the training rows.\n   It requires a number greater than 0, and smaller or equal to 20.  The default is 0.1, indicating 0.1%. \n    v_setlst(\u0027TREE_TERM_MINPCT_SPLIT\u0027) :\u003d \u00270.1\u0027;\n\n-- Specify The minimum number of rows in a node.\n   It requires a number greater than or equal to zero. The default is 10.      \n    v_setlst(\u0027TREE_TERM_MINREC_NODE\u0027) :\u003d \u002710\u0027;\n    \n-- Specify the criteria for splits regarding the minimum number of records in a parent node expressed as a value. \n   No split is attempted if the number of records is below this value.  It requires a number greater than 1.  The default is 20.       \n    v_setlst(\u0027TREE_TERM_MINREC_SPLIT\u0027) :\u003d \u002720\u0027;\n    \n-- Specify the maximum number of bins for each attribute.\n   For Decision Tree it requires a number between 2 and 2,147,483,647, with the default value of 32. For Random Forest it requires a number between 2 and 254, with the default value of 32.\n    v_setlst(\u0027CLAS_MAX_SUP_BINS\u0027) :\u003d \u002732\u0027;    \n    \n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eExamples of possible setting overrides for Random Forest\u003c/h3\u003e\n\u003cp\u003eIf the user does not override the default settings, then relevant settings are determined by the algorithm.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE:\u003c/strong\u003e Random Forest makes use of the Decision Tree settings to configure the construction of individual trees.\u003c/p\u003e\n\u003cp\u003eA complete list of settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Algorithm Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-481B6C67-B26E-4689-AD4C-98062D5A2117\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-481B6C67-B26E-4689-AD4C-98062D5A2117\u0027);\"\u003eRandom Forest\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Algorithm Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\u0027);\"\u003eDecision Tree\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Shared Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Specify a row weight column\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027ODMS_ROW_WEIGHT_COLUMN_NAME\u0027) :\u003d \u0027\u0026lt;row_weight_column_name\u0026gt;\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is \u003ccode\u003eODMS_MISSING_VALUE_AUTO\u003c/code\u003e.  The option \u003ccode\u003eODMS_MISSING_VALUE_MEAN_MODE\u003c/code\u003e replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option \u003ccode\u003eODMS_MISSING_VALUE_AUTO\u003c/code\u003e performs different strategies for different algorithms.  When \u003ccode\u003eODMS_MISSING_VALUE_TREATMENT\u003c/code\u003e is set to \u003ccode\u003eODMS_MISSING_VALUE_DELETE_ROW\u003c/code\u003e, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027ODMS_MISSING_VALUE_TREATMENT\u0027) :\u003d \u0027ODMS_MISSING_VALUE_AUTO\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eThese settings configure the behavior of the Random Forest algorithm\u003c/h4\u003e\n\u003cp\u003e\u0026ndash; Specify the number of trees in the forest.  It requires a number between 1 and 65535 (including the edges).  The default is 20.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027RFOR_NUM_TREES\u0027) :\u003d \u002720\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the fraction of the training data to be randomly sampled for use in the construction of an individual tree. The default is half of the number of rows in the training data. It requires a fraction between 0 and 1 (excluding the edges)\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027RFOR_SAMPLING_RATIO\u0027) :\u003d \u00270.5\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the size of the random subset of columns to be considered when choosing a split at a node. For each node, the size of the pool remains the same, but the specific candidate columns change. The default is half of the columns in the model signature. The special value 0 indicates that the candidate pool includes all columns.  It requires a number equal to or greater than 0.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027RFOR_MTRY\u0027) :\u003d \u00270\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eDecision Tree settings to configure the construction of individual trees.\u003c/h4\u003e\n\u003cp\u003e\u0026ndash; Specify Tree impurity metric for each Tree.\n\u003cbr  /\u003eTree algorithms seek the best test question for splitting data at each node. The best splitter and split values are those that result in the largest increase in target value homogeneity (purity) for the entities in the node. Purity is by a metric. Decision trees can use either Gini \u003ccode\u003eTREE_IMPURITY_GINI\u003c/code\u003e or entropy \u003ccode\u003eTREE_IMPURITY_ENTROPY\u003c/code\u003e as the purity metric. By default, the algorithm uses \u003ccode\u003eTREE_IMPURITY_GINI\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_IMPURITY_METRIC\u0027) :\u003d \u0027TREE_IMPURITY_GINI\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the criteria for splits regarding the maximum tree depth (the maximum number of nodes between the root and any leaf node, including the leaf node).\n\u003cbr  /\u003eFor Decision Tree, it requires a number between 2 and 20, and the default is 7. For Random Forest it is a number between 2 and 100, and the default is 16.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MAX_DEPTH\u0027) :\u003d \u00277\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the minimum number of training rows in a node expressed as a percentage of the rows in the training data.\n\u003cbr  /\u003eIt requires a number between 0 and 10.  The default is 0.05, indicating 0.05%.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINPCT_NODE\u0027) :\u003d \u00270.05\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specifyt he minimum number of rows required to consider splitting a node expressed as a percentage of the training rows.\n\u003cbr  /\u003eIt requires a number greater than 0, and smaller or equal to 20.  The default is 0.1, indicating 0.1%.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINPCT_SPLIT\u0027) :\u003d \u00270.1\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify The minimum number of rows in a node.\n\u003cbr  /\u003eIt requires a number greater than or equal to zero. The default is 10.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINREC_NODE\u0027) :\u003d \u002710\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the criteria for splits regarding the minimum number of records in a parent node expressed as a value.\n\u003cbr  /\u003eNo split is attempted if the number of records is below this value.  It requires a number greater than 1.  The default is 20.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINREC_SPLIT\u0027) :\u003d \u002720\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the maximum number of bins for each attribute.\n\u003cbr  /\u003eFor Decision Tree it requires a number between 2 and 2,147,483,647, with the default value of 32. For Random Forest it requires a number between 2 and 254, with the default value of 32.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027CLAS_MAX_SUP_BINS\u0027) :\u003d \u002732\u0027;    \n\u003c/code\u003e\u003c/pre\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676591796378_18762153",
      "id": "paragraph_1676591796378_18762153",
      "dateCreated": "2023-02-16T23:56:36+0000",
      "dateStarted": "2023-02-17T23:19:30+0000",
      "dateFinished": "2023-02-17T23:19:30+0000",
      "status": "FINISHED"
    },
    {
      "title": "Build a Random Forest model for Feature Selection",
      "text": "%script\n\nBEGIN DBMS_DATA_MINING.DROP_MODEL(\u0027RF_FEAT_SELECTION\u0027);\n      EXCEPTION WHEN OTHERS THEN NULL; \nEND;\n/\nDECLARE\n    V_SETLST DBMS_DATA_MINING.SETTING_LIST;\n    \nBEGIN\n    V_SETLST(\u0027PREP_AUTO\u0027)           :\u003d \u0027ON\u0027;\n    V_SETLST(\u0027ALGO_NAME\u0027)           :\u003d \u0027ALGO_RANDOM_FOREST\u0027;\n    V_SETLST(\u0027RFOR_MTRY\u0027)           :\u003d \u00273\u0027;\n    V_SETLST(\u0027RFOR_NUM_TREES\u0027)      :\u003d \u002725\u0027;\n    V_SETLST(\u0027RFOR_SAMPLING_RATIO\u0027) :\u003d \u00270.5\u0027;\n    \n    DBMS_DATA_MINING.CREATE_MODEL2(\n        MODEL_NAME          \u003d\u003e \u0027RF_FEAT_SELECTION\u0027,\n        MINING_FUNCTION     \u003d\u003e \u0027CLASSIFICATION\u0027,\n        DATA_QUERY          \u003d\u003e \u0027SELECT * FROM CUSTOMER_INSURANCE_LTV\u0027,\n        SET_LIST            \u003d\u003e V_SETLST,\n        CASE_ID_COLUMN_NAME \u003d\u003e \u0027CUSTOMER_ID\u0027,\n        TARGET_COLUMN_NAME  \u003d\u003e \u0027BUY_INSURANCE\u0027\n        );\nEND;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676591865195_1435585498",
      "id": "paragraph_1676591865195_1435585498",
      "dateCreated": "2023-02-16T23:57:45+0000",
      "dateStarted": "2023-02-17T23:19:30+0000",
      "dateFinished": "2023-02-17T23:19:33+0000",
      "status": "FINISHED"
    },
    {
      "title": "Plot attributes by importance for predicting people who buy insurance",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, ATTRIBUTE_IMPORTANCE\nFROM   DM$VARF_FEAT_SELECTION \nORDER BY ATTRIBUTE_IMPORTANCE DESC\nFETCH FIRST 10 ROWS ONLY;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_IMPORTANCE": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "rotate",
                  "stacked": true
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "ATTRIBUTE_NAME",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "ATTRIBUTE_IMPORTANCE",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_IMPORTANCE\nMONEY_MONTLY_OVERDRAWN\t0.8668095070288839\nTOTAL_AUTOM_PAYMENTS\t0.8381233447543975\nBANK_FUNDS\t0.7117235921865998\nNUM_TRANS_ATM\t0.6763216009007427\nCHECKING_BALANCE\t0.5736764978371948\nNUM_TRANS_TELLER\t0.531403630259799\nNUM_ONLINE_TRANS\t0.5312016007612806\nMONTHLY_CHECKS\t0.49122807973702387\nNUM_TRANS_KIOSK\t0.47397358205654727\nAGE\t0.4482307544478193\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_350301313",
      "id": "20220124-201424_1205719388",
      "dateCreated": "2020-12-09T15:10:39+0000",
      "dateStarted": "2023-02-17T23:19:34+0000",
      "dateFinished": "2023-02-17T23:19:34+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Feature importance using Decision Tree\n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eFeature importance using Decision Tree\u003c/h3\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-291575661",
      "id": "20220124-201424_279055637",
      "dateCreated": "2021-08-25T01:32:38+0000",
      "dateStarted": "2023-02-17T23:19:34+0000",
      "dateFinished": "2023-02-17T23:19:34+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Examples of possible setting overrides for DT \n\nIf the user does not override the default settings, then relevant settings are determined by the algorithm.\n\nA complete list of settings can be found in the Documentation link:\n\n-- Algorithm Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\u0027);\"\u003eDecision Tree\u003c/a\u003e\n\n-- Shared Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\n\n-- Specify a row weight column \n    v_setlst(\u0027ODMS_ROW_WEIGHT_COLUMN_NAME\u0027) :\u003d \u0027\u003crow_weight_column_name\u003e\u0027;\n   \n-- Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is `ODMS_MISSING_VALUE_AUTO`.  The option `ODMS_MISSING_VALUE_MEAN_MODE` replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option `ODMS_MISSING_VALUE_AUTO` performs different strategies for different algorithms.  When `ODMS_MISSING_VALUE_TREATMENT` is set to `ODMS_MISSING_VALUE_DELETE_ROW`, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.\n    v_setlst(\u0027ODMS_MISSING_VALUE_TREATMENT\u0027) :\u003d \u0027ODMS_MISSING_VALUE_AUTO\u0027;\n\n-- Specify Tree impurity metric for Decision Tree. \n   Tree algorithms seek the best test question for splitting data at each node. The best splitter and split values are those that result in the largest increase in target value homogeneity (purity) for the entities in the node. Purity is by a metric. Decision trees can use either Gini `TREE_IMPURITY_GINI` or entropy `TREE_IMPURITY_ENTROPY` as the purity metric. By default, the algorithm uses `TREE_IMPURITY_GINI`.\n    v_setlst(\u0027TREE_IMPURITY_METRIC\u0027) :\u003d \u0027TREE_IMPURITY_GINI\u0027;\n    \n-- Specify the criteria for splits regarding the maximum tree depth (the maximum number of nodes between the root and any leaf node, including the leaf node).\n   For Decision Tree, it requires a number between 2 and 20, and the default is 7. For Random Forest it is a number between 2 and 100, and the default is 16.\n    v_setlst(\u0027TREE_TERM_MAX_DEPTH\u0027) :\u003d \u00277\u0027;\n    \n-- Specify the minimum number of training rows in a node expressed as a percentage of the rows in the training data.\n   It requires a number between 0 and 10.  The default is 0.05, indicating 0.05%. \n    v_setlst(\u0027TREE_TERM_MINPCT_NODE\u0027) :\u003d \u00270.05\u0027;\n    \n-- Specifyt he minimum number of rows required to consider splitting a node expressed as a percentage of the training rows.\n   It requires a number greater than 0, and smaller or equal to 20.  The default is 0.1, indicating 0.1%. \n    v_setlst(\u0027TREE_TERM_MINPCT_SPLIT\u0027) :\u003d \u00270.1\u0027;\n\n-- Specify The minimum number of rows in a node.\n   It requires a number greater than or equal to zero. The default is 10.      \n    v_setlst(\u0027TREE_TERM_MINREC_NODE\u0027) :\u003d \u002710\u0027;\n    \n-- Specify the criteria for splits regarding the minimum number of records in a parent node expressed as a value. \n   No split is attempted if the number of records is below this value.  It requires a number greater than 1.  The default is 20.       \n    v_setlst(\u0027TREE_TERM_MINREC_SPLIT\u0027) :\u003d \u002720\u0027;\n    \n-- Specify the maximum number of bins for each attribute.\n   For Decision Tree it requires a number between 2 and 2,147,483,647, with the default value of 32. For Random Forest it requires a number between 2 and 254, with the default value of 32.\n    v_setlst(\u0027CLAS_MAX_SUP_BINS\u0027) :\u003d \u002732\u0027;    \n    \n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eExamples of possible setting overrides for DT\u003c/h3\u003e\n\u003cp\u003eIf the user does not override the default settings, then relevant settings are determined by the algorithm.\u003c/p\u003e\n\u003cp\u003eA complete list of settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Algorithm Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566\u0027);\"\u003eDecision Tree\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Shared Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Specify a row weight column\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027ODMS_ROW_WEIGHT_COLUMN_NAME\u0027) :\u003d \u0027\u0026lt;row_weight_column_name\u0026gt;\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is \u003ccode\u003eODMS_MISSING_VALUE_AUTO\u003c/code\u003e.  The option \u003ccode\u003eODMS_MISSING_VALUE_MEAN_MODE\u003c/code\u003e replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option \u003ccode\u003eODMS_MISSING_VALUE_AUTO\u003c/code\u003e performs different strategies for different algorithms.  When \u003ccode\u003eODMS_MISSING_VALUE_TREATMENT\u003c/code\u003e is set to \u003ccode\u003eODMS_MISSING_VALUE_DELETE_ROW\u003c/code\u003e, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027ODMS_MISSING_VALUE_TREATMENT\u0027) :\u003d \u0027ODMS_MISSING_VALUE_AUTO\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify Tree impurity metric for Decision Tree.\n\u003cbr  /\u003eTree algorithms seek the best test question for splitting data at each node. The best splitter and split values are those that result in the largest increase in target value homogeneity (purity) for the entities in the node. Purity is by a metric. Decision trees can use either Gini \u003ccode\u003eTREE_IMPURITY_GINI\u003c/code\u003e or entropy \u003ccode\u003eTREE_IMPURITY_ENTROPY\u003c/code\u003e as the purity metric. By default, the algorithm uses \u003ccode\u003eTREE_IMPURITY_GINI\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_IMPURITY_METRIC\u0027) :\u003d \u0027TREE_IMPURITY_GINI\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the criteria for splits regarding the maximum tree depth (the maximum number of nodes between the root and any leaf node, including the leaf node).\n\u003cbr  /\u003eFor Decision Tree, it requires a number between 2 and 20, and the default is 7. For Random Forest it is a number between 2 and 100, and the default is 16.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MAX_DEPTH\u0027) :\u003d \u00277\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the minimum number of training rows in a node expressed as a percentage of the rows in the training data.\n\u003cbr  /\u003eIt requires a number between 0 and 10.  The default is 0.05, indicating 0.05%.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINPCT_NODE\u0027) :\u003d \u00270.05\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specifyt he minimum number of rows required to consider splitting a node expressed as a percentage of the training rows.\n\u003cbr  /\u003eIt requires a number greater than 0, and smaller or equal to 20.  The default is 0.1, indicating 0.1%.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINPCT_SPLIT\u0027) :\u003d \u00270.1\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify The minimum number of rows in a node.\n\u003cbr  /\u003eIt requires a number greater than or equal to zero. The default is 10.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINREC_NODE\u0027) :\u003d \u002710\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the criteria for splits regarding the minimum number of records in a parent node expressed as a value.\n\u003cbr  /\u003eNo split is attempted if the number of records is below this value.  It requires a number greater than 1.  The default is 20.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027TREE_TERM_MINREC_SPLIT\u0027) :\u003d \u002720\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the maximum number of bins for each attribute.\n\u003cbr  /\u003eFor Decision Tree it requires a number between 2 and 2,147,483,647, with the default value of 32. For Random Forest it requires a number between 2 and 254, with the default value of 32.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027CLAS_MAX_SUP_BINS\u0027) :\u003d \u002732\u0027;    \n\u003c/code\u003e\u003c/pre\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676592687192_295744774",
      "id": "paragraph_1676592687192_295744774",
      "dateCreated": "2023-02-17T00:11:27+0000",
      "dateStarted": "2023-02-17T23:19:34+0000",
      "dateFinished": "2023-02-17T23:19:34+0000",
      "status": "FINISHED"
    },
    {
      "title": "Build a Decision Tree model for Feature Selection",
      "text": "%script\n\nBEGIN DBMS_DATA_MINING.DROP_MODEL(\u0027DT_FEAT_SELECTION\u0027);\n      EXCEPTION WHEN OTHERS THEN NULL; \nEND;\n/\nDECLARE\n    V_SETLST DBMS_DATA_MINING.SETTING_LIST;\n    \nBEGIN\n    V_SETLST(\u0027PREP_AUTO\u0027)             :\u003d \u0027ON\u0027;\n    V_SETLST(\u0027ALGO_NAME\u0027)             :\u003d \u0027ALGO_DECISION_TREE\u0027;\n    V_SETLST(\u0027TREE_TERM_MAX_DEPTH\u0027)   :\u003d \u002710\u0027;\n    V_SETLST(\u0027TREE_TERM_MINPCT_NODE\u0027) :\u003d \u00270.01\u0027;\n    \n    DBMS_DATA_MINING.CREATE_MODEL2(\n        MODEL_NAME          \u003d\u003e \u0027DT_FEAT_SELECTION\u0027,\n        MINING_FUNCTION     \u003d\u003e \u0027CLASSIFICATION\u0027,\n        DATA_QUERY          \u003d\u003e \u0027SELECT * FROM CUSTOMER_INSURANCE_LTV\u0027,\n        SET_LIST            \u003d\u003e V_SETLST,\n        CASE_ID_COLUMN_NAME \u003d\u003e \u0027CUSTOMER_ID\u0027,\n        TARGET_COLUMN_NAME  \u003d\u003e \u0027BUY_INSURANCE\u0027\n        );\nEND;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-331578343",
      "id": "20220124-201424_2042016131",
      "dateCreated": "2020-12-15T01:24:06+0000",
      "dateStarted": "2023-02-17T23:19:34+0000",
      "dateFinished": "2023-02-17T23:19:38+0000",
      "status": "FINISHED"
    },
    {
      "title": "Display Decision Tree nodes with top support",
      "text": "%sql\n\nSELECT * \nFROM (SELECT NODE, \n             NODE_SUPPORT, \n             PREDICTED_TARGET_VALUE, \n             PARENT,\n             ATTRIBUTE_NAME,\n             OPERATOR, \n             SPLIT.VAL\n      FROM DM$VODT_FEAT_SELECTION A,\n           XMLTABLE( \u0027/Element\u0027 PASSING A.VALUE\n                     COLUMNS\n                     VAL VARCHAR2(20) PATH \u0027.\u0027) SPLIT  \n      ORDER BY 1,2,3,4,5,6,7)\nORDER BY NODE_SUPPORT DESC\nFETCH FIRST 20 ROWS ONLY;\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "NODE": "string",
                      "NODE_SUPPORT": "string",
                      "PREDICTED_TARGET_VALUE": "string",
                      "PARENT": "string",
                      "ATTRIBUTE_NAME": "string",
                      "OPERATOR": "string",
                      "VAL": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "NODE\tNODE_SUPPORT\tPREDICTED_TARGET_VALUE\tPARENT\tATTRIBUTE_NAME\tOPERATOR\tVAL\n1\t8852\tNo\t0\tBANK_FUNDS\t\u003e\t2.46E+002\n2\t5583\tYes\t1\tCHECKING_BALANCE\t\u003c\u003d\t2.125E+002\n22\t5028\tNo\t0\tBANK_FUNDS\t\u003c\u003d\t2.46E+002\n9\t3781\tYes\t2\tMONEY_MONTLY_OVERDRAWN\t\u003e\t5.3254999999999995E+\n10\t3269\tYes\t9\tCREDIT_BALANCE\t\u003c\u003d\t2.85E+001\n20\t3269\tNo\t1\tCHECKING_BALANCE\t\u003e\t2.125E+002\n42\t2610\tNo\t20\tMONEY_MONTLY_OVERDRAWN\t\u003c\u003d\t5.4144999999999996E+\n11\t2040\tYes\t10\tMONEY_MONTLY_OVERDRAWN\t\u003c\u003d\t5.4144999999999996E+\n12\t1936\tYes\t11\tTOTAL_AUTOM_PAYMENTS\t\u003c\u003d\t3.1805E+003\n3\t1802\tNo\t2\tMONEY_MONTLY_OVERDRAWN\t\u003c\u003d\t5.3254999999999995E+\n13\t1769\tYes\t12\tCHECKING_BALANCE\t\u003c\u003d\t1.175E+002\n16\t1229\tYes\t10\tMONEY_MONTLY_OVERDRAWN\t\u003e\t5.4144999999999996E+\n17\t1203\tYes\t16\tTOTAL_AUTOM_PAYMENTS\t\u003c\u003d\t1.4993E+004\n18\t1181\tYes\t17\tBANK_FUNDS\t\u003e\t5.605E+002\n4\t997\tNo\t3\tMONEY_MONTLY_OVERDRAWN\t\u003c\u003d\t5.3105000000000004E+\n14\t971\tYes\t13\tTOTAL_AUTOM_PAYMENTS\t\u003c\u003d\t4.895E+002\n5\t892\tNo\t4\tNUM_TRANS_ATM\t\u003e\t5.0E-001\n37\t888\tYes\t18\tBANK_FUNDS\t\u003c\u003d\t7.391E+003\n24\t848\tNo\t5\tSTATE\tIN\tAK                  \n24\t848\tNo\t5\tSTATE\tIN\tAL                  \n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_1153265055",
      "id": "20220124-201424_2038219013",
      "dateCreated": "2020-12-15T01:29:56+0000",
      "dateStarted": "2023-02-17T23:19:38+0000",
      "dateFinished": "2023-02-17T23:19:38+0000",
      "status": "FINISHED"
    },
    {
      "title": "Select the attributes and their average support",
      "text": "%sql\n\nSELECT DISTINCT ATTRIBUTE_NAME, \n       ROUND(AVG(NODE_SUPPORT),2) AVG_SUPPORT\nFROM (SELECT * \n      FROM (SELECT NODE, \n                   NODE_SUPPORT, \n                   PREDICTED_TARGET_VALUE, \n                   PARENT,\n                   ATTRIBUTE_NAME,\n                   OPERATOR, \n                   SPLIT.VAL\n            FROM DM$VODT_FEAT_SELECTION A,\n            XMLTABLE( \u0027/Element\u0027 PASSING A.VALUE\n                     COLUMNS\n                     VAL VARCHAR2(20) PATH \u0027.\u0027) SPLIT  \n            ORDER BY 1,2,3,4,5,6,7)\n            )\n GROUP BY ATTRIBUTE_NAME\n ORDER BY AVG_SUPPORT DESC\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "AVG_SUPPORT": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tAVG_SUPPORT\nBANK_FUNDS\t2710.67\nCREDIT_BALANCE\t1890.5\nCHECKING_BALANCE\t1498\nMONEY_MONTLY_OVERDRAWN\t1251.17\nSTATE\t781\nTOTAL_AUTOM_PAYMENTS\t607.75\nNUM_TRANS_ATM\t498.5\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676593363537_905528349",
      "id": "paragraph_1676593363537_905528349",
      "dateCreated": "2023-02-17T00:22:43+0000",
      "dateStarted": "2023-02-17T23:19:38+0000",
      "dateFinished": "2023-02-17T23:19:38+0000",
      "status": "FINISHED"
    },
    {
      "title": "Select the attributes and their average support",
      "text": "%sql\n\nSELECT DISTINCT ATTRIBUTE_NAME, \n       ROUND(AVG(NODE_SUPPORT),2) AVG_SUPPORT\nFROM (SELECT * \n      FROM (SELECT NODE, \n                   NODE_SUPPORT, \n                   PREDICTED_TARGET_VALUE, \n                   PARENT,\n                   ATTRIBUTE_NAME,\n                   OPERATOR, \n                   SPLIT.VAL\n            FROM DM$VODT_FEAT_SELECTION A,\n            XMLTABLE( \u0027/Element\u0027 PASSING A.VALUE\n                     COLUMNS\n                     VAL VARCHAR2(20) PATH \u0027.\u0027) SPLIT  \n            ORDER BY 1,2,3,4,5,6,7)\n            )\n GROUP BY ATTRIBUTE_NAME\n ORDER BY AVG_SUPPORT DESC\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "AVG_SUPPORT": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "rotate"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "ATTRIBUTE_NAME",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "AVG_SUPPORT",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tAVG_SUPPORT\nBANK_FUNDS\t2710.67\nCREDIT_BALANCE\t1890.5\nCHECKING_BALANCE\t1498\nMONEY_MONTLY_OVERDRAWN\t1251.17\nSTATE\t781\nTOTAL_AUTOM_PAYMENTS\t607.75\nNUM_TRANS_ATM\t498.5\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676593782349_426004314",
      "id": "paragraph_1676593782349_426004314",
      "dateCreated": "2023-02-17T00:29:42+0000",
      "dateStarted": "2023-02-17T23:19:39+0000",
      "dateFinished": "2023-02-17T23:19:39+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch1\u003eEnd of Script\u003c/h1\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_1447273932",
      "id": "20220124-201424_1402833400",
      "dateCreated": "2020-12-15T01:34:41+0000",
      "dateStarted": "2023-02-17T23:19:39+0000",
      "dateFinished": "2023-02-17T23:19:39+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T23:19:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055264271_-1972239563",
      "id": "20220124-201424_535494817",
      "dateCreated": "2020-12-15T01:34:55+0000",
      "dateStarted": "2023-02-17T23:19:39+0000",
      "dateFinished": "2023-02-17T23:19:39+0000",
      "status": "FINISHED"
    }
  ],
  "name": "OML4SQL Feature Selection Algorithm Based",
  "id": "101051",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  }
}