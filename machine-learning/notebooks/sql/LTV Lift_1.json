{"paragraphs":[{"title":"Targeting “BEST” Lifetime Value (LTV) Customers using Oracle Machine Learning","text":"%md\n### Targeting “BEST” Lifetime Value (LTV) Customers using Oracle Machine Learning\n\nHeather has spent most of her time over the past couple of years extracting and preparing data for analysis. The large volumes of data need extracting and processing mean she spends most of her time waiting for jobs to finish and very little of her time analyzing the data. Demands from marketing are forcing a new approach whereby the data remains in the data warehouse and is processed there. The alternative cloud solution is more complex, and has no direct out of the box processes to analyze the data in place. She started taking a look at Oracle, and found the simple SQL commands in ADWC are familiar, and execute extremely fast, leveraging all the performance features of the platform. Further once she is done can can apply the learning models to incoming data on the fly, and allow end user analysts to immediately see mining results. This drastically reduces the cycle of data preparation, analysis, and publishing. It also means there is no change to analysis/reporting Data Visualization toolset that users are familiar with.\n\nScroll down this notebook and learn how to use OML to create predictive perspectives on data in ADWC, WITHOUT moving it. We will process a small 100k data set, but could use a 100M or billion row data set without worrying about processing time.\n\nThis is an extract of Alphaoffice customer information. We will first get acclimated to Apache Zepplin, the open source interface for interactive collaboration in a team environment.\n\n### The Business Problem:\n#### Increase Sales by Targeting our Best Customers; High Lifetime Value Customers!\nHeather has a hunch that weakening sales may be due to the company selling to non-optimal customers; customers who perhaps have poor credit and fail to make their payments for their purchases. Heather has over 100 variables to consider so wants to first explore her data using simple charts and graphs, but then move onto using Oracle Machine Learning's powerful algorithms to automtically sift through her data to find patterns, new insights and to make predictions that target her best customers–those who have good credit.\n","user":"DHVANI","dateUpdated":"2019-03-27T22:25:00+0000","config":{"colWidth":8,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":false,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Targeting “BEST” Lifetime Value (LTV) Customers using Oracle Machine Learning</h3>\n<p>Heather has spent most of her time over the past couple of years extracting and preparing data for analysis. The large volumes of data need extracting and processing mean she spends most of her time waiting for jobs to finish and very little of her time analyzing the data. Demands from marketing are forcing a new approach whereby the data remains in the data warehouse and is processed there. The alternative cloud solution is more complex, and has no direct out of the box processes to analyze the data in place. She started taking a look at Oracle, and found the simple SQL commands in ADWC are familiar, and execute extremely fast, leveraging all the performance features of the platform. Further once she is done can can apply the learning models to incoming data on the fly, and allow end user analysts to immediately see mining results. This drastically reduces the cycle of data preparation, analysis, and publishing. It also means there is no change to analysis/reporting Data Visualization toolset that users are familiar with.</p>\n<p>Scroll down this notebook and learn how to use OML to create predictive perspectives on data in ADWC, WITHOUT moving it. We will process a small 100k data set, but could use a 100M or billion row data set without worrying about processing time.</p>\n<p>This is an extract of Alphaoffice customer information. We will first get acclimated to Apache Zepplin, the open source interface for interactive collaboration in a team environment.</p>\n<h3>The Business Problem:</h3>\n<h4>Increase Sales by Targeting our Best Customers; High Lifetime Value Customers!</h4>\n<p>Heather has a hunch that weakening sales may be due to the company selling to non-optimal customers; customers who perhaps have poor credit and fail to make their payments for their purchases. Heather has over 100 variables to consider so wants to first explore her data using simple charts and graphs, but then move onto using Oracle Machine Learning's powerful algorithms to automtically sift through her data to find patterns, new insights and to make predictions that target her best customers–those who have good credit.</p>\n"}]},"jobName":"paragraph_1553891546278_-378674135","id":"20190329-203226_710594600","dateCreated":"2019-03-25T14:12:12+0000","dateStarted":"2019-03-25T14:41:23+0000","dateFinished":"2019-03-25T14:41:23+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:7572"},{"text":"%md ![tiny arrow](http://www.oracle.com///technetwork/database/options/advanced-analytics/ltv-5279033.jpg  \"tiny arrow\")\n","user":"CHARLIE","dateUpdated":"2019-04-01T19:12:57+0000","config":{"colWidth":4,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-240034103","id":"20190329-203226_1828555210","dateCreated":"2019-03-25T14:41:45+0000","dateStarted":"2019-03-25T18:28:50+0000","dateFinished":"2019-03-25T18:28:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7573","errorMessage":""},{"text":"%md\n###Links to Additional Information\n\n#### Oracle Autonomous Data Warehouse Cloud product information:  \n#####  <https://cloud.oracle.com/en_US/datawarehouse>\n#### Oracle Machine Learning product information:  \n#####  <http://www.oracle.com/technetwork/database/options/oml/overview/index.html>\n#### Getting Started with Oracle Machine Learning Documentation and Quickstart Tutorials: \n#####  <https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/omlug/getting-started-oracle-machine-learning1.html#GUID-2AEC56A4-E751-48A3-AAA0-0659EDD639BA>\n#### Oracle Data Mining Basics:\n##### <https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/what-is-data-mining.html#GUID-8232ABAD-E6B9-4C70-B227-E00738040932>\n##### <https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/data-mining-basics.html#GUID-2116E665-721E-4EBA-AFE1-A30D6E8078C6>","user":"CHARLIE","dateUpdated":"2019-03-28T13:12:53+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Links to Additional Information</h3>\n<h4>Oracle Autonomous Data Warehouse Cloud product information:</h4>\n<h5><a href=\"https://cloud.oracle.com/en_US/datawarehouse\">https://cloud.oracle.com/en_US/datawarehouse</a></h5>\n<h4>Oracle Machine Learning product information:</h4>\n<h5><a href=\"http://www.oracle.com/technetwork/database/options/oml/overview/index.html\">http://www.oracle.com/technetwork/database/options/oml/overview/index.html</a></h5>\n<h4>Getting Started with Oracle Machine Learning Documentation and Quickstart Tutorials:</h4>\n<h5><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/omlug/getting-started-oracle-machine-learning1.html#GUID-2AEC56A4-E751-48A3-AAA0-0659EDD639BA\">https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/omlug/getting-started-oracle-machine-learning1.html#GUID-2AEC56A4-E751-48A3-AAA0-0659EDD639BA</a></h5>\n<h4>Oracle Data Mining Basics:</h4>\n<h5><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/what-is-data-mining.html#GUID-8232ABAD-E6B9-4C70-B227-E00738040932\">https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/what-is-data-mining.html#GUID-8232ABAD-E6B9-4C70-B227-E00738040932</a></h5>\n<h5><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/data-mining-basics.html#GUID-2116E665-721E-4EBA-AFE1-A30D6E8078C6\">https://docs.oracle.com/en/database/oracle/oracle-database/18/dmcon/data-mining-basics.html#GUID-2116E665-721E-4EBA-AFE1-A30D6E8078C6</a></h5>\n"}]},"jobName":"paragraph_1553891546278_-807258478","id":"20190329-203226_584445197","dateCreated":"2019-03-25T14:42:26+0000","dateStarted":"2019-03-28T13:12:50+0000","dateFinished":"2019-03-28T13:12:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7574"},{"text":"%md \n#### **STEP 1: Review Zepplin Basics**\n\n- Note the page is made up of paragraphs such as this one where the text is sitting See [Apache Zepplin Documentation](https://zeppelin.apache.org/contribution/documentation.html).  Also note that are four icons in the top left of this panel.  Click on each icon to see what happens.  Note that the first icon (arrow) runs the panel.  This one is %md, which is markdown, or formatted text.  Other panels will be of different types (%sql for SQL, #script for PL/SQL).\n- Also see [Oracle Machine Learning documentation](http://www.oracle.com/technetwork/database/options/oml/overview/index.html )\n- Scroll down to the next step.","user":"DHVANI","dateUpdated":"2019-03-28T19:26:28+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4><strong>STEP 1: Review Zepplin Basics</strong></h4>\n<ul>\n<li>Note the page is made up of paragraphs such as this one where the text is sitting See <a href=\"https://zeppelin.apache.org/contribution/documentation.html\">Apache Zepplin Documentation</a>.  Also note that are four icons in the top left of this panel.  Click on each icon to see what happens.  Note that the first icon (arrow) runs the panel.  This one is %md, which is markdown, or formatted text.  Other panels will be of different types (%sql for SQL, #script for PL/SQL).</li>\n<li>Also see <a href=\"http://www.oracle.com/technetwork/database/options/oml/overview/index.html\">Oracle Machine Learning documentation</a></li>\n<li>Scroll down to the next step.</li>\n</ul>\n"}]},"jobName":"paragraph_1553891546278_1345738756","id":"20190329-203226_1778279632","dateCreated":"2019-03-25T14:43:01+0000","dateStarted":"2019-03-25T20:11:46+0000","dateFinished":"2019-03-25T20:11:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7575"},{"text":"%md\nWe have data of customers in table credit_scoring_100k with CUSTOMER_LIFETIME_VALUE as a numeric field. We would like to predict customer's lifetime value as High, Medium or Low and not as a numerical value. This gives us flexibilty to easily identify High Lifetime Value Customers and a company can focus on them. We will use this field to create a categorical field LIFETIME_VALUE_CATEGORY with values High/Medium/Low. \n","user":"DHVANI","dateUpdated":"2019-03-29T16:27:54+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We have data of customers in table credit_scoring_100k with CUSTOMER_LIFETIME_VALUE as a numeric field. We would like to predict customer's lifetime value as High, Medium or Low and not as a numerical value. This gives us flexibilty to easily identify High Lifetime Value Customers and a company can focus on them. We will use this field to create a categorical field LIFETIME_VALUE_CATEGORY with values High/Medium/Low.</p>\n"}]},"jobName":"paragraph_1553891546278_2063992172","id":"20190329-203226_366555735","dateCreated":"2019-03-27T18:14:44+0000","dateStarted":"2019-03-29T16:27:50+0000","dateFinished":"2019-03-29T16:27:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7576"},{"title":"STEP 2: Prepare the Data","text":"%script\n\n/* Click on the arrow to the right to execute this.*/\n\nBEGIN\n\nexecute immediate 'create or replace view credit_scoring_100k_v as select * from charlie.credit_scoring_100k';\n\nend;","user":"CHARLIE","dateUpdated":"2019-03-29T20:37:04+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_-1141654034","id":"20190329-203226_359291647","dateCreated":"2019-03-28T17:05:10+0000","dateStarted":"2019-03-29T20:37:04+0000","dateFinished":"2019-03-29T20:37:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7577"},{"title":"Columns we will use for prediction","text":"%sql \n\n/* Execute this (arrow upper right) */\n\nselect column_name from user_tab_cols where table_name='CREDIT_SCORING_100K_V';","user":"CHARLIE","dateUpdated":"2019-04-01T16:34:42+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_903131892","id":"20190329-203226_408576218","dateCreated":"2019-03-28T17:08:28+0000","dateStarted":"2019-04-01T16:34:42+0000","dateFinished":"2019-04-01T16:34:42+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7578"},{"title":"View 100 rows of data","text":"%sql\n\n/* This shows the credit scoring data we will use to predict the lifetime value of a customer. */\n\nSelect * from credit_scoring_100k_v where rownum < 100;\n","user":"CHARLIE","dateUpdated":"2019-04-01T16:35:09+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_1297836176","id":"20190329-203226_43536357","dateCreated":"2019-03-28T17:08:27+0000","dateStarted":"2019-04-01T16:35:09+0000","dateFinished":"2019-04-01T16:35:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7579","errorMessage":""},{"title":"Total number of rows in our dataset","text":"%sql\nSELECT count(*) FROM credit_scoring_100k_v;\n","user":"CHARLIE","dateUpdated":"2019-03-29T20:39:07+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(*)\n100000\n"}]},"jobName":"paragraph_1553891546278_-1244094144","id":"20190329-203226_1578081899","dateCreated":"2019-03-28T16:59:36+0000","dateStarted":"2019-03-29T20:39:07+0000","dateFinished":"2019-03-29T20:39:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7580"},{"title":"Check the distribution of CUSTOMER_LIFETIME_VALUE and label them as Low/Medium/High","text":"%sql\n   SELECT COUNT(customer_id), range\n   FROM(\n        select customer_id,\n          CASE\n          when CUSTOMER_LIFETIME_VALUE >= 0 and CUSTOMER_LIFETIME_VALUE< 100000 then 'Low'\n          when CUSTOMER_LIFETIME_VALUE >= 100000 and CUSTOMER_LIFETIME_VALUE<300000 then 'Medium'\n          else 'High' END AS RANGE\n        FROM credit_scoring_100k_v) t\n    GROUP BY range;\n","user":"CHARLIE","dateUpdated":"2019-04-01T16:35:21+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{}},"commonSetting":{},"keys":[{"name":"RANGE","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"COUNT(CUSTOMER_ID)","index":0,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1498268234","id":"20190329-203226_435522295","dateCreated":"2019-03-28T17:14:50+0000","dateStarted":"2019-04-01T16:35:21+0000","dateFinished":"2019-04-01T16:35:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7581","errorMessage":""},{"title":"Create table and add LIFETIME_VALUE_CATEGORY column","text":"%script\nDROP TABLE PREDICT_LTV_BIN;\nCREATE TABLE PREDICT_LTV_BIN AS (SELECT * FROM charlie.credit_scoring_100k);\nALTER TABLE PREDICT_LTV_BIN\nADD LIFETIME_VALUE_CATEGORY VARCHAR2(15);","user":"CHARLIE","dateUpdated":"2019-04-01T16:35:31+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nTable PREDICT_LTV_BIN dropped.\n\n\n---------------------------\n\nTable PREDICT_LTV_BIN created.\n\n\n---------------------------\n\nTable PREDICT_LTV_BIN altered.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_2690455","id":"20190329-203226_1390568867","dateCreated":"2019-03-28T17:17:20+0000","dateStarted":"2019-04-01T16:35:31+0000","dateFinished":"2019-04-01T16:35:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7582"},{"title":"Verify the count in the PREDICT_LTV_BIN table","text":"%sql\nselect count(*) from PREDICT_LTV_BIN;","user":"CHARLIE","dateUpdated":"2019-04-01T16:35:43+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(*)\n100000\n"}]},"jobName":"paragraph_1553891546278_1139334118","id":"20190329-203226_306573181","dateCreated":"2019-03-28T17:22:19+0000","dateStarted":"2019-04-01T16:35:43+0000","dateFinished":"2019-04-01T16:35:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7583"},{"title":"Update PREDICT_LTV_BIN to categorize customers as Low, Medium, High lifetime values","text":"%script\nUPDATE PREDICT_LTV_BIN\nSET LIFETIME_VALUE_CATEGORY = 'High'\nWHERE EXISTS (SELECT credit_scoring_100k_v.customer_id\n        FROM credit_scoring_100k_v\n        WHERE credit_scoring_100k_v.CUSTOMER_LIFETIME_VALUE >= 300000 and credit_scoring_100k_v.CUSTOMER_ID = PREDICT_LTV_BIN.customer_id);\n\nUPDATE PREDICT_LTV_BIN\nSET LIFETIME_VALUE_CATEGORY = 'Medium'\nWHERE EXISTS (SELECT credit_scoring_100k_v.customer_id\n        FROM credit_scoring_100k_v\n        WHERE credit_scoring_100k_v.CUSTOMER_LIFETIME_VALUE >= 100000 and credit_scoring_100k_v.CUSTOMER_LIFETIME_VALUE < 300000 and credit_scoring_100k_v.CUSTOMER_ID = PREDICT_LTV_BIN.customer_id);\n\nUPDATE PREDICT_LTV_BIN\nSET LIFETIME_VALUE_CATEGORY = 'Low'\nWHERE EXISTS (SELECT credit_scoring_100k_v.customer_id\n        FROM credit_scoring_100k_v\n        WHERE credit_scoring_100k_v.CUSTOMER_LIFETIME_VALUE >= 0 and credit_scoring_100k_v.CUSTOMER_LIFETIME_VALUE < 100000 and credit_scoring_100k_v.CUSTOMER_ID = PREDICT_LTV_BIN.customer_id);\n","user":"CHARLIE","dateUpdated":"2019-04-01T16:35:50+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","lineNumbers":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n21,779 rows updated.\n\n\n---------------------------\n\n41,128 rows updated.\n\n\n---------------------------\n\n35,969 rows updated.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_1227268736","id":"20190329-203226_815519640","dateCreated":"2019-03-28T17:22:38+0000","dateStarted":"2019-04-01T16:35:50+0000","dateFinished":"2019-04-01T16:37:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7584"},{"title":"Get the count of rows having NULL lifetime value","text":"%sql\nselect count(*) from PREDICT_LTV_BIN where LIFETIME_VALUE_CATEGORY IS NULL;","user":"DHVANI","dateUpdated":"2019-03-28T19:31:20+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(*)\n1124\n"}]},"jobName":"paragraph_1553891546278_1396931333","id":"20190329-203226_93077838","dateCreated":"2019-03-28T17:22:37+0000","dateStarted":"2019-03-28T17:29:11+0000","dateFinished":"2019-03-28T17:29:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7585"},{"title":"Delete rows having null lifetime value","text":"%sql\nDELETE FROM PREDICT_LTV_BIN\nwhere LIFETIME_VALUE_CATEGORY IS NULL;","user":"DHVANI","dateUpdated":"2019-03-28T19:31:47+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Updated 1124 row(s)."}]},"jobName":"paragraph_1553891546278_1148434619","id":"20190329-203226_1141039905","dateCreated":"2019-03-28T17:29:25+0000","dateStarted":"2019-03-28T17:32:53+0000","dateFinished":"2019-03-28T17:32:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7586"},{"text":"%md\nNow that we have each customer's lifetime value category as High/Medium/Low that we have derived from CUSTOMER_LIFETIME_VALUE, we need to delete the column CUSTOMER_LIFETIME_VALUE as it's no longer needed for running our classification algorithms.","user":"DHVANI","dateUpdated":"2019-03-28T19:35:19+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Now that we have each customer's lifetime value category as High/Medium/Low that we have derived from CUSTOMER_LIFETIME_VALUE, we need to delete the column CUSTOMER_LIFETIME_VALUE as it's no longer needed for running our classification algorithms.</p>\n"}]},"jobName":"paragraph_1553891546278_-1233688246","id":"20190329-203226_2030158555","dateCreated":"2019-03-28T19:32:18+0000","dateStarted":"2019-03-28T19:35:17+0000","dateFinished":"2019-03-28T19:35:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7587"},{"title":"Remove column CUSTOMER_LIFETIME_VALUE","text":"%sql\nALTER table PREDICT_LTV_BIN\nDROP column CUSTOMER_LIFETIME_VALUE;","user":"DHVANI","dateUpdated":"2019-03-28T19:32:13+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Updated 0 row(s)."}]},"jobName":"paragraph_1553891546278_-1306727234","id":"20190329-203226_399043956","dateCreated":"2019-03-28T17:29:23+0000","dateStarted":"2019-03-28T17:36:06+0000","dateFinished":"2019-03-28T17:36:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7588"},{"title":"Show the potential variables we will use","text":"%sql\nselect column_name from user_tab_cols where table_name='PREDICT_LTV_BIN';","user":"DHVANI","dateUpdated":"2019-03-28T17:39:44+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-964636822","id":"20190329-203226_1890146546","dateCreated":"2019-03-28T17:25:20+0000","dateStarted":"2019-03-28T17:36:43+0000","dateFinished":"2019-03-28T17:36:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7589","errorMessage":""},{"title":"Total count of the records","text":"%sql\nselect count(*) from PREDICT_LTV_BIN;","user":"DHVANI","dateUpdated":"2019-03-28T19:35:50+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(*)\n98876\n"}]},"jobName":"paragraph_1553891546278_2059484535","id":"20190329-203226_593606189","dateCreated":"2019-03-27T18:18:41+0000","dateStarted":"2019-03-28T16:35:46+0000","dateFinished":"2019-03-28T16:35:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7590"},{"title":"STEP 3: Run different classification algorithms","text":"%md\nWe will predict the customer's lifetime value as High, Medium, or Low using various classification algorithms.","user":"DHVANI","dateUpdated":"2019-03-28T19:42:21+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We will predict the customer's lifetime value as High, Medium, and Low using various classification algorithms.</p>\n"}]},"jobName":"paragraph_1553891546278_-248126169","id":"20190329-203226_1417789312","dateCreated":"2019-03-25T15:34:05+0000","dateStarted":"2019-03-25T19:45:00+0000","dateFinished":"2019-03-25T19:45:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7591"},{"title":"Decision Tree","text":"%script\n/* Build a classification model and then generate a lift test result and an apply result.  */\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\n\n/*  drop build settings  */\nBEGIN\nv_sql := 'DROP TABLE n1_build_settings_ltv PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop model  */\nBEGIN\nv_sql := 'CALL DBMS_DATA_MINING.DROP_MODEL(''N1_CLASS_MODEL_DT'')';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no model exists');\nEND;\n\n/*  drop apply result  */\nBEGIN\nv_sql := 'DROP TABLE N1_APPLY_RESULT_DT PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop lift result  */\nBEGIN\nv_sql := 'DROP TABLE N1_LIFT_TABLE_DT PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n\n/*  Split the Data into N1_TRAIN_DATA and N1_TEST_DATA  */\nEXECUTE IMMEDIATE 'CREATE OR REPLACE VIEW N1_TRAIN_DATA_LTV AS SELECT * FROM PREDICT_LTV_BIN SAMPLE (60) SEED (1)';\nDBMS_OUTPUT.PUT_LINE ('Created N1_TRAIN_DATA_LTV');\nEXECUTE IMMEDIATE 'CREATE OR REPLACE VIEW N1_TEST_DATA_LTV AS SELECT * FROM PREDICT_LTV_BIN MINUS SELECT * FROM N1_TRAIN_DATA_LTV';\nDBMS_OUTPUT.PUT_LINE ('Created N1_TEST_DATA_LTV');\n\n/*  Create a Build Setting (DT) for Model Build  */\n\nEXECUTE IMMEDIATE 'CREATE TABLE n1_build_settings_ltv (setting_name VARCHAR2(30),setting_value VARCHAR2(4000))';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''ALGO_NAME'', ''ALGO_DECISION_TREE'')';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''PREP_AUTO'', ''ON'')';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n    \n/*  Build a Classification Model  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.CREATE_MODEL(''N1_CLASS_MODEL_DT'', ''CLASSIFICATION'', ''N1_TRAIN_DATA_LTV'', ''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'', ''n1_build_settings_ltv'')';\nDBMS_OUTPUT.PUT_LINE ('Created model: N1_CLASS_MODEL_DT ');\n\n/*  Test the Model by generating a apply result and then create a lift result  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.APPLY(''N1_CLASS_MODEL_DT'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''N1_APPLY_RESULT_DT'')';\nDBMS_OUTPUT.PUT_LINE ('Created apply result: N1_APPLY_RESULT_DT ');\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.COMPUTE_LIFT(''N1_APPLY_RESULT_DT'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'',''N1_LIFT_TABLE_DT'',''High'',''PREDICTION'',''PROBABILITY'',100)';\nDBMS_OUTPUT.PUT_LINE ('Created lift result: N1_LIFT_TABLE_DT ');\n\n\nEND;","user":"DHVANI","dateUpdated":"2019-03-25T19:46:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"DROP TABLE n1_build_settings_ltv PURGE: succeeded\nCALL DBMS_DATA_MINING.DROP_MODEL('N1_CLASS_MODEL_DT'): drop unneccessary - no\nmodel exists\nDROP TABLE N1_APPLY_RESULT_DT PURGE: drop unneccessary - no table exists\nDROP TABLE N1_LIFT_TABLE_DT PURGE: drop unneccessary - no table exists\nCreated N1_TRAIN_DATA_LTV\nCreated N1_TEST_DATA_LTV\nCreated model build settings table: n1_build_settings_ltv \nCreated model: N1_CLASS_MODEL_DT \nCreated apply result: N1_APPLY_RESULT_DT \nCreated lift result: N1_LIFT_TABLE_DT \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_1808149078","id":"20190329-203226_74599209","dateCreated":"2019-03-21T20:57:07+0000","dateStarted":"2019-03-25T19:46:38+0000","dateFinished":"2019-03-25T19:47:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7592"},{"title":"Support Vector Machines","text":"%script\n\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\n-- Cleanup old settings table for repeat runs\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE n1_build_settings_ltv';\nEXCEPTION WHEN OTHERS THEN NULL;\nEND;\n\n\n/* We need to create a table where we store all settings we want to use when training a model */\n\nEXECUTE IMMEDIATE 'CREATE TABLE n1_build_settings_ltv (setting_name VARCHAR2(30),setting_value VARCHAR2(4000))';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''ALGO_NAME'', ''ALGO_SUPPORT_VECTOR_MACHINES'')';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''PREP_AUTO'', ''ON'')';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n\n\n/* Cleanup old model with the same name for repeat runs */\nBEGIN DBMS_DATA_MINING.DROP_MODEL('SVMC_MLS_LTV_BIN');\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n    DBMS_DATA_MINING.CREATE_MODEL(\n        model_name          => 'svmc_mls_ltv_bin', \n        mining_function     => dbms_data_mining.classification,\n        data_table_name     => 'N1_TRAIN_DATA_LTV',\n        case_id_column_name => 'customer_id',\n        target_column_name  => 'lifetime_value_category',\n        settings_table_name => 'n1_build_settings_ltv');\nEND;\n\n\n/*  drop apply result  */\nBEGIN\nv_sql := 'DROP TABLE N1_APPLY_RESULT_SVM PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop lift result  */\nBEGIN\nv_sql := 'DROP TABLE N1_LIFT_TABLE_SVM PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  Test the Model by generating a apply result and then create a lift result  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.APPLY(''svmc_mls_ltv_bin'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''N1_APPLY_RESULT_SVM'')';\nDBMS_OUTPUT.PUT_LINE ('Created apply result: N1_APPLY_RESULT_SVM ');\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.COMPUTE_LIFT(''N1_APPLY_RESULT_SVM'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'',''N1_LIFT_TABLE_SVM'',''High'',''PREDICTION'',''PROBABILITY'',100)';\nDBMS_OUTPUT.PUT_LINE ('Created lift result: N1_LIFT_TABLE_SVM ');\n\nEND;","user":"DHVANI","dateUpdated":"2019-03-28T13:15:52+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Created model build settings table: n1_build_settings_ltv \nDROP TABLE N1_APPLY_RESULT_SVM PURGE: drop unneccessary - no table exists\nDROP TABLE N1_LIFT_TABLE_SVM PURGE: drop unneccessary - no table exists\nCreated apply result: N1_APPLY_RESULT_SVM \nCreated lift result: N1_LIFT_TABLE_SVM \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_1683031973","id":"20190329-203226_1051131293","dateCreated":"2019-03-22T14:30:39+0000","dateStarted":"2019-03-22T15:33:19+0000","dateFinished":"2019-03-22T15:34:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7593"},{"title":"Random Forest","text":"%script\n\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\n-- Cleanup old settings table for repeat runs\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE n1_build_settings_ltv';\nEXCEPTION WHEN OTHERS THEN NULL;\nEND;\n\n\n/* We need to create a table where we store all settings we want to use when training a model */\n\nEXECUTE IMMEDIATE 'CREATE TABLE n1_build_settings_ltv (setting_name VARCHAR2(30),setting_value VARCHAR2(4000))';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''ALGO_NAME'', ''ALGO_RANDOM_FOREST'')';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''PREP_AUTO'', ''ON'')';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n\n\n/* Cleanup old model with the same name for repeat runs */\nBEGIN DBMS_DATA_MINING.DROP_MODEL('RF_MLS_LTV_BIN');\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n    DBMS_DATA_MINING.CREATE_MODEL(\n        model_name          => 'RF_MLS_LTV_BIN', \n        mining_function     => dbms_data_mining.classification,\n        data_table_name     => 'N1_TRAIN_DATA_LTV',\n        case_id_column_name => 'customer_id',\n        target_column_name  => 'lifetime_value_category',\n        settings_table_name => 'n1_build_settings_ltv');\nEND;\n\n\n/*  drop apply result  */\nBEGIN\nv_sql := 'DROP TABLE N1_APPLY_RESULT_RF PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop lift result  */\nBEGIN\nv_sql := 'DROP TABLE N1_LIFT_TABLE_RF PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  Test the Model by generating a apply result and then create a lift result  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.APPLY(''RF_MLS_LTV_BIN'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''N1_APPLY_RESULT_RF'')';\nDBMS_OUTPUT.PUT_LINE ('Created apply result: N1_APPLY_RESULT_RF ');\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.COMPUTE_LIFT(''N1_APPLY_RESULT_RF'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'',''N1_LIFT_TABLE_RF'',''High'',''PREDICTION'',''PROBABILITY'',100)';\nDBMS_OUTPUT.PUT_LINE ('Created lift result: N1_LIFT_TABLE_RF ');\n\nEND;","user":"DHVANI","dateUpdated":"2019-03-27T18:21:22+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Created model build settings table: n1_build_settings_ltv \nDROP TABLE N1_APPLY_RESULT_RF PURGE: drop unneccessary - no table exists\nDROP TABLE N1_LIFT_TABLE_RF PURGE: drop unneccessary - no table exists\nCreated apply result: N1_APPLY_RESULT_RF \nCreated lift result: N1_LIFT_TABLE_RF \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_-246380047","id":"20190329-203226_274265274","dateCreated":"2019-03-22T15:35:17+0000","dateStarted":"2019-03-22T15:38:15+0000","dateFinished":"2019-03-22T15:38:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7594"},{"title":"Neural Network","text":"%script\n\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\n-- Cleanup old settings table for repeat runs\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE n1_build_settings_ltv';\nEXCEPTION WHEN OTHERS THEN NULL;\nEND;\n\n\n/* We need to create a table where we store all settings we want to use when training a model */\n\nEXECUTE IMMEDIATE 'CREATE TABLE n1_build_settings_ltv (setting_name VARCHAR2(30),setting_value VARCHAR2(4000))';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''ALGO_NAME'', ''ALGO_NEURAL_NETWORK'')';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''PREP_AUTO'', ''ON'')';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n\n\n/* Cleanup old model with the same name for repeat runs */\nBEGIN DBMS_DATA_MINING.DROP_MODEL('NN_LTV_BIN');\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n    DBMS_DATA_MINING.CREATE_MODEL(\n        model_name          => 'NN_LTV_BIN', \n        mining_function     => dbms_data_mining.classification,\n        data_table_name     => 'N1_TRAIN_DATA_LTV',\n        case_id_column_name => 'customer_id',\n        target_column_name  => 'lifetime_value_category',\n        settings_table_name => 'n1_build_settings_ltv');\nEND;\n\n\n/*  drop apply result  */\nBEGIN\nv_sql := 'DROP TABLE N1_APPLY_RESULT_NN PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop lift result  */\nBEGIN\nv_sql := 'DROP TABLE N1_LIFT_TABLE_NN PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  Test the Model by generating a apply result and then create a lift result  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.APPLY(''NN_LTV_BIN'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''N1_APPLY_RESULT_NN'')';\nDBMS_OUTPUT.PUT_LINE ('Created apply result: N1_APPLY_RESULT_NN ');\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.COMPUTE_LIFT(''N1_APPLY_RESULT_NN'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'',''N1_LIFT_TABLE_NN'',''High'',''PREDICTION'',''PROBABILITY'',100)';\nDBMS_OUTPUT.PUT_LINE ('Created lift result: N1_LIFT_TABLE_NN ');\n\nEND;\n","user":"DHVANI","dateUpdated":"2019-03-27T18:21:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Created model build settings table: n1_build_settings_ltv \nDROP TABLE N1_APPLY_RESULT_NN PURGE: drop unneccessary - no table exists\nDROP TABLE N1_LIFT_TABLE_NN PURGE: drop unneccessary - no table exists\nCreated apply result: N1_APPLY_RESULT_NN \nCreated lift result: N1_LIFT_TABLE_NN \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_-496024269","id":"20190329-203226_1241265294","dateCreated":"2019-03-22T15:38:51+0000","dateStarted":"2019-03-22T15:41:25+0000","dateFinished":"2019-03-22T15:42:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7595"},{"title":"Naive Bayes","text":"%script\n\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\n-- Cleanup old settings table for repeat runs\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE n1_build_settings_ltv';\nEXCEPTION WHEN OTHERS THEN NULL;\nEND;\n\n\n/* We need to create a table where we store all settings we want to use when training a model */\n\nEXECUTE IMMEDIATE 'CREATE TABLE n1_build_settings_ltv (setting_name VARCHAR2(30),setting_value VARCHAR2(4000))';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''ALGO_NAME'', ''ALGO_NAIVE_BAYES'')';\nEXECUTE IMMEDIATE 'INSERT INTO n1_build_settings_ltv (setting_name, setting_value) VALUES (''PREP_AUTO'', ''ON'')';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n\n\n/* Cleanup old model with the same name for repeat runs */\nBEGIN DBMS_DATA_MINING.DROP_MODEL('NB_LTV_BIN');\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n    DBMS_DATA_MINING.CREATE_MODEL(\n        model_name          => 'NB_LTV_BIN', \n        mining_function     => dbms_data_mining.classification,\n        data_table_name     => 'N1_TRAIN_DATA_LTV',\n        case_id_column_name => 'customer_id',\n        target_column_name  => 'lifetime_value_category',\n        settings_table_name => 'n1_build_settings_ltv');\nEND;\n\n\n/*  drop apply result  */\nBEGIN\nv_sql := 'DROP TABLE N1_APPLY_RESULT_NB PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  drop lift result  */\nBEGIN\nv_sql := 'DROP TABLE N1_LIFT_TABLE_NB PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\n/*  Test the Model by generating a apply result and then create a lift result  */\n\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.APPLY(''NB_LTV_BIN'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''N1_APPLY_RESULT_NB'')';\nDBMS_OUTPUT.PUT_LINE ('Created apply result: N1_APPLY_RESULT_NB ');\nEXECUTE IMMEDIATE 'CALL DBMS_DATA_MINING.COMPUTE_LIFT(''N1_APPLY_RESULT_NB'',''N1_TEST_DATA_LTV'',''CUSTOMER_ID'',''LIFETIME_VALUE_CATEGORY'',''N1_LIFT_TABLE_NB'',''High'',''PREDICTION'',''PROBABILITY'',100)';\nDBMS_OUTPUT.PUT_LINE ('Created lift result: N1_LIFT_TABLE_NB ');\n\nEND;\n\n","user":"DHVANI","dateUpdated":"2019-03-27T18:21:41+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Created model build settings table: n1_build_settings_ltv \nDROP TABLE N1_APPLY_RESULT_NB PURGE: drop unneccessary - no table exists\nDROP TABLE N1_LIFT_TABLE_NB PURGE: drop unneccessary - no table exists\nCreated apply result: N1_APPLY_RESULT_NB \nCreated lift result: N1_LIFT_TABLE_NB \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_-1862080576","id":"20190329-203226_1606485403","dateCreated":"2019-03-22T15:41:16+0000","dateStarted":"2019-03-22T15:48:40+0000","dateFinished":"2019-03-22T15:48:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7596"},{"title":"STEP 4: Compare all the lift results","text":"%md\nWe used 5 different classification algorithms to classify our customers as High/Medium/Low. By comparing the lift results of all the algorithms, we can choose which is the best algorithm to choose.\n","user":"DHVANI","dateUpdated":"2019-03-28T19:42:42+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We used 5 different classification algorithms to classify our customers as High/Medium/Low. By comparing the lift results of all the algorithms, we can choose which is the best algorithm to choose.</p>\n"}]},"jobName":"paragraph_1553891546278_-666272150","id":"20190329-203226_1451377131","dateCreated":"2019-03-22T18:05:27+0000","dateStarted":"2019-03-28T19:37:24+0000","dateFinished":"2019-03-28T19:37:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7597"},{"title":"Consolidate all algorithm's lift data into one table","text":"%script\n\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\nBEGIN\nv_sql := 'DROP TABLE all_lift_data PURGE';\nEXECUTE IMMEDIATE v_sql;\nDBMS_OUTPUT.PUT_LINE (v_sql ||': succeeded');\nEXCEPTION\nWHEN OTHERS THEN\nDBMS_OUTPUT.PUT_LINE (v_sql ||': drop unneccessary - no table exists');\nEND;\n\nEXECUTE IMMEDIATE 'CREATE TABLE all_lift_data (algo_name VARCHAR2(50), QUANTILE_NUMBER NUMBER, GAIN_CUMULATIVE NUMBER)';\nEXECUTE IMMEDIATE 'insert into all_lift_data (QUANTILE_NUMBER, GAIN_CUMULATIVE, algo_name) select QUANTILE_NUMBER, GAIN_CUMULATIVE, cast(''ALGO_DECISION_TREE'' as VARCHAR(50)) AS ALGO_NAME from N1_LIFT_TABLE_DT';\nEXECUTE IMMEDIATE 'insert into all_lift_data (QUANTILE_NUMBER, GAIN_CUMULATIVE, algo_name) select QUANTILE_NUMBER, GAIN_CUMULATIVE, cast(''ALGO_SUPPORT_VECTOR_MACHINES'' as VARCHAR(50)) AS ALGO_NAME from N1_LIFT_TABLE_SVM';\nEXECUTE IMMEDIATE 'insert into all_lift_data (QUANTILE_NUMBER, GAIN_CUMULATIVE, algo_name) select QUANTILE_NUMBER, GAIN_CUMULATIVE, cast(''ALGO_RANDOM_FOREST'' as VARCHAR(50)) AS ALGO_NAME from N1_LIFT_TABLE_RF';\nEXECUTE IMMEDIATE 'insert into all_lift_data (QUANTILE_NUMBER, GAIN_CUMULATIVE, algo_name) select QUANTILE_NUMBER, GAIN_CUMULATIVE, cast(''ALGO_NEURAL_NETWORK'' as VARCHAR(50)) AS ALGO_NAME from N1_LIFT_TABLE_NN';\nEXECUTE IMMEDIATE 'insert into all_lift_data (QUANTILE_NUMBER, GAIN_CUMULATIVE, algo_name) select QUANTILE_NUMBER, GAIN_CUMULATIVE, cast(''ALGO_NAIVE_BAYES'' as VARCHAR(50)) AS ALGO_NAME from N1_LIFT_TABLE_NB';\nDBMS_OUTPUT.PUT_LINE ('Created model build settings table: n1_build_settings_ltv ');\n\nEND;\n\n","user":"DHVANI","dateUpdated":"2019-03-28T19:38:23+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"DROP TABLE all_lift_data PURGE: succeeded\nCreated model build settings table: n1_build_settings_ltv \n\n\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_1005022921","id":"20190329-203226_27820709","dateCreated":"2019-03-25T19:53:37+0000","dateStarted":"2019-03-25T20:04:31+0000","dateFinished":"2019-03-25T20:04:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7598"},{"title":"Evaluate all algorithms","text":"%sql\nselect * from all_lift_data WHERE ALGO_NAME = ${ALGO_NAME='ALGO_RANDOM_FOREST', 'ALGO_RANDOM_FOREST'|'ALGO_NAIVE_BAYES'|'ALGO_DECISION_TREE'|'ALGO_NEURAL_NETWORK'|'ALGO_SUPPORT_VECTOR_MACHINES'};","user":"DHVANI","dateUpdated":"2019-03-28T19:58:27+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"lineChart":{}},"commonSetting":{},"keys":[{"name":"QUANTILE_NUMBER","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"GAIN_CUMULATIVE","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","runOnSelectionChange":true,"title":true},"settings":{"params":{"ALGO_NAME":" 'ALGO_RANDOM_FOREST'"},"forms":{"ALGO_NAME":{"name":"ALGO_NAME","defaultValue":"'ALGO_RANDOM_FOREST'","options":[{"value":" 'ALGO_RANDOM_FOREST'","$$hashKey":"object:15079"},{"value":"'ALGO_NAIVE_BAYES'","$$hashKey":"object:15080"},{"value":"'ALGO_DECISION_TREE'","$$hashKey":"object:15081"},{"value":"'ALGO_NEURAL_NETWORK'","$$hashKey":"object:15082"},{"value":"'ALGO_SUPPORT_VECTOR_MACHINES'","$$hashKey":"object:15083"}],"hidden":false,"$$hashKey":"object:15072"}}},"jobName":"paragraph_1553891546278_-1456848176","id":"20190329-203226_702062170","dateCreated":"2019-03-25T20:06:22+0000","dateStarted":"2019-03-28T19:58:27+0000","dateFinished":"2019-03-28T19:58:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7599","errorMessage":""},{"title":"Evaluate all algorithms","text":"%sql\nselect * from all_lift_data WHERE ALGO_NAME = ${ALGO_NAME='ALGO_RANDOM_FOREST', 'ALGO_RANDOM_FOREST'|'ALGO_NAIVE_BAYES'|'ALGO_DECISION_TREE'|'ALGO_NEURAL_NETWORK'|'ALGO_SUPPORT_VECTOR_MACHINES'};","user":"DHVANI","dateUpdated":"2019-03-28T19:58:35+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"lineChart":{}},"commonSetting":{},"keys":[{"name":"QUANTILE_NUMBER","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"GAIN_CUMULATIVE","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","runOnSelectionChange":true,"title":true,"editorHide":false},"settings":{"params":{"ALGO_NAME":"'ALGO_NAIVE_BAYES'"},"forms":{"ALGO_NAME":{"name":"ALGO_NAME","defaultValue":"'ALGO_RANDOM_FOREST'","options":[{"value":" 'ALGO_RANDOM_FOREST'","$$hashKey":"object:15095"},{"value":"'ALGO_NAIVE_BAYES'","$$hashKey":"object:15096"},{"value":"'ALGO_DECISION_TREE'","$$hashKey":"object:15097"},{"value":"'ALGO_NEURAL_NETWORK'","$$hashKey":"object:15098"},{"value":"'ALGO_SUPPORT_VECTOR_MACHINES'","$$hashKey":"object:15099"}],"hidden":false,"$$hashKey":"object:15088"}}},"jobName":"paragraph_1553891546278_1855426598","id":"20190329-203226_2128784167","dateCreated":"2019-03-27T18:26:20+0000","dateStarted":"2019-03-28T19:58:35+0000","dateFinished":"2019-03-28T19:58:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7600","errorMessage":""},{"title":"STEP 5: Choose the best algorithm and run it","text":"%md\nFrom the above drop-down menu, select the respective algorithm and view it's lift result. We can see that Random Forest performs the best among all the algorithms.\n","user":"DHVANI","dateUpdated":"2019-03-28T19:44:09+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>From the above drop-down menu, select the respective algorithm and view it's lift result. We can see that Random Forest performs the best among all the algorithms.</p>\n"}]},"jobName":"paragraph_1553891546278_117415780","id":"20190329-203226_984293385","dateCreated":"2019-03-25T20:08:31+0000","dateStarted":"2019-03-28T19:43:07+0000","dateFinished":"2019-03-28T19:43:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7601"},{"title":"Run Random Forest on Test Data","text":"%script\nBEGIN EXECUTE IMMEDIATE 'DROP VIEW ltv_bin_apply_data_v_rf';\nEXCEPTION WHEN OTHERS THEN NULL; END;\n/\nCREATE VIEW ltv_bin_apply_data_v_rf\nAS \nSELECT \n\"CUSTOMER_ID\", t.* FROM N1_TEST_DATA_LTV s, TABLE(PREDICTION_SET(RF_MLS_LTV_BIN USING *)) t;","user":"DHVANI","dateUpdated":"2019-03-26T15:41:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"lineNumbers":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nView LTV_BIN_APPLY_DATA_V_RF created.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_1861025749","id":"20190329-203226_2136158291","dateCreated":"2019-03-22T18:05:26+0000","dateStarted":"2019-03-22T18:21:38+0000","dateFinished":"2019-03-22T18:21:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7602"},{"title":"Predicted Customer Lifetime Value","text":"%sql\nselect * from ltv_bin_apply_data_v_rf;","user":"DHVANI","dateUpdated":"2019-03-28T20:16:02+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1338622027","id":"20190329-203226_311712685","dateCreated":"2019-03-22T15:47:01+0000","dateStarted":"2019-03-28T20:16:03+0000","dateFinished":"2019-03-28T20:16:04+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7603"},{"title":"Assign Prediction based on highest likelihood","text":"%sql\nselect customer_id, PREDICTION, PROBABILITY from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY)  from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION = ${PREDICTION='High', 'High'|'Medium'|'Low'};","user":"DHVANI","dateUpdated":"2019-03-29T16:19:36+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","runOnSelectionChange":true,"title":true},"settings":{"params":{"PREDICTION":" 'High'"},"forms":{"PREDICTION":{"name":"PREDICTION","defaultValue":"'High'","options":[{"value":" 'High'","$$hashKey":"object:10909"},{"value":"'Medium'","$$hashKey":"object:10910"},{"value":"'Low'","$$hashKey":"object:10911"}],"hidden":false,"$$hashKey":"object:10901"}}},"jobName":"paragraph_1553891546278_-1673191626","id":"20190329-203226_2042913099","dateCreated":"2019-03-22T20:52:21+0000","dateStarted":"2019-03-27T18:32:46+0000","dateFinished":"2019-03-27T18:32:50+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7604"},{"title":"STEP 6: Get the statistics to check the quality of the model","text":"\n","user":"DHVANI","dateUpdated":"2019-03-28T19:51:14+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1262414212","id":"20190329-203226_437038354","dateCreated":"2019-03-28T19:44:24+0000","status":"READY","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:7605"},{"title":"Accuracy","text":"%script\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE ltv_bin_rf_confusion_matrix';\nEXCEPTION WHEN OTHERS THEN NULL; END;\n/\nDECLARE\n    v_accuracy    NUMBER;\nBEGIN\n    DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX (\n        accuracy => v_accuracy,\n        apply_result_table_name      => 'N1_APPLY_RESULT_RF',\n        target_table_name            => 'N1_TEST_DATA_LTV',\n        case_id_column_name          => 'customer_id',\n        target_column_name           => 'lifetime_value_category',\n        confusion_matrix_table_name  => 'ltv_bin_rf_confusion_matrix',\n        score_column_name            => 'PREDICTION',\n        score_criterion_column_name  => 'PROBABILITY',\n        score_criterion_type         => 'PROBABILITY');\n    DBMS_OUTPUT.PUT_LINE('**** MODEL ACCURACY ****: ' || ROUND(v_accuracy * 100,4));\nEND;\n/\n\n","user":"DHVANI","dateUpdated":"2019-03-28T19:52:43+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n**** MODEL ACCURACY ****: 98.8388\n\n\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_553438227","id":"20190329-203226_2084296616","dateCreated":"2019-03-22T18:21:56+0000","dateStarted":"2019-03-22T18:26:02+0000","dateFinished":"2019-03-22T18:26:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7606"},{"title":"Actual vs Predicted","text":"%sql\n/* We want actual_target_vale as rows and predicted_target_value as column and then value as metric */\nselect * from (\n  select actual_target_value, predicted_target_value, value  \n  from ltv_bin_rf_confusion_matrix) m\npivot ( \n  max(value)\n  for predicted_target_value in ( 'Low' \"Predicted LOW\", 'Medium' \"Predicted MEDIUM\", 'High' \"Predicted HIGH\")\n)\norder by actual_target_value;","user":"DHVANI","dateUpdated":"2019-03-28T19:55:31+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":134,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-888188723","id":"20190329-203226_1279439537","dateCreated":"2019-03-22T18:24:22+0000","dateStarted":"2019-03-22T18:26:19+0000","dateFinished":"2019-03-22T18:26:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7607","errorMessage":""},{"title":"Average Accuracy and Predictive Confidence","text":"%sql\n   WITH\n    a as\n      (SELECT a.actual_target_value, sum(a.value) recall_total\n         FROM ltv_bin_rf_confusion_matrix a\n         group by a.actual_target_value)\n      ,\n    b as\n      (SELECT count(distinct b.actual_target_value) num_recalls\n         FROM ltv_bin_rf_confusion_matrix b)\n      ,\n    c as\n      (SELECT c.actual_target_value, value\n         FROM ltv_bin_rf_confusion_matrix c\n         WHERE actual_target_value = predicted_target_value)\n      ,\n    d as\n      (SELECT NVL(sum(c.value/a.recall_total), 0) tot_accuracy\n         FROM a, c\n         WHERE a.actual_target_value = c.actual_target_value(+))\n    SELECT \n    ROUND(d.tot_accuracy/GREATEST(0.0001, b.num_recalls) * 100, 4) as avg_accuracy,\n    ROUND(GREATEST(0, ((1 - (1 - d.tot_accuracy/GREATEST(0.0001, b.num_recalls)) / GREATEST(0.0001, ((b.num_recalls-1)/GREATEST(0.0001, b.num_recalls)))) * 100)), 4) as predictive_confidence\n    FROM b, d;","user":"DHVANI","dateUpdated":"2019-03-28T19:55:25+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"AVG_ACCURACY\tPREDICTIVE_CONFIDENCE\n98.6636\t97.9954\n"}]},"jobName":"paragraph_1553891546278_-304440264","id":"20190329-203226_383147083","dateCreated":"2019-03-22T18:24:19+0000","dateStarted":"2019-03-22T18:27:27+0000","dateFinished":"2019-03-22T18:27:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7608"},{"title":"STEP 7: Attribute Importance","text":"%script\n/* Check which atttributes are important for LIFETIME_VALUE_CATEGORY */\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE ai_explain_ltv';\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n  DBMS_PREDICTIVE_ANALYTICS.EXPLAIN(\n    data_table_name     => 'PREDICT_LTV_BIN',\n    explain_column_name => 'LIFETIME_VALUE_CATEGORY',\n    result_table_name   => 'ai_explain_ltv');\nEND;\n\nEnd;\n","user":"DHVANI","dateUpdated":"2019-03-28T19:54:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n"}]},"jobName":"paragraph_1553891546278_-1391906982","id":"20190329-203226_1775048638","dateCreated":"2019-03-28T19:52:57+0000","dateStarted":"2019-03-28T19:54:32+0000","dateFinished":"2019-03-28T19:54:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7609"},{"title":"STEP 7: Attribute Importance","text":"%script\n/* Check which atttributes are important for LIFETIME_VALUE_CATEGORY */\nDECLARE\nv_sql varchar2(100);\n\nBEGIN\n\nBEGIN EXECUTE IMMEDIATE 'DROP TABLE ai_explain_ltv';\nEXCEPTION WHEN OTHERS THEN NULL; \nEND;\n\nBEGIN\n  DBMS_PREDICTIVE_ANALYTICS.EXPLAIN(\n    data_table_name     => 'PREDICT_LTV_BIN',\n    explain_column_name => 'LIFETIME_VALUE_CATEGORY',\n    result_table_name   => 'ai_explain_ltv');\nEND;\n\nEnd;\n","user":"CHARLIE","dateUpdated":"2019-04-01T16:01:55+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1554134515125_615087617","id":"20190401-160155_1959790284","dateCreated":"2019-04-01T16:01:55+0000","status":"READY","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:7610"},{"title":"Attributes in order of importance","text":"%sql\nSELECT attribute_name, explanatory_value, rank\n   FROM ai_explain_ltv\n   ORDER BY rank, attribute_name;","user":"DHVANI","dateUpdated":"2019-03-28T19:56:40+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_828448987","id":"20190329-203226_1265179576","dateCreated":"2019-03-28T19:56:00+0000","dateStarted":"2019-03-28T19:56:11+0000","dateFinished":"2019-03-28T19:56:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7611","errorMessage":""},{"title":"Graph the top 7 attributes that most highly influence LIFETIME_VALUE_CATEGORY","text":"%sql\n\n/*  Attribute_Name (Keys), nothing in Groups, Explanatory_Value (Sum) (Values)   */\nSELECT attribute_name, explanatory_value, rank\n   FROM ai_explain_ltv\n   where rownum < 8\n   ORDER BY rank, attribute_name;\n","user":"DHVANI","dateUpdated":"2019-03-28T19:57:32+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1673686178","id":"20190329-203226_308801374","dateCreated":"2019-03-28T19:57:02+0000","dateStarted":"2019-03-28T19:57:30+0000","dateFinished":"2019-03-28T19:57:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7612","errorMessage":""},{"title":"STEP 8: For High/Medium/Low customers predicted, see the distribution of attributes","text":"","user":"DHVANI","dateUpdated":"2019-03-28T20:22:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_1702539874","id":"20190329-203226_913825117","dateCreated":"2019-03-28T20:21:22+0000","status":"READY","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:7613"},{"title":"For High/Medium/Low Value Customers predicted, see the distribution of Marital Status","text":"%sql\nselect * from predict_ltv_bin where customer_id IN (select customer_id from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY) from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION = ${PREDICTION='High', 'High'|'Medium'|'Low'});","user":"DHVANI","dateUpdated":"2019-03-28T20:35:04+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{}},"commonSetting":{},"keys":[{"name":"MARITAL_STATUS","index":3,"aggr":"sum"}],"groups":[],"values":[{"name":"CUSTOMER_ID","index":0,"aggr":"count"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true,"runOnSelectionChange":true},"settings":{"params":{"PREDICTION":" 'High'"},"forms":{"PREDICTION":{"name":"PREDICTION","defaultValue":"'High'","options":[{"value":" 'High'","$$hashKey":"object:15196"},{"value":"'Medium'","$$hashKey":"object:15197"},{"value":"'Low'","$$hashKey":"object:15198"}],"hidden":false,"$$hashKey":"object:15189"}}},"jobName":"paragraph_1553891546278_-1234294485","id":"20190329-203226_931548362","dateCreated":"2019-03-25T16:44:16+0000","dateStarted":"2019-03-28T20:24:29+0000","dateFinished":"2019-03-28T20:24:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7614","errorMessage":""},{"title":"For High/Medium/Low Value Customers predicted, see the distribution of Wealth","text":"%sql\nselect * from predict_ltv_bin where customer_id IN (select customer_id from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY) from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and  PREDICTION = ${PREDICTION='High', 'High'|'Medium'|'Low'}); ","user":"DHVANI","dateUpdated":"2019-03-28T20:36:04+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":302,"optionOpen":false,"setting":{"multiBarChart":{}},"commonSetting":{},"keys":[{"name":"WEALTH","index":5,"aggr":"sum"}],"groups":[],"values":[{"name":"CUSTOMER_ID","index":0,"aggr":"count"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true,"runOnSelectionChange":true,"editorHide":false},"settings":{"params":{"PREDICTION":" 'High'"},"forms":{"PREDICTION":{"name":"PREDICTION","defaultValue":"'High'","options":[{"value":" 'High'","$$hashKey":"object:15184"},{"value":"'Medium'","$$hashKey":"object:15185"},{"value":"'Low'","$$hashKey":"object:15186"}],"hidden":false,"$$hashKey":"object:15177"}}},"jobName":"paragraph_1553891546278_236047444","id":"20190329-203226_884028761","dateCreated":"2019-03-27T18:36:51+0000","dateStarted":"2019-03-28T20:32:42+0000","dateFinished":"2019-03-28T20:32:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7615","errorMessage":""},{"title":"For High Value Customers predicted, see the distribution of Highest Credit Card Limit","text":"%sql\nselect * from predict_ltv_bin where customer_id IN (select customer_id from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY) from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION='High'); ","user":"DHVANI","dateUpdated":"2019-03-28T20:46:22+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"pieChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false}},"commonSetting":{},"keys":[{"name":"HIGHEST_CREDIT_CARD_LIMIT","index":31,"aggr":"sum"}],"groups":[],"values":[{"name":"CUSTOMER_ID","index":0,"aggr":"count"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_544354414","id":"20190329-203226_427897230","dateCreated":"2019-03-26T16:14:14+0000","dateStarted":"2019-03-26T19:22:08+0000","dateFinished":"2019-03-26T19:22:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7616","errorMessage":""},{"title":"For High Value Customers predicted, see the distribution of Education Level","text":"%sql\nselect * from predict_ltv_bin where customer_id IN (select customer_id from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY) from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION='High'); ","user":"DHVANI","dateUpdated":"2019-03-28T20:38:10+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"pieChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{"stacked":false},"pieChart":{}},"commonSetting":{},"keys":[{"name":"EDUCATION_LEVEL","index":6,"aggr":"sum"}],"groups":[],"values":[{"name":"CUSTOMER_ID","index":0,"aggr":"count"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_1479670379","id":"20190329-203226_294951638","dateCreated":"2019-03-27T18:43:08+0000","dateStarted":"2019-03-27T18:43:12+0000","dateFinished":"2019-03-27T18:43:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7617","errorMessage":""},{"title":"For High Value Customers predicted, see the distribution of Facebook Influence Score","text":"%sql\nselect * from predict_ltv_bin where customer_id IN (select customer_id from ltv_bin_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY) from ltv_bin_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION='High'); ","user":"DHVANI","dateUpdated":"2019-03-28T20:46:37+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{}},"commonSetting":{},"keys":[{"name":"FACEBOOK_INFLUENCE_SCORE","index":58,"aggr":"sum"}],"groups":[],"values":[{"name":"CUSTOMER_ID","index":0,"aggr":"count"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_1495892644","id":"20190329-203226_351368242","dateCreated":"2019-03-26T19:22:08+0000","dateStarted":"2019-03-26T19:22:23+0000","dateFinished":"2019-03-26T19:22:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7618","errorMessage":""},{"title":"STEP 9: Run Random Forest on new customer data","text":"%script\nBEGIN EXECUTE IMMEDIATE 'DROP VIEW credit_scoring_100k_apply_data_v_rf';\nEXCEPTION WHEN OTHERS THEN NULL; END;\n/\nCREATE VIEW credit_scoring_100k_apply_data_v_rf\nAS \nSELECT \n\"CUSTOMER_ID\", t.* FROM credit_scoring_100k_ltv s, TABLE(PREDICTION_SET(RF_MLS_LTV_BIN USING *)) t;","user":"DHVANI","dateUpdated":"2019-03-29T18:22:52+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nView CREDIT_SCORING_100K_APPLY_DATA_V_RF created.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_1001919272","id":"20190329-203226_693604360","dateCreated":"2019-03-28T20:46:52+0000","dateStarted":"2019-03-29T18:22:52+0000","dateFinished":"2019-03-29T18:22:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7619"},{"title":"Predicted values","text":"%sql\nselect * from credit_scoring_100k_apply_data_v_rf;\n","user":"DHVANI","dateUpdated":"2019-03-29T18:22:56+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1058622879","id":"20190329-203226_961202669","dateCreated":"2019-03-28T20:52:24+0000","dateStarted":"2019-03-29T18:22:56+0000","dateFinished":"2019-03-29T18:22:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7620"},{"title":"Assign Prediction based on highest likelihood","text":"%sql\nselect customer_id, PREDICTION, PROBABILITY from credit_scoring_100k_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY)  from credit_scoring_100k_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION = ${PREDICTION='High', 'High'|'Medium'|'Low'} order by PROBABILITY desc;","user":"DHVANI","dateUpdated":"2019-03-29T16:20:17+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","runOnSelectionChange":true,"title":true},"settings":{"params":{"PREDICTION":" 'High'"},"forms":{"PREDICTION":{"name":"PREDICTION","defaultValue":"'High'","options":[{"value":" 'High'","$$hashKey":"object:15144"},{"value":"'Medium'","$$hashKey":"object:15145"},{"value":"'Low'","$$hashKey":"object:15146"}],"hidden":false,"$$hashKey":"object:15137"}}},"jobName":"paragraph_1553891546278_313510237","id":"20190329-203226_205370936","dateCreated":"2019-03-28T20:52:48+0000","dateStarted":"2019-03-28T20:56:47+0000","dateFinished":"2019-03-28T20:56:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7621","errorMessage":""},{"title":"Get High Value Customers predicted","text":"%srcipt\nBEGIN EXECUTE IMMEDIATE 'DROP VIEW high_ltv_predicted_v';\nEXCEPTION WHEN OTHERS THEN NULL; END;\n/\nCREATE VIEW high_ltv_predicted_v\nAS \nSELECT customer_id, PREDICTION, PROBABILITY from credit_scoring_100k_apply_data_v_rf where PROBABILITY IN  (select MAX(PROBABILITY)  from credit_scoring_100k_apply_data_v_rf group by CUSTOMER_ID) and PREDICTION = 'High';","user":"DHVANI","dateUpdated":"2019-03-29T16:23:17+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"plsql","editOnDblClick":false},"editorMode":"ace/mode/plsql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nView HIGH_LTV_PREDICTED_V created.\n\n\n---------------------------\n"}]},"jobName":"paragraph_1553891546278_-1895136697","id":"20190329-203226_334631785","dateCreated":"2019-03-28T20:58:25+0000","dateStarted":"2019-03-28T20:59:56+0000","dateFinished":"2019-03-28T20:59:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7622"},{"title":"View data for High Valued Customers predicted","text":"%sql\nselect customer_id, probability from HIGH_LTV_PREDICTED_V;","user":"DHVANI","dateUpdated":"2019-03-29T16:25:00+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_-1123037829","id":"20190329-203226_103814863","dateCreated":"2019-03-28T21:00:02+0000","dateStarted":"2019-03-29T16:24:33+0000","dateFinished":"2019-03-29T16:24:36+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7623"},{"title":"Count the High Value Customers predicted","text":"%sql\nselect count(*) from HIGH_LTV_PREDICTED_V;","user":"DHVANI","dateUpdated":"2019-03-29T18:23:16+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":94,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(*)\n21611\n"}]},"jobName":"paragraph_1553891546278_-525758234","id":"20190329-203226_1775940165","dateCreated":"2019-03-28T21:00:23+0000","dateStarted":"2019-03-29T18:23:16+0000","dateFinished":"2019-03-29T18:23:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7624"},{"title":"Get the cream of High Lifetime Value Customers","text":"%sql\n   SELECT COUNT(customer_id), range\n   FROM(\n        select customer_id,\n          CASE\n          when probability >= 0 and probability < 0.2 then 'Very Low'\n          when probability > 0.2 and probability < 0.4 then 'Low'\n          when probability > 0.4 and probability < 0.6 then 'Medium'\n          when probability > 0.6 and probability < 0.8 then 'High'\n          else 'Very High' END AS RANGE\n        FROM HIGH_LTV_PREDICTED_V) t\n    GROUP BY range;","user":"DHVANI","dateUpdated":"2019-03-29T18:01:12+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"multiBarChart":{}},"commonSetting":{},"keys":[{"name":"RANGE","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"COUNT(CUSTOMER_ID)","index":0,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"COUNT(CUSTOMER_ID)\tRANGE\n1205\tHigh\n20143\tVery High\n263\tMedium\n"}]},"jobName":"paragraph_1553891546278_1992071343","id":"20190329-203226_137844016","dateCreated":"2019-03-29T16:26:45+0000","dateStarted":"2019-03-29T16:31:34+0000","dateFinished":"2019-03-29T16:31:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:7625"},{"title":"Conclusion","text":"%md\nThus, we have seen how to predict high lifetime value customers so that businesses can focus on them and have a better chance of generating revenue. We have also seen how we can bin data, use various OML algorithms to predict as per our requirements, choose the algorithm that suits our needs. We can also further analyse the predicted data.","user":"DHVANI","dateUpdated":"2019-03-29T18:25:37+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Thus, we have seen how to predict high lifetime value customers so that businesses can focus on them and have a better chance of generating revenue. We have also seen how we can bin data, use various OML algorithms to predict as per our requirements, choose the algorithm that suits our needs. We can also further analyse the predicted data.</p>\n"}]},"jobName":"paragraph_1553891546278_2060615397","id":"20190329-203226_199063044","dateCreated":"2019-03-29T16:26:43+0000","dateStarted":"2019-03-29T18:25:35+0000","dateFinished":"2019-03-29T18:25:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:7626"},{"text":"","user":"DHVANI","dateUpdated":"2019-03-28T20:51:33+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1553891546278_1611194136","id":"20190329-203226_232628190","dateCreated":"2019-03-26T19:22:23+0000","status":"READY","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:7627"}],"name":"LTV Lift_1","id":"130127","angularObjects":{"ORAB45381C728:shared_process":[],"ORACA3BE4B5AB:shared_process":[],"ORACFE2D7596B:shared_process":[],"MDW381939C745:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}