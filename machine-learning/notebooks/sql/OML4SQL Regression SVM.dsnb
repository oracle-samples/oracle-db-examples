[{"layout":null,"template":null,"templateConfig":null,"name":"OML4SQL Regression SVM","description":null,"readOnly":false,"type":"medium","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1715284536613,"interpreter":"md.medium","endTime":1715284536774,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","# Regression Modeling to Predict Numerical Values using Support Vector Machine","This notebook shows how to predict numerical values using a multiple regression. Given demographic, purchase, and affinity card data for a set of customers, predict the number of years a customer remains at the same residence, as found in column YRS_RESIDENCE. Since YRS_RESIDENCE is a continuous variable, we will use the Support Vector Machine algorithm. All processing occurs inside Oracle Autonomous Database.","","Copyright (c) 2024 Oracle Corporation ","###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a>","---"],"enabled":true,"result":{"startTime":1715284585042,"interpreter":"md.medium","endTime":1715284585111,"results":[{"message":"<h1 id=\"regression-modeling-to-predict-numerical-values-using-support-vector-machine\">Regression Modeling to Predict Numerical Values using Support Vector Machine<\/h1>\n<p>This notebook shows how to predict numerical values using a multiple regression. Given demographic, purchase, and affinity card data for a set of customers, predict the number of years a customer remains at the same residence, as found in column YRS_RESIDENCE. Since YRS_RESIDENCE is a continuous variable, we will use the Support Vector Machine algorithm. All processing occurs inside Oracle Autonomous Database.<\/p>\n<p>Copyright (c) 2024 Oracle Corporation<\/p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a><\/h6>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":9,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md ","<dl>","<img src=\"https://www.oracle.com/technetwork/database/options/advanced-analytics/regression-5663170.jpg\" alt=\"OML Notebooks\" width=\"250\"/>","<\/dl>"],"enabled":true,"result":{"startTime":1715284537084,"interpreter":"md.medium","endTime":1715284537160,"results":[{"message":"<dl>\n<img src=\"https://www.oracle.com/technetwork/database/options/advanced-analytics/regression-5663170.jpg\" alt=\"OML Notebooks\" width=\"250\"/>\n<\/dl>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":3,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For more information...","message":["%md ","","* <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a>","* <a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a>","* <a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a>","* <a href=\"https://www.oracle.com/goto/ml-regression\" target=\"_blank\">OML Regression<\/a>","* <a href=\"https://oracle.com/goto/ml-support-vector-machine\" target=\"_blank\">OML Support Vector Machine<\/a>"],"enabled":true,"result":{"startTime":1715284537236,"interpreter":"md.medium","endTime":1715284537310,"results":[{"message":"<ul>\n<li><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADB Documentation<\/a><\/li>\n<li><a href=\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a><\/li>\n<li><a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a><\/li>\n<li><a href=\"https://www.oracle.com/goto/ml-regression\" target=\"_blank\">OML Regression<\/a><\/li>\n<li><a href=\"https://oracle.com/goto/ml-support-vector-machine\" target=\"_blank\">OML Support Vector Machine<\/a><\/li>\n<\/ul>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Create table CUSTOMERS360 joining tables from SH schema","message":["%script","","BEGIN EXECUTE IMMEDIATE 'DROP TABLE CUSTOMERS360';","EXCEPTION WHEN OTHERS THEN NULL; END;","/","CREATE TABLE CUSTOMERS360 AS ","  SELECT A.CUST_ID, A.CUST_GENDER, A.CUST_MARITAL_STATUS, A.CUST_YEAR_OF_BIRTH, ","         A.CUST_INCOME_LEVEL, A.CUST_CREDIT_LIMIT, ","         B.EDUCATION, B.AFFINITY_CARD, B.HOUSEHOLD_SIZE, B.OCCUPATION, B.YRS_RESIDENCE, B.Y_BOX_GAMES","  FROM SH.CUSTOMERS A, SH.SUPPLEMENTARY_DEMOGRAPHICS B","  WHERE A.CUST_ID = B.CUST_ID;","  "],"enabled":true,"result":{"startTime":1715284537387,"interpreter":"script.medium","endTime":1715284540289,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nTable CUSTOMERS360 created.\n\n\n---------------------------\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Split data into randomly selected 60% sample for train and 40% test","message":["%script","","CREATE OR REPLACE VIEW TRAIN_DATA_V AS SELECT * FROM CUSTOMERS360 SAMPLE (60) SEED (1);","","CREATE OR REPLACE VIEW TEST_DATA_V AS SELECT * FROM CUSTOMERS360 MINUS SELECT * FROM TRAIN_DATA_V;"],"enabled":true,"result":{"startTime":1715284540369,"interpreter":"script.medium","endTime":1715284540608,"results":[{"message":"\nView TRAIN_DATA_V created.\n\n\n---------------------------\n\nView TEST_DATA_V created.\n\n\n---------------------------\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","### Build a SVM Linear regression model for predicting YRS_RESIDENCE","","---"],"enabled":true,"result":{"startTime":1715284540689,"interpreter":"md.medium","endTime":1715284540750,"results":[{"message":"<h3 id=\"build-a-svm-linear-regression-model-for-predicting-yrs_residence\">Build a SVM Linear regression model for predicting YRS_RESIDENCE<\/h3>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":" Using the default options","message":["%script","","BEGIN DBMS_DATA_MINING.DROP_MODEL('SVML_SH_REGR_SAMPLE');","EXCEPTION WHEN OTHERS THEN NULL; END;","/","DECLARE","    v_setlst DBMS_DATA_MINING.SETTING_LIST;","    ","BEGIN","    v_setlst('PREP_AUTO') := 'ON';","    v_setlst('ALGO_NAME') := 'ALGO_SUPPORT_VECTOR_MACHINES';","","    DBMS_DATA_MINING.CREATE_MODEL2(","        MODEL_NAME          => 'SVML_SH_REGR_SAMPLE',","        MINING_FUNCTION     => 'REGRESSION',","        DATA_QUERY          => 'SELECT * FROM TRAIN_DATA_V',","        SET_LIST            => v_setlst,","        CASE_ID_COLUMN_NAME => 'CUST_ID',","        TARGET_COLUMN_NAME  => 'YRS_RESIDENCE'","        );","        ","END;"],"enabled":true,"result":{"startTime":1715284540829,"interpreter":"script.medium","endTime":1715284546548,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","### Examples of possible setting overrides for SVM ","","If the user does not override the default settings, then relevant settings are determined by the algorithm.","","A complete list of settings can be found in the Documentation link:","","- Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-12408982-E738-4D0F-A2BC-84D895E07ABB\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-12408982-E738-4D0F-A2BC-84D895E07ABB');\">Support Vector Machine<\/a>","","- Shared Settings: <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75');\">All algorithms<\/a>","","- Specify a row weight column ","> v_setlst('ODMS_ROW_WEIGHT_COLUMN_NAME') := '<row_weight_column_name>'; ","- Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is `ODMS_MISSING_VALUE_AUTO`.  The option `ODMS_MISSING_VALUE_MEAN_MODE` replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option `ODMS_MISSING_VALUE_AUTO` performs different strategies for different algorithms.  When `ODMS_MISSING_VALUE_TREATMENT` is set to `ODMS_MISSING_VALUE_DELETE_ROW`, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.","> v_setlst('ODMS_MISSING_VALUE_TREATMENT') := 'ODMS_MISSING_VALUE_AUTO';","- Switch between Kernel Types - Linear or Gaussian. By default the system uses the Linear Kernel. Options are: `SVMS_LINEAR` and `SVMS_GAUSSIAN`.  The linear kernel also is able to return the coefficients, while this is not available on the Gaussian","> v_setlst('SVMS_KERNEL_FUNCTION') := 'SVMS_LINEAR';","- Value of complexity factor for SVM algorithm (both classification and regression). Default value estimated from the data by the algorithm.","> v_setlst('SVMS_COMPLEXITY_FACTOR') := '0.1';","- Type of regularization that the SGD SVM solver uses (only available for linear SVM models). The default is system determined because it depends on the potential model size.  Options are: `SVMS_REGULARIZER_L1` and `SVMS_REGULARIZER_L2`. ","> v_setlst('SVMS_REGULARIZER') := 'SVMS_REGULARIZER_L1';","- Regularization setting for regression (Epsilon specifies the allowable residuals, or noise, in the data).     ","> v_setlst('SVMS_EPSILON') := '0.1';","- Batch rows sets the size of the batch for the SGD solver (linear kernel only). An input of 0 triggers a data driven batch size estimate. The default is 20,000. ","> v_setlst('SVMS_BATCH_ROWS') := '20000';","- Solver type, which cannot be selected if the kernel is non-linear. The default value is system determined. Options are:  `SVMS_SOLVER_SGD` and `SVMS_SOLVER_IPM`.  ","> v_setlst('SVMS_SOLVER') := 'SVMS_SOLVER_SGD';","- Specify the convergence tolerance for SVM algorithm. It requires a number larger than 0. Default is 0.0001. ","> v_setlst('SVMS_CONV_TOLERANCE') := '0.001'","- Specify an upper limit on the number of pivots used in the Incomplete Cholesky decomposition. It can be set only for non-linear kernels. It requires a value from a range of 1 to 10,000 (inclusive of the edges). The default value is 200.     ","> v_setlst('SVMS_NUM_PIVOTS') := '200' "],"enabled":true,"result":{"startTime":1715286177603,"interpreter":"md.medium","endTime":1715286177669,"results":[{"message":"<h3 id=\"examples-of-possible-setting-overrides-for-svm\">Examples of possible setting overrides for SVM<\/h3>\n<p>If the user does not override the default settings, then relevant settings are determined by the algorithm.<\/p>\n<p>A complete list of settings can be found in the Documentation link:<\/p>\n<ul>\n<li>\n<p>Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-12408982-E738-4D0F-A2BC-84D895E07ABB\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-12408982-E738-4D0F-A2BC-84D895E07ABB');\">Support Vector Machine<\/a><\/p>\n<\/li>\n<li>\n<p>Shared Settings: <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/oracle-database/23/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75');\">All algorithms<\/a><\/p>\n<\/li>\n<li>\n<p>Specify a row weight column<\/p>\n<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('ODMS_ROW_WEIGHT_COLUMN_NAME') := '&lt;row_weight_column_name&gt;';<\/p>\n<\/blockquote>\n<ul>\n<li>Specify a missing value treatment method for the training data. This setting does not affect the scoring data. The default value is <code>ODMS_MISSING_VALUE_AUTO<\/code>.  The option <code>ODMS_MISSING_VALUE_MEAN_MODE<\/code> replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time where appropriate. The option <code>ODMS_MISSING_VALUE_AUTO<\/code> performs different strategies for different algorithms.  When <code>ODMS_MISSING_VALUE_TREATMENT<\/code> is set to <code>ODMS_MISSING_VALUE_DELETE_ROW<\/code>, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, then you must perform the transformation explicitly.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('ODMS_MISSING_VALUE_TREATMENT') := 'ODMS_MISSING_VALUE_AUTO';<\/p>\n<\/blockquote>\n<ul>\n<li>Switch between Kernel Types - Linear or Gaussian. By default the system uses the Linear Kernel. Options are: <code>SVMS_LINEAR<\/code> and <code>SVMS_GAUSSIAN<\/code>.  The linear kernel also is able to return the coefficients, while this is not available on the Gaussian<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_KERNEL_FUNCTION') := 'SVMS_LINEAR';<\/p>\n<\/blockquote>\n<ul>\n<li>Value of complexity factor for SVM algorithm (both classification and regression). Default value estimated from the data by the algorithm.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_COMPLEXITY_FACTOR') := '0.1';<\/p>\n<\/blockquote>\n<ul>\n<li>Type of regularization that the SGD SVM solver uses (only available for linear SVM models). The default is system determined because it depends on the potential model size.  Options are: <code>SVMS_REGULARIZER_L1<\/code> and <code>SVMS_REGULARIZER_L2<\/code>.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_REGULARIZER') := 'SVMS_REGULARIZER_L1';<\/p>\n<\/blockquote>\n<ul>\n<li>Regularization setting for regression (Epsilon specifies the allowable residuals, or noise, in the data).<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_EPSILON') := '0.1';<\/p>\n<\/blockquote>\n<ul>\n<li>Batch rows sets the size of the batch for the SGD solver (linear kernel only). An input of 0 triggers a data driven batch size estimate. The default is 20,000.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_BATCH_ROWS') := '20000';<\/p>\n<\/blockquote>\n<ul>\n<li>Solver type, which cannot be selected if the kernel is non-linear. The default value is system determined. Options are:  <code>SVMS_SOLVER_SGD<\/code> and <code>SVMS_SOLVER_IPM<\/code>.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_SOLVER') := 'SVMS_SOLVER_SGD';<\/p>\n<\/blockquote>\n<ul>\n<li>Specify the convergence tolerance for SVM algorithm. It requires a number larger than 0. Default is 0.0001.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_CONV_TOLERANCE') := '0.001'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify an upper limit on the number of pivots used in the Incomplete Cholesky decomposition. It can be set only for non-linear kernels. It requires a value from a range of 1 to 10,000 (inclusive of the edges). The default value is 200.<\/li>\n<\/ul>\n<blockquote>\n<p>v_setlst('SVMS_NUM_PIVOTS') := '200'<\/p>\n<\/blockquote>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":" Using specific settings","message":["%script","","BEGIN DBMS_DATA_MINING.DROP_MODEL('SVML_SH_REGR_SAMPLE');","EXCEPTION WHEN OTHERS THEN NULL; END;","/","DECLARE","    v_setlst DBMS_DATA_MINING.SETTING_LIST;","    ","BEGIN","    v_setlst('PREP_AUTO') := 'ON';","    v_setlst('ALGO_NAME') := 'ALGO_SUPPORT_VECTOR_MACHINES';","    v_setlst('SVMS_COMPLEXITY_FACTOR') := '0.1';","    v_setlst('SVMS_REGULARIZER') := 'SVMS_REGULARIZER_L1';","    v_setlst('SVMS_EPSILON') := '0.1';","    v_setlst('SVMS_BATCH_ROWS') := '20000';","    v_setlst('SVMS_SOLVER') := 'SVMS_SOLVER_SGD';","    v_setlst('SVMS_CONV_TOLERANCE') := '0.0001';","","    DBMS_DATA_MINING.CREATE_MODEL2(","        MODEL_NAME          => 'SVML_SH_REGR_SAMPLE',","        MINING_FUNCTION     => 'REGRESSION',","        DATA_QUERY          => 'SELECT * FROM TRAIN_DATA_V',","        SET_LIST            => v_setlst,","        CASE_ID_COLUMN_NAME => 'CUST_ID',","        TARGET_COLUMN_NAME  => 'YRS_RESIDENCE'","        );","        ","END;"],"enabled":true,"result":{"startTime":1715284546828,"interpreter":"script.medium","endTime":1715284549128,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","### Build a SVM Gaussian regression model for predicting YRS_RESIDENCE","---"],"enabled":true,"result":{"startTime":1715284549210,"interpreter":"md.medium","endTime":1715284549278,"results":[{"message":"<h3 id=\"build-a-svm-gaussian-regression-model-for-predicting-yrs_residence\">Build a SVM Gaussian regression model for predicting YRS_RESIDENCE<\/h3>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":" Using the default options","message":["%script","","BEGIN DBMS_DATA_MINING.DROP_MODEL('SVML_SH_REGR_SAMPLE');","EXCEPTION WHEN OTHERS THEN NULL; END;","/","DECLARE","    v_setlst DBMS_DATA_MINING.SETTING_LIST;","    ","BEGIN","    v_setlst('PREP_AUTO') := 'ON';","    v_setlst('ALGO_NAME') := 'ALGO_SUPPORT_VECTOR_MACHINES';","    v_setlst('SVMS_KERNEL_FUNCTION') := 'SVMS_GAUSSIAN';","","    DBMS_DATA_MINING.CREATE_MODEL2(","        MODEL_NAME          => 'SVML_SH_REGR_SAMPLE',","        MINING_FUNCTION     => 'REGRESSION',","        DATA_QUERY          => 'SELECT * FROM TRAIN_DATA_V',","        SET_LIST            => v_setlst,","        CASE_ID_COLUMN_NAME => 'CUST_ID',","        TARGET_COLUMN_NAME  => 'YRS_RESIDENCE'","        );","        ","END;"],"enabled":true,"result":{"startTime":1715284549361,"interpreter":"script.medium","endTime":1715284552862,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":" Using specific settings","message":["%script","","BEGIN DBMS_DATA_MINING.DROP_MODEL('SVML_SH_REGR_SAMPLE');","EXCEPTION WHEN OTHERS THEN NULL; END;","/","DECLARE","    v_setlst DBMS_DATA_MINING.SETTING_LIST;","    ","BEGIN","    v_setlst('PREP_AUTO') := 'ON';","    v_setlst('ALGO_NAME') := 'ALGO_SUPPORT_VECTOR_MACHINES';","    v_setlst('SVMS_KERNEL_FUNCTION') := 'SVMS_GAUSSIAN';","    v_setlst('SVMS_COMPLEXITY_FACTOR') := '0.1';","    v_setlst('SVMS_EPSILON') := '0.1';","    v_setlst('SVMS_NUM_PIVOTS') := '200';","    v_setlst('SVMS_SOLVER') := 'SVMS_SOLVER_IPM';","    v_setlst('SVMS_CONV_TOLERANCE') := '0.0001';","","    DBMS_DATA_MINING.CREATE_MODEL2(","        MODEL_NAME          => 'SVML_SH_REGR_SAMPLE',","        MINING_FUNCTION     => 'REGRESSION',","        DATA_QUERY          => 'SELECT * FROM TRAIN_DATA_V',","        SET_LIST            => v_setlst,","        CASE_ID_COLUMN_NAME => 'CUST_ID',","        TARGET_COLUMN_NAME  => 'YRS_RESIDENCE'","        );","END;"],"enabled":true,"result":{"startTime":1715284552945,"interpreter":"script.medium","endTime":1715284558852,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display SVM model settings","message":["%sql","","SELECT SETTING_NAME, SETTING_VALUE","FROM   USER_MINING_MODEL_SETTINGS","WHERE  MODEL_NAME = 'SVML_SH_REGR_SAMPLE'","ORDER BY SETTING_NAME;","  "],"enabled":true,"result":{"startTime":1715284558940,"interpreter":"sql.medium","endTime":1715284559061,"results":[{"message":"SETTING_NAME\tSETTING_VALUE\nALGO_NAME\tALGO_SUPPORT_VECTOR_MACHINES\nODMS_DETAILS\tODMS_ENABLE\nODMS_MISSING_VALUE_TREATMENT\tODMS_MISSING_VALUE_AUTO\nODMS_SAMPLING\tODMS_SAMPLING_DISABLE\nPREP_AUTO\tON\nSVMS_COMPLEXITY_FACTOR\t0.1\nSVMS_CONV_TOLERANCE\t0.0001\nSVMS_EPSILON\t0.1\nSVMS_KERNEL_FUNCTION\tSVMS_GAUSSIAN\nSVMS_NUM_PIVOTS\t200\nSVMS_SOLVER\tSVMS_SOLVER_IPM\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display SVM model signature","message":["%sql","","SELECT ATTRIBUTE_NAME, ATTRIBUTE_TYPE","FROM   USER_MINING_MODEL_ATTRIBUTES","WHERE  MODEL_NAME = 'SVML_SH_REGR_SAMPLE'","ORDER BY ATTRIBUTE_NAME;","  "],"enabled":true,"result":{"startTime":1715284559147,"interpreter":"sql.medium","endTime":1715284559225,"results":[{"message":"ATTRIBUTE_NAME\tATTRIBUTE_TYPE\nAFFINITY_CARD\tNUMERICAL\nCUST_CREDIT_LIMIT\tNUMERICAL\nCUST_GENDER\tCATEGORICAL\nCUST_INCOME_LEVEL\tCATEGORICAL\nCUST_MARITAL_STATUS\tCATEGORICAL\nCUST_YEAR_OF_BIRTH\tNUMERICAL\nEDUCATION\tCATEGORICAL\nHOUSEHOLD_SIZE\tCATEGORICAL\nOCCUPATION\tCATEGORICAL\nYRS_RESIDENCE\tNUMERICAL\nY_BOX_GAMES\tNUMERICAL\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Display list of different model views available","message":["%sql ","","SELECT VIEW_NAME, VIEW_TYPE ","FROM   USER_MINING_MODEL_VIEWS","WHERE  MODEL_NAME='SVML_SH_REGR_SAMPLE'","ORDER BY VIEW_NAME;","  "],"enabled":true,"result":{"startTime":1715284559307,"interpreter":"sql.medium","endTime":1715284559403,"results":[{"message":"VIEW_NAME\tVIEW_TYPE\nDM$VGSVML_SH_REGR_SAMPLE\tGlobal Name-Value Pairs\nDM$VNSVML_SH_REGR_SAMPLE\tNormalization and Missing Value Handling\nDM$VSSVML_SH_REGR_SAMPLE\tComputed Settings\nDM$VWSVML_SH_REGR_SAMPLE\tModel Build Alerts\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View SVM model summary statistics","message":["%sql ","","SELECT NAME, NUMERIC_VALUE, STRING_VALUE ","FROM   DM$VGSVML_SH_REGR_SAMPLE","ORDER BY NAME;","  "],"enabled":true,"result":{"startTime":1715284559491,"interpreter":"sql.medium","endTime":1715284559616,"results":[{"message":"NAME\tNUMERIC_VALUE\tSTRING_VALUE\nCONVERGED\t\tYES\nITERATIONS\t13\t\nNUM_ROWS\t2696\t\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View SVM computed settings","message":["%sql ","","SELECT SETTING_NAME, SETTING_VALUE","FROM   DM$VSSVML_SH_REGR_SAMPLE;","  "],"enabled":true,"result":{"startTime":1715284559699,"interpreter":"sql.medium","endTime":1715284559820,"results":[{"message":"SETTING_NAME\tSETTING_VALUE\nSVMS_STD_DEV\t2.2360679774997898\nSVMS_NUM_ITERATIONS\t30\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Apply SVM model to predict YRS_RESIDENCE with Prediction_Details","message":["%sql","","SELECT CUST_ID,","       round(PREDICTION_YRS_RES,3) PRED_YRS_RES,","       RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute1\",17,100)),'rank=\"1\"/>') FIRST_ATTRIBUTE,","       RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute2\",17,100)),'rank=\"2\"/>') SECOND_ATTRIBUTE,","       RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute3\",17,100)),'rank=\"3\"/>') THIRD_ATTRIBUTE,","       RTRIM(TRIM(SUBSTR(OUTPRED.\"Attribute4\",17,100)),'rank=\"4\"/>') FOURTH_ATTRIBUTE","       FROM (SELECT CUST_ID,","               PREDICTION(SVML_SH_REGR_SAMPLE USING *) PREDICTION_YRS_RES,","               PREDICTION_DETAILS(SVML_SH_REGR_SAMPLE USING *) PD","             FROM TEST_DATA_V","             ORDER BY CUST_ID) OUT,","             XMLTABLE('/Details'","                      PASSING OUT.PD","                      COLUMNS ","                      \"Attribute1\" XMLType PATH 'Attribute[1]',","                      \"Attribute2\" XMLType PATH 'Attribute[2]',","                      \"Attribute3\" XMLType PATH 'Attribute[3]',","                      \"Attribute4\" XMLType PATH 'Attribute[4]') OUTPRED","FETCH FIRST 10 ROWS ONLY;"],"enabled":true,"result":{"startTime":1715284559900,"interpreter":"sql.medium","endTime":1715284560400,"results":[{"message":"CUST_ID\tPRED_YRS_RES\tFIRST_ATTRIBUTE\tSECOND_ATTRIBUTE\tTHIRD_ATTRIBUTE\tFOURTH_ATTRIBUTE\n100003\t3.706\t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".157\" \t\"HOUSEHOLD_SIZE\" actualValue=\"2\" weight=\".04\" \t\"OCCUPATION\" actualValue=\"Sales\" weight=\".027\" \t\"CUST_INCOME_LEVEL\" actualValue=\"K: 250,000 - 299,999\" weight=\".022\" \n100004\t4.976\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1953\" weight=\".426\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".047\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".047\" \t\"OCCUPATION\" actualValue=\"Sales\" weight=\".035\" \n100005\t5.01\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1957\" weight=\".512\" \t\"AFFINITY_CARD\" actualValue=\"1\" weight=\".136\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".042\" \t\"CUST_INCOME_LEVEL\" actualValue=\"B: 30,000 - 49,999\" weight=\".012\" \n100006\t2.05\t\"CUST_CREDIT_LIMIT\" actualValue=\"5000\" weight=\".042\" \t\"EDUCATION\" actualValue=\"&lt; Bach.\" weight=\".029\" \t\"CUST_GENDER\" actualValue=\"F\" weight=\"-.017\" \t\"CUST_INCOME_LEVEL\" actualValue=\"G: 130,000 - 149,999\" weight=\"-.022\" \n100007\t4.192\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1963\" weight=\".174\" \t\"CUST_MARITAL_STATUS\" actualValue=\"Divorc.\" weight=\".138\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".122\" \t\"HOUSEHOLD_SIZE\" actualValue=\"2\" weight=\".041\" \n100010\t3.009\t\"OCCUPATION\" actualValue=\"Crafts\" weight=\".049\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"9000\" weight=\".016\" \t\"AFFINITY_CARD\" actualValue=\"0\" weight=\"-.038\" \t\"CUST_INCOME_LEVEL\" actualValue=\"L: 300,000 and above\" weight=\"-.04\" \n100011\t3.34\t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".133\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"10000\" weight=\"-.007\" \t\"HOUSEHOLD_SIZE\" actualValue=\"2\" weight=\"-.009\" \t\"EDUCATION\" actualValue=\"9th\" weight=\"-.01\" \n100015\t4.967\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1959\" weight=\".492\" \t\"OCCUPATION\" actualValue=\"Exec.\" weight=\".129\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".095\" \t\"HOUSEHOLD_SIZE\" actualValue=\"2\" weight=\".024\" \n100017\t5.532\t\"CUST_YEAR_OF_BIRTH\" actualValue=\"1935\" weight=\".628\" \t\"Y_BOX_GAMES\" actualValue=\"0\" weight=\".024\" \t\"CUST_CREDIT_LIMIT\" actualValue=\"10000\" weight=\"-.015\" \t\"EDUCATION\" actualValue=\"&lt; Bach.\" weight=\"-.027\" \n100018\t2.684\t\"CUST_CREDIT_LIMIT\" actualValue=\"1500\" weight=\".112\" \t\"EDUCATION\" actualValue=\"&lt; Bach.\" weight=\".086\" \t\"Y_BOX_GAMES\" actualValue=\"1\" weight=\".032\" \t\"CUST_INCOME_LEVEL\" actualValue=\"A: Below 30,000\" weight=\".026\" \n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":7,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Show SVM model predictions vs actuals","message":["%sql","","SELECT CUST_ID,","       round(PREDICTION(SVML_SH_REGR_SAMPLE USING *), 1) PRED_YRS_RESIDENCE,","       YRS_RESIDENCE ACTUAL_YRS_RESIDENCE","FROM   TEST_DATA_V","FETCH FIRST 10 ROWS ONLY;"],"enabled":true,"result":{"startTime":1715284560497,"interpreter":"sql.medium","endTime":1715284560623,"results":[{"message":"CUST_ID\tPRED_YRS_RESIDENCE\tACTUAL_YRS_RESIDENCE\n100004\t5\t5\n100022\t4.6\t5\n100053\t6.2\t5\n100063\t5.7\t5\n100067\t4.6\t4\n100086\t2\t1\n100101\t3.9\t3\n100110\t3\t4\n100131\t2.7\t3\n100138\t4.7\t4\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":5,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Model quality statistics on the TEST data","message":["%sql","","SELECT ROUND(R2,6) COEF_OF_DETERMINATION_R2, ","       ROUND(MAE,6) MEAN_ABSOLUTE_ERROR, ","       ROUND(MSE,6) MEAN_SQUARED_ERROR, ","       ROUND(SQRT(MSE),6) ROOT_MEAN_SQUARED_ERROR","       FROM ","       (SELECT AVG(ABS(PRED_YRS_RESIDENCE - ACTUAL_YRS_RESIDENCE)) MAE,","               AVG(POWER(PRED_YRS_RESIDENCE - ACTUAL_YRS_RESIDENCE,2)) MSE,","               1-(SUM(POWER(ACTUAL_YRS_RESIDENCE - PRED_YRS_RESIDENCE,2)))/(SUM(POWER(ACTUAL_YRS_RESIDENCE - ","                 (SELECT AVG(ROUND(PREDICTION(SVML_SH_REGR_SAMPLE USING *), 1)) FROM TEST_DATA_V),2))) R2              ","                 FROM (SELECT CUST_ID,","                            ROUND(PREDICTION(SVML_SH_REGR_SAMPLE USING *), 1) PRED_YRS_RESIDENCE,","                            YRS_RESIDENCE ACTUAL_YRS_RESIDENCE","                       FROM TEST_DATA_V))"],"enabled":true,"result":{"startTime":1715284560715,"interpreter":"sql.medium","endTime":1715284560991,"results":[{"message":"COEF_OF_DETERMINATION_R2\tMEAN_ABSOLUTE_ERROR\tMEAN_SQUARED_ERROR\tROOT_MEAN_SQUARED_ERROR\n0.605634\t0.781047\t1.404474\t1.185105\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"table\":{\"version\":1},\"tree\":{},\"scatterplot\":{\"showSeriesX\":[\"PRED_YRS_RESIDENCE\"],\"showSeriesY\":[\"ACTUAL_YRS_RESIDENCE\"],\"label\":[],\"lastColumns\":[\"CUST_ID\",\"PRED_YRS_RESIDENCE\",\"ACTUAL_YRS_RESIDENCE\",\"HOUSEHOLD\"],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"scatterplot","title":"Plot SVM model predictions vs actuals grouped by HOUSE_HOLD_SIZE","message":["%sql","","SELECT CUST_ID,","    ROUND(PREDICTION(GLMR_SH_REGR_SAMPLE USING *), 1) PRED_YRS_RESIDENCE,","    YRS_RESIDENCE ACTUAL_YRS_RESIDENCE, ","    CASE HOUSEHOLD_SIZE WHEN '1' THEN '1'","    WHEN '2' THEN '2'","    ELSE '3 or more' END HOUSEHOLD","FROM TEST_DATA_V","FETCH FIRST 100 ROWS ONLY;","  "],"enabled":true,"result":{"startTime":1715285594394,"interpreter":"sql.medium","endTime":1715285596593,"results":[{"message":"CUST_ID\tPRED_YRS_RESIDENCE\tACTUAL_YRS_RESIDENCE\tHOUSEHOLD\n100056\t4.4\t4\t3 or more\n100062\t4.3\t5\t2\n100083\t3\t3\t3 or more\n100098\t2.8\t3\t1\n100108\t5.2\t5\t3 or more\n100141\t3.1\t3\t3 or more\n100144\t4.3\t4\t2\n100163\t5.1\t6\t3 or more\n100173\t5.5\t4\t3 or more\n100189\t2.8\t1\t1\n100210\t6\t14\t3 or more\n100226\t1.6\t2\t1\n100278\t4.7\t4\t3 or more\n100281\t5.7\t6\t3 or more\n100288\t2.2\t1\t1\n100366\t4.6\t3\t2\n100391\t3.1\t1\t2\n100420\t5.7\t5\t3 or more\n100459\t3.4\t4\t3 or more\n100472\t3.4\t6\t3 or more\n100533\t3.8\t4\t1\n100549\t3.3\t1\t3 or more\n100558\t4.6\t4\t3 or more\n100581\t2.8\t3\t2\n100588\t4\t3\t3 or more\n100611\t5.8\t6\t2\n100616\t3.9\t4\t3 or more\n100623\t1.3\t2\t1\n100656\t5.4\t2\t3 or more\n100691\t4\t4\t3 or more\n100701\t5.9\t7\t3 or more\n100712\t3\t3\t3 or more\n100715\t2.8\t3\t2\n100726\t5.5\t7\t3 or more\n100733\t7\t7\t3 or more\n100735\t5\t5\t3 or more\n100736\t3.2\t3\t1\n100754\t6.5\t6\t3 or more\n100761\t3\t3\t3 or more\n100775\t4\t4\t3 or more\n100777\t3.6\t5\t3 or more\n100780\t5.6\t7\t3 or more\n100801\t1.1\t1\t1\n100809\t6.4\t8\t3 or more\n100811\t5.5\t3\t2\n100820\t1.9\t2\t1\n100840\t5.7\t5\t3 or more\n100844\t4.8\t4\t3 or more\n100849\t3.7\t5\t2\n100859\t2\t1\t1\n100889\t5.2\t5\t3 or more\n100890\t5.7\t6\t3 or more\n100892\t3.1\t3\t2\n100895\t4.2\t5\t3 or more\n100905\t5\t9\t2\n100915\t1.4\t2\t1\n100971\t4.1\t3\t3 or more\n100978\t4.4\t5\t3 or more\n101044\t4.5\t5\t3 or more\n101101\t6.1\t5\t3 or more\n101106\t3.5\t4\t3 or more\n101148\t4.2\t6\t3 or more\n101191\t5.5\t6\t3 or more\n101203\t4.4\t4\t3 or more\n101209\t4.1\t5\t3 or more\n101214\t5.7\t5\t3 or more\n101228\t1.4\t2\t2\n101233\t4.7\t6\t3 or more\n101236\t1.6\t3\t2\n101249\t4.6\t6\t3 or more\n101252\t1.5\t1\t1\n101258\t3.3\t3\t3 or more\n101277\t3.3\t4\t2\n101292\t4\t6\t3 or more\n101298\t5.2\t5\t3 or more\n101314\t3.9\t4\t2\n101336\t3\t3\t3 or more\n101346\t5\t5\t3 or more\n101368\t4\t3\t3 or more\n101369\t6.3\t5\t3 or more\n101371\t5\t4\t3 or more\n101378\t5.1\t9\t3 or more\n101388\t3.9\t3\t2\n101414\t3\t3\t2\n101465\t2.5\t2\t3 or more\n101481\t2.4\t2\t1\n101509\t5.5\t5\t3 or more\n101529\t1.9\t2\t1\n101547\t5.3\t5\t2\n101551\t7\t7\t3 or more\n101554\t6.1\t6\t3 or more\n101591\t4\t4\t2\n101615\t3\t1\t1\n101624\t4.1\t4\t1\n101649\t5.3\t5\t1\n101661\t1.9\t2\t1\n101665\t1.3\t0\t1\n101695\t5.7\t6\t3 or more\n101715\t5.5\t6\t1\n101727\t3.4\t3\t3 or more\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"table\":{\"version\":1},\"scatterplot\":{\"groupByColumns\":[],\"showSeriesX\":[\"PRED_YRS_RESIDENCE\"],\"showSeriesY\":[\"RESIDUALS\"],\"label\":[],\"extraDescription\":[],\"lastColumns\":[\"CUST_ID\",\"PRED_YRS_RESIDENCE\",\"RESIDUALS\"],\"version\":1},\"bar\":{\"showSeries\":[\"PRED_YRS_RESIDENCE\",\"RESIDUALS\"],\"series\":{\"availableSeriesElements\":[{\"id\":\"PRED_YRS_RESIDENCE\",\"lineType\":\"straight\",\"borderColor\":\"rgb(25, 95, 116)\",\"borderWidth\":0,\"color\":\"rgb(25, 95, 116)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(25, 95, 116)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0},{\"id\":\"RESIDUALS\",\"lineType\":\"straight\",\"borderColor\":\"rgb(50, 146, 94)\",\"borderWidth\":0,\"color\":\"rgb(50, 146, 94)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(50, 146, 94)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0}]},\"lastColumns\":[\"CUST_ID\",\"PRED_YRS_RESIDENCE\",\"RESIDUALS\"],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"scatterplot","title":"Plot SVM model predictions vs residuals","message":["%sql","","SELECT CUST_ID,","    round(PREDICTION(SVML_SH_REGR_SAMPLE USING *), 1) PRED_YRS_RESIDENCE,","    round(round(PREDICTION(SVML_SH_REGR_SAMPLE USING *), 1) - YRS_RESIDENCE,2) RESIDUALS","FROM TEST_DATA_V","FETCH FIRST 100 ROWS ONLY;","  ","  "],"enabled":true,"result":{"startTime":1715284561316,"interpreter":"sql.medium","endTime":1715284561468,"results":[{"message":"CUST_ID\tPRED_YRS_RESIDENCE\tRESIDUALS\n100004\t5\t0\n100022\t4.6\t-0.4\n100053\t6.2\t1.2\n100063\t5.7\t0.7\n100067\t4.6\t0.6\n100086\t2\t1\n100101\t3.9\t0.9\n100110\t3\t-1\n100131\t2.7\t-0.3\n100138\t4.7\t0.7\n100176\t4\t0\n100190\t5\t0\n100198\t1.2\t0.2\n100214\t1.6\t0.6\n100221\t3.8\t-1.2\n100249\t3.8\t-0.2\n100275\t4.4\t0.4\n100277\t5.7\t-0.3\n100286\t4.2\t0.2\n100289\t4.9\t-0.1\n100354\t4.1\t-0.9\n100355\t4.9\t-1.1\n100370\t3\t0\n100417\t1.5\t0.5\n100419\t1.9\t0.9\n100432\t2.4\t-0.6\n100446\t5.6\t0.6\n100484\t2\t0\n100486\t3.9\t-0.1\n100493\t4.3\t0.3\n100511\t5.2\t-0.8\n100514\t2\t0\n100518\t5.1\t-0.9\n100530\t4.7\t-0.3\n100532\t6.2\t0.2\n100534\t6.1\t-0.9\n100566\t5.5\t-0.5\n100598\t6\t0\n100609\t5.5\t-0.5\n100617\t1.4\t0.4\n100628\t3.8\t-0.2\n100648\t3.8\t0.8\n100655\t4.2\t0.2\n100684\t2.1\t1.1\n100799\t2.2\t-0.8\n100818\t5.4\t0.4\n100827\t6.2\t0.2\n100832\t2.9\t-0.1\n100834\t3.6\t0.6\n100837\t1.8\t0.8\n100838\t3.9\t-0.1\n100839\t3.8\t-0.2\n100846\t1.8\t-0.2\n100863\t3.7\t0.7\n100874\t5.4\t0.4\n100910\t5.9\t1.9\n100924\t4.3\t0.3\n100944\t4.7\t-0.3\n100951\t5.1\t0.1\n100961\t4.6\t-0.4\n100981\t1.1\t0.1\n101002\t2.4\t-0.6\n101007\t5.5\t-1.5\n101011\t3.9\t-2.1\n101016\t2.1\t0.1\n101030\t6.1\t-1.9\n101048\t2.7\t-0.3\n101080\t3.3\t0.3\n101098\t2.2\t0.2\n101109\t5\t0\n101119\t5.3\t-0.7\n101127\t4.8\t0.8\n101132\t3.4\t-0.6\n101144\t5.1\t0.1\n101152\t4.8\t0.8\n101160\t4.7\t-0.3\n101168\t5.9\t-0.1\n101173\t3.9\t0.9\n101188\t3.4\t1.4\n101212\t2.3\t0.3\n101226\t2.2\t0.2\n101264\t3.6\t-0.4\n101265\t5.2\t0.2\n101266\t5.9\t-2.1\n101271\t3.3\t3.3\n101281\t1.8\t-0.2\n101285\t6\t4\n101301\t5.6\t0.6\n101350\t3.4\t0.4\n101367\t3.8\t-1.2\n101374\t6\t0\n101418\t2.3\t1.3\n101429\t1.5\t1.5\n101444\t5.3\t-0.7\n101449\t4.7\t-1.3\n101458\t2.7\t0.7\n101487\t3\t0\n101490\t2.4\t0.4\n101505\t4.1\t-0.9\n101507\t3.1\t0.1\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## Another option: create SVM Linear Regression Model using Settings Table","The settings table is an alternative way to specify algorithm settings to build the model. We first drop the settings table, create it, and then populate it with settings before building the model."],"enabled":true,"result":{"startTime":1715284561553,"interpreter":"md.medium","endTime":1715284561613,"results":[{"message":"<h2 id=\"another-option-create-svm-linear-regression-model-using-settings-table\">Another option: create SVM Linear Regression Model using Settings Table<\/h2>\n<p>The settings table is an alternative way to specify algorithm settings to build the model. We first drop the settings table, create it, and then populate it with settings before building the model.<\/p>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Drop previous settings and output tables and create SVM model settings table","message":["%script ","","-- Drop any previous GLM Model Settings table for notebook repeatability","BEGIN EXECUTE IMMEDIATE 'DROP TABLE SVMLR_SETTINGS';","EXCEPTION WHEN OTHERS THEN NULL; END;","/","--Create Model Settings Table","CREATE TABLE SVMLR_SETTINGS (","    SETTING_NAME  VARCHAR2(30),","    SETTING_VALUE VARCHAR2(4000));","    "],"enabled":true,"result":{"startTime":1715284561693,"interpreter":"script.medium","endTime":1715284561849,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nTable SVMLR_SETTINGS created.\n\n\n---------------------------\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Define model settings for automated data preparation and feature selection","message":["%script ","","BEGIN ","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.ALGO_NAME, DBMS_DATA_MINING.ALGO_SUPPORT_VECTOR_MACHINES);","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.PREP_AUTO, DBMS_DATA_MINING.PREP_AUTO_ON);  ","","-- Specify a missing value treatment method:","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.ODMS_MISSING_VALUE_TREATMENT, DBMS_DATA_MINING.ODMS_MISSING_VALUE_DELETE_ROW);","   ","-- Switch between Kernel Types - Linear or Gaussian.  By default the system uses the Linear Kernel.","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_KERNEL_FUNCTION, DBMS_DATA_MINING.SVMS_LINEAR);","--    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_KERNEL_FUNCTION, DBMS_DATA_MINING.SVMS_GAUSSIAN);","   ","-- Value of complexity factor for SVM algorithm (both classification and regression).  Default value estimated from the data by the algorithm.","   INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_COMPLEXITY_FACTOR, 0.1);","   ","-- Type of regularization that the SGD SVM solver uses (only available for linear SVM models). ","-- The default is system determined because it depends on the potential model size.  ","-- Also the Regularization setting for regression (Epsilon specifies the allowable residuals, or noise, in the data).     ","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_REGULARIZER, DBMS_DATA_MINING.SVMS_REGULARIZER_L1);","--     INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_REGULARIZER, DBMS_DATA_MINING.SVMS_REGULARIZER_L2);","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_EPSILON, 0.1);","   ","-- Batch rows sets the size of the batch for the SGD solver (linear kernel only). An input of 0 triggers a data driven batch size estimate. The default is 20000. ","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_BATCH_ROWS, 20000);","   ","-- Solver type, which cannot be selected if the kernel is non-linear. The default value is system determined.    ","    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_SOLVER, DBMS_DATA_MINING.SVMS_SOLVER_SGD);","--    INSERT INTO SVMLR_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES (DBMS_DATA_MINING.SVMS_SOLVER, DBMS_DATA_MINING.SVMS_SOLVER_IPM);","","END;"],"enabled":true,"result":{"startTime":1715284561930,"interpreter":"script.medium","endTime":1715284562067,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Build a SVM Linear regression model for predicting YRS_RESIDENCE","message":["%script","","BEGIN DBMS_DATA_MINING.DROP_MODEL('SVML_SH_REGR_SAMPLE');","EXCEPTION WHEN OTHERS THEN NULL; END;","/","","DECLARE","    V_XLST DBMS_DATA_MINING_TRANSFORM.TRANSFORM_LIST;"," ","BEGIN","    DBMS_DATA_MINING.CREATE_MODEL(","    MODEL_NAME          => 'SVML_SH_REGR_SAMPLE',","    MINING_FUNCTION     => DBMS_DATA_MINING.REGRESSION,","    DATA_TABLE_NAME     => 'TRAIN_DATA_V',","    CASE_ID_COLUMN_NAME => 'CUST_ID',","    TARGET_COLUMN_NAME  => 'YRS_RESIDENCE',","    SETTINGS_TABLE_NAME => 'SVMLR_SETTINGS',","    XFORM_LIST          => V_XLST);","END;"],"enabled":true,"result":{"startTime":1715284562194,"interpreter":"script.medium","endTime":1715284564492,"results":[{"message":"\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":6,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","## End of Script"],"enabled":true,"result":{"startTime":1715284564569,"interpreter":"md.medium","endTime":1715284564628,"results":[{"message":"<h2 id=\"end-of-script\">End of Script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md"],"enabled":true,"result":{"startTime":1715284564709,"interpreter":"md.medium","endTime":1715284564770,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]