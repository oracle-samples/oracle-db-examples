{
  "paragraphs": [
    {
      "text": "%md\n## OML4SQL Feature Extraction: Non-negative Matrix Factorization (NMF)\n\nIn this notebook, we demonstrate how to perform dimensionality reduction using the in-database non-negative matrix factorization algorithm.\n\nWe use the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\n\nWe show how to convert a table with many columns to a reduced feature set. NMF produces non-negative coefficients.\n\nThe dataset `CUSTOMER_INSURANCE_LTV` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\n\n---\n\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\n\n---\n\nCopyright (c) 2023 Oracle Corporation \n###### \u003ca href\u003d\"https://oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\n---\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:39+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eOML4SQL Feature Extraction: Non-negative Matrix Factorization (NMF)\u003c/h2\u003e\n\u003cp\u003eIn this notebook, we demonstrate how to perform dimensionality reduction using the in-database non-negative matrix factorization algorithm.\u003c/p\u003e\n\u003cp\u003eWe use the customer insurance lifetime value data set, which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\u003c/p\u003e\n\u003cp\u003eWe show how to convert a table with many columns to a reduced feature set. NMF produces non-negative coefficients.\u003c/p\u003e\n\u003cp\u003eThe dataset \u003ccode\u003eCUSTOMER_INSURANCE_LTV\u003c/code\u003e is generated by the \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook, which \u003ccode\u003eMUST\u003c/code\u003e be run before this notebook.\u003c/p\u003e\n\u003chr /\u003e\n\u003ch5\u003e\u003ccode\u003eIMPORTANT\u003c/code\u003e: The \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\u003c/h5\u003e\n\u003chr /\u003e\n\u003cp\u003eCopyright (c) 2023 Oracle Corporation\u003c/p\u003e\n\u003ch6\u003e\u003ca href\u003d\"https: //oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\u003c/h6\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-1078079676",
      "id": "20220124-201425_961678293",
      "dateCreated": "2020-12-15T00:55:03+0000",
      "dateStarted": "2023-02-17T00:51:39+0000",
      "dateFinished": "2023-02-17T00:51:39+0000",
      "status": "FINISHED"
    },
    {
      "title": "For more information ...",
      "text": "%md\n\nOracle ADW Documentation \u003ca href\u003d\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\nOML folder on Oracle Github : \u003ca href\u003d\"https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u0027);\"\u003ehttps://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u003c/a\u003e\nOML web page: \u003ca href\u003d\"https://www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\nOML Feature Extraction: \u003ca href\u003d\"https://www.oracle.com/goto/ml-feature-extraction\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-feature-extraction\u0027);\"\u003ehttps://www.oracle.com/goto/ml-feature-extraction\u003c/a\u003e\nOML4SQL NMF Documentation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html \u003c/a\u003e",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:53:24+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cp\u003eOracle ADW Documentation \u003ca href\u003d\"https: //docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\n\u003cbr  /\u003eOML folder on Oracle Github : \u003ca href\u003d\"https: //github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u0027);\"\u003ehttps://github.com/oracle-samples/oracle-db-examples/tree/main/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML web page: \u003ca href\u003d\"https: //www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML Feature Extraction: \u003ca href\u003d\"https: //www.oracle.com/goto/ml-feature-extraction\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-feature-extraction\u0027);\"\u003ehttps://www.oracle.com/goto/ml-feature-extraction\u003c/a\u003e\n\u003cbr  /\u003eOML4SQL NMF Documentation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmcon/non-negative-matrix-factorization.html \u003c/a\u003e\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-793288898",
      "id": "20220124-201425_22445184",
      "dateCreated": "2020-12-17T03:49:33+0000",
      "dateStarted": "2023-02-17T00:51:40+0000",
      "dateFinished": "2023-02-17T00:51:40+0000",
      "status": "FINISHED"
    },
    {
      "title": "Display CUSTOMER_INSURANCE_LTV data",
      "text": "%sql\n\nSELECT * \nFROM CUSTOMER_INSURANCE_LTV\nFETCH FIRST 10 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:40+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CREDIT_BALANCE": "string",
                      "CUSTOMER_TENURE": "string",
                      "MORTGAGE_AMOUNT": "string",
                      "BANK_FUNDS": "string",
                      "NUM_DEPENDENTS": "string",
                      "HAS_CHILDREN": "string",
                      "INCOME": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "CREDIT_CARD_LIMITS": "string",
                      "REGION": "string",
                      "HOME_OWNERSHIP": "string",
                      "NUM_ONLINE_TRANS": "string",
                      "BUY_INSURANCE": "string",
                      "MONTHLY_CHECKS": "string",
                      "NUM_TRANS_KIOSK": "string",
                      "AGE": "string",
                      "MONEY_MONTLY_OVERDRAWN": "string",
                      "LTV": "string",
                      "TOTAL_AUTOM_PAYMENTS": "string",
                      "NUM_TRANS_TELLER": "string",
                      "CHECKING_BALANCE": "string",
                      "NUM_TRANS_ATM": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "NUM_MORTGAGES": "string",
                      "CAR_OWNERSHIP": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nMARRIED\tNY                        \t0\t3\t1000\t0\t3\t0\t68235\tCU1594                    \tM                         \tFirst-line Manager\t1000\tNorthEast\t1\t1000\tNo\t1\t0\t33\t53.08\t25858.75\t515\t1\t25\t1\tHIGH\tFERNANDO\t1\t1\tCRENSHAW\nSINGLE\tNY                        \t0\t2\t0\t0\t0\t1\t67208\tCU1595                    \tM                         \tAdministrator\t600\tNorthEast\t0\t0\tNo\t0\t0\t34\t53.06\t16202\t504\t1\t25\t0\tMEDIUM\tDANNIE\t0\t1\tGRAHAM\nSINGLE\tNY                        \t0\t2\t0\t0\t0\t0\t68100\tCU1597                    \tM                         \tAuthor\t1700\tNorthEast\t0\t0\tNo\t0\t0\t0\t53.06\t0\t505\t0\t25\t0\tLOW\tTYRELL\t0\t1\tMARIN\nDIVORCED\tNY                        \t0\t1\t4000\t3850\t1\t1\t52550\tCU1598                    \tF                         \tIT Staff\t2000\tNorthEast\t1\t1200\tYes\t3\t6\t35\t54.04\t20137.5\t2330\t1\t138\t5\tMEDIUM\tCHRISSY\t1\t1\tBLAND\nDIVORCED\tNY                        \t0\t2\t2650\t1800\t0\t0\t66711\tCU1600                    \tM                         \tFireman\t1000\tNorthEast\t1\t2650\tNo\t0\t0\t51\t53.06\t32777.75\t505\t3\t25\t0\tVERY HIGH\tRUBEN\t1\t1\tALFORD\nWIDOWED\tNY                        \t44774\t5\t5000\t4978\t5\t0\t67832\tCU1601                    \tF                         \tLaw Enforcement Officer\t1500\tNorthEast\t1\t1078\tNo\t3\t5\t61\t54.14\t25558\t68532\t1\t25\t5\tHIGH\tLETA\t1\t1\tCHAPMAN\nMARRIED\tNY                        \t0\t2\t1666\t0\t0\t1\t59988\tCU1602                    \tM                         \tPROF-17\t900\tNorthEast\t1\t1666\tNo\t0\t0\t33\t53.06\t24297\t506\t1\t25\t0\tHIGH\tPEDRO\t1\t1\tWINSTON\nSINGLE\tNY                        \t0\t2\t0\t1603\t0\t1\t58235\tCU1603                    \tM                         \tPROF-6\t800\tNorthEast\t0\t453\tNo\t2\t0\t44\t53.11\t14958.75\t1473\t1\t963\t2\tMEDIUM\tMARSHALL\t0\t1\tWILLIS\nWIDOWED\tOK                        \t0\t4\t12000\t15500\t3\t1\t60842\tCU1604                    \tF                         \tPublisher\t500\tMidwest\t1\t3100\tNo\t5\t0\t57\t53.65\t21910.5\t2307\t5\t1235\t4\tMEDIUM\tMAPLE\t1\t1\tRIVAS\nWIDOWED\tCA                        \t0\t1\t5200\t19000\t1\t1\t68100\tCU1605                    \tF                         \tAdministrative Assistant\t5000\tWest\t1\t3200\tNo\t2\t0\t54\t52.74\t25925\t6105\t2\t2423\t2\tHIGH\tPHYLICIA\t1\t1\tCAIN\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_1242688005",
      "id": "20220124-201425_145958202",
      "dateCreated": "2020-12-09T21:23:39+0000",
      "dateStarted": "2023-02-17T00:51:40+0000",
      "dateFinished": "2023-02-17T00:51:40+0000",
      "status": "FINISHED"
    },
    {
      "title": "Define a view with a subset of the numerical and categorical columns",
      "text": "%script\n\nCREATE OR REPLACE VIEW CUST_V AS\nSELECT CUSTOMER_ID, CREDIT_BALANCE, CUSTOMER_TENURE, MORTGAGE_AMOUNT, MARITAL_STATUS, GENDER, REGION\nFROM CUSTOMER_INSURANCE_LTV",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:40+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nView CUST_V created.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-1751707337",
      "id": "20220124-201425_1756419177",
      "dateCreated": "2020-12-09T21:34:17+0000",
      "dateStarted": "2023-02-17T00:51:40+0000",
      "dateFinished": "2023-02-17T00:51:40+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n### Examples of possible setting overrides for NMF \n\nIf the user does not override the default settings, then relevant settings are determined by the algorithm.\n\nA complete list of settings can be found in the Documentation link:\n\n-- Algorithm Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-E5CBCC4F-819A-4BD8-9C2B-BC4A9EE870AD\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-E5CBCC4F-819A-4BD8-9C2B-BC4A9EE870AD\u0027);\"\u003eNon-Negative Matrix Factorization\u003c/a\u003e\n\n-- Shared Settings: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\n\n-- Specify the Convergence tolerance for NMF algorithm\n   The value required is between 0 and 0.5 (excluding 0), and the default is 0.05\n    v_setlst(\u0027NMFS_CONV_TOLERANCE\u0027) :\u003d \u00270.05\u0027;\n   \n-- Specify whether negative numbers should be allowed in scoring results. \n   When set to NMFS_NONNEG_SCORING_ENABLE, negative feature values will be replaced with zeros. When set to NMFS_NONNEG_SCORING_DISABLE, negative feature values will be allowed.\n   The default is NMFS_NONNEG_SCORING_ENABLE\n    v_setlst(\u0027NMFS_NONNEGATIVE_SCORING\u0027) :\u003d \u0027NMFS_NONNEG_SCORING_ENABLE\u0027;\n    \n-- Specify the number of iterations for NMF algorithm\n   The value required is between 1 and 500 (including the edges), and the default is 50\n    v_setlst(\u0027NMFS_NUM_ITERATIONS\u0027) :\u003d \u002750\u0027;\n    \n-- Specify the Random seed for the NMF algorithm.\n   The default value is –1. \n    v_setlst(\u0027NMFS_RANDOM_SEED\u0027) :\u003d \u0027-1\u0027;\n    \n--- \n\n#### Other interesting overrides for Data Preparation for NMF\n\nOracle Machine Learning supports fully Automatic Data Preparation (ADP), user-directed general data preparation, and user-specified embedded data preparation. The PREP_* settings enable the user to request fully automated or user-directed general data preparation. By default, fully Automatic Data Preparation (ON) is enabled. \n\nA complete list of settings can be found in the Documentation link:\n\n-- Automatic Data Preparation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\u0027);\"\u003eAutomatic Data Preparation\u003c/a\u003e\n\n-- This setting is used to specify Automatic Data Preparation.\n   The value required is either ON or OFF, and the default is ON. \n    v_setlst(\u0027PREP_AUTO\u0027) :\u003d \u0027ON\u0027;\n    \nThe model uses heuristics to transform the build data according to the requirements of the algorithm. \n\n#### User defined transformations\n\nInstead of fully ADP, the user can request that the data be shifted and/or scaled with the PREP_SCALE* and PREP_SHIFT* settings. The transformation instructions are stored with the model and reused whenever the model is applied. The model settings can be viewed in USER_MINING_MODEL_SETTINGS. \n\n-- This setting enables scaling data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n   PREP_SCALE_STDDEV: A request to divide the column values by the standard deviation of the column and is often provided together with PREP_SHIFT_MEAN to yield z-score normalization.\n   PREP_SCALE_RANGE: A request to divide the column values by the range of values and is often provided together with PREP_SHIFT_MIN to yield a range of [0,1].\n    v_setlst(\u0027PREP_SCALE_2DNUM\u0027) :\u003d \u0027PREP_SCALE_STDDEV\u0027;\n\n-- This setting enables centering data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n   PREP_SHIFT_MEAN: Results in subtracting the average of the column from each value.\n   PREP_SHIFT_MIN: Results in subtracting the minimum of the column from each value.\n    v_setlst(\u0027PREP_SHIFT_2DNUM\u0027) :\u003d \u0027PREP_SHIFT_MEAN\u0027;\n\n-- This setting enables scaling data preparation for nested numeric columns. PREP_AUTO must be OFF for this setting to take effect. If specified, then the valid value for this setting is PREP_SCALE_MAXABS, which yields data in the range of [-1,1].\n    v_setlst(\u0027PREP_SCALE_NNUM\u0027) :\u003d \u0027PREP_SCALE_MAXABS\u0027;\n\n---",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:40+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch3\u003eExamples of possible setting overrides for NMF\u003c/h3\u003e\n\u003cp\u003eIf the user does not override the default settings, then relevant settings are determined by the algorithm.\u003c/p\u003e\n\u003cp\u003eA complete list of settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Algorithm Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-E5CBCC4F-819A-4BD8-9C2B-BC4A9EE870AD\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-E5CBCC4F-819A-4BD8-9C2B-BC4A9EE870AD\u0027);\"\u003eNon-Negative Matrix Factorization\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Shared Settings: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-24047A09-0542-4870-91D8-329F28B0ED75\u0027);\"\u003eAll algorithms\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Specify the Convergence tolerance for NMF algorithm\n\u003cbr  /\u003eThe value required is between 0 and 0.5 (excluding 0), and the default is 0.05\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027NMFS_CONV_TOLERANCE\u0027) :\u003d \u00270.05\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify whether negative numbers should be allowed in scoring results.\n\u003cbr  /\u003eWhen set to NMFS_NONNEG_SCORING_ENABLE, negative feature values will be replaced with zeros. When set to NMFS_NONNEG_SCORING_DISABLE, negative feature values will be allowed.\n\u003cbr  /\u003eThe default is NMFS_NONNEG_SCORING_ENABLE\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027NMFS_NONNEGATIVE_SCORING\u0027) :\u003d \u0027NMFS_NONNEG_SCORING_ENABLE\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the number of iterations for NMF algorithm\n\u003cbr  /\u003eThe value required is between 1 and 500 (including the edges), and the default is 50\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027NMFS_NUM_ITERATIONS\u0027) :\u003d \u002750\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; Specify the Random seed for the NMF algorithm.\n\u003cbr  /\u003eThe default value is –1.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027NMFS_RANDOM_SEED\u0027) :\u003d \u0027-1\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr /\u003e\n\u003ch4\u003eOther interesting overrides for Data Preparation for NMF\u003c/h4\u003e\n\u003cp\u003eOracle Machine Learning supports fully Automatic Data Preparation (ADP), user-directed general data preparation, and user-specified embedded data preparation. The PREP_* settings enable the user to request fully automated or user-directed general data preparation. By default, fully Automatic Data Preparation (ON) is enabled.\u003c/p\u003e\n\u003cp\u003eA complete list of settings can be found in the Documentation link:\u003c/p\u003e\n\u003cp\u003e\u0026ndash; Automatic Data Preparation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-5043274C-C753-47DE-9E60-D8528ADAC78D\u0027);\"\u003eAutomatic Data Preparation\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u0026ndash; This setting is used to specify Automatic Data Preparation.\n\u003cbr  /\u003eThe value required is either ON or OFF, and the default is ON.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_AUTO\u0027) :\u003d \u0027ON\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe model uses heuristics to transform the build data according to the requirements of the algorithm.\u003c/p\u003e\n\u003ch4\u003eUser defined transformations\u003c/h4\u003e\n\u003cp\u003eInstead of fully ADP, the user can request that the data be shifted and/or scaled with the PREP_SCALE\u003cem\u003e and PREP_SHIFT\u003c/em\u003e settings. The transformation instructions are stored with the model and reused whenever the model is applied. The model settings can be viewed in USER_MINING_MODEL_SETTINGS.\u003c/p\u003e\n\u003cp\u003e\u0026ndash; This setting enables scaling data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n\u003cbr  /\u003ePREP_SCALE_STDDEV: A request to divide the column values by the standard deviation of the column and is often provided together with PREP_SHIFT_MEAN to yield z-score normalization.\n\u003cbr  /\u003ePREP_SCALE_RANGE: A request to divide the column values by the range of values and is often provided together with PREP_SHIFT_MIN to yield a range of [0,1].\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SCALE_2DNUM\u0027) :\u003d \u0027PREP_SCALE_STDDEV\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; This setting enables centering data preparation for two-dimensional numeric columns. PREP_AUTO must be OFF for this setting to take effect. The following are the possible values:\n\u003cbr  /\u003ePREP_SHIFT_MEAN: Results in subtracting the average of the column from each value.\n\u003cbr  /\u003ePREP_SHIFT_MIN: Results in subtracting the minimum of the column from each value.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SHIFT_2DNUM\u0027) :\u003d \u0027PREP_SHIFT_MEAN\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u0026ndash; This setting enables scaling data preparation for nested numeric columns. PREP_AUTO must be OFF for this setting to take effect. If specified, then the valid value for this setting is PREP_SCALE_MAXABS, which yields data in the range of [-1,1].\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ev_setlst(\u0027PREP_SCALE_NNUM\u0027) :\u003d \u0027PREP_SCALE_MAXABS\u0027;\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1675979512658_398495778",
      "id": "paragraph_1675979512658_398495778",
      "dateCreated": "2023-02-09T21:51:52+0000",
      "dateStarted": "2023-02-17T00:51:40+0000",
      "dateFinished": "2023-02-17T00:51:40+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create NMF model",
      "text": "%script\n\nBEGIN \n    DBMS_DATA_MINING.DROP_MODEL(\u0027NMF_LTV_MDL\u0027);\n    EXCEPTION WHEN OTHERS THEN NULL; \nEND;\n/\n\nDECLARE\n    V_SETLST DBMS_DATA_MINING.SETTING_LIST;\nBEGIN\n    V_SETLST(\u0027ALGO_NAME\u0027)  :\u003d \u0027ALGO_NONNEGATIVE_MATRIX_FACTOR\u0027;\n    V_SETLST(\u0027PREP_AUTO\u0027)  :\u003d \u0027ON\u0027;\n    V_SETLST(\u0027FEAT_NUM_FEATURES\u0027)  :\u003d \u00275\u0027;\n    \n    DBMS_DATA_MINING.CREATE_MODEL2(\n        MODEL_NAME          \u003d\u003e \u0027NMF_LTV_MDL\u0027,\n        MINING_FUNCTION     \u003d\u003e \u0027FEATURE_EXTRACTION\u0027,\n        CASE_ID_COLUMN_NAME \u003d\u003e \u0027CUSTOMER_ID\u0027,\n        DATA_QUERY          \u003d\u003e \u0027SELECT * FROM CUST_V\u0027,\n        SET_LIST            \u003d\u003e V_SETLST);\nEND;",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:40+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-91224018",
      "id": "20220124-201425_216224460",
      "dateCreated": "2020-12-09T21:28:17+0000",
      "dateStarted": "2023-02-17T00:51:41+0000",
      "dateFinished": "2023-02-17T00:51:42+0000",
      "status": "FINISHED"
    },
    {
      "title": "List the NMF model views available",
      "text": "%sql\n\nSELECT VIEW_NAME, VIEW_TYPE FROM USER_MINING_MODEL_VIEWS\n  WHERE MODEL_NAME\u003d\u0027NMF_LTV_MDL\u0027\n  ORDER BY VIEW_NAME",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:42+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "VIEW_NAME": "string",
                      "VIEW_TYPE": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "VIEW_NAME\tVIEW_TYPE\nDM$VENMF_LTV_MDL\tNon-Negative Matrix Factorization H Matrix\nDM$VGNMF_LTV_MDL\tGlobal Name-Value Pairs\nDM$VINMF_LTV_MDL\tNon-Negative Matrix Factorization Inverse H Matrix\nDM$VNNMF_LTV_MDL\tNormalization and Missing Value Handling\nDM$VSNMF_LTV_MDL\tComputed Settings\nDM$VWNMF_LTV_MDL\tModel Build Alerts\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676577379810_1220890976",
      "id": "paragraph_1676577379810_1220890976",
      "dateCreated": "2023-02-16T19:56:19+0000",
      "dateStarted": "2023-02-17T00:51:42+0000",
      "dateFinished": "2023-02-17T00:51:42+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check coefficients of original columns associated to each NMF feature",
      "text": "%sql\n\nSELECT FEATURE_ID,\n       ATTRIBUTE_NAME,\n       ATTRIBUTE_VALUE,\n       COEFFICIENT\nFROM DM$VENMF_LTV_MDL\nORDER BY FEATURE_ID,ATTRIBUTE_NAME,ATTRIBUTE_VALUE\nFETCH FIRST 30 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:42+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "FEATURE_ID": "string",
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_VALUE": "string",
                      "COEFFICIENT": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "FEATURE_ID\tATTRIBUTE_NAME\tATTRIBUTE_VALUE\tCOEFFICIENT\n1\tCREDIT_BALANCE\t\t0.001340184597950889\n1\tCUSTOMER_TENURE\t\t0.08491322814520694\n1\tGENDER\tF                         \t0.09780370828038705\n1\tGENDER\tM                         \t0.3298818924269928\n1\tMARITAL_STATUS\tDIVORCED\t0.044296713537437596\n1\tMARITAL_STATUS\tMARRIED\t0.0784670024345143\n1\tMARITAL_STATUS\tOTHER\t0.004534870161403671\n1\tMARITAL_STATUS\tSINGLE\t0.03556709261641716\n1\tMARITAL_STATUS\tWIDOWED\t0.007785204835084698\n1\tMORTGAGE_AMOUNT\t\t0.0013599283262101575\n1\tREGION\tMidwest\t0.08304934840432189\n1\tREGION\tNorthEast\t0.036824028128878035\n1\tREGION\tSouth\t0.023342685762574207\n1\tREGION\tSouthwest\t0.028066134954678388\n1\tREGION\tWest\t0.00845475426219793\n2\tCREDIT_BALANCE\t\t4.934352950880333E-4\n2\tCUSTOMER_TENURE\t\t0.024174121965280678\n2\tGENDER\tF                         \t0.14096637840904322\n2\tGENDER\tM                         \t0.206074157025542\n2\tMARITAL_STATUS\tDIVORCED\t0.2223087117597371\n2\tMARITAL_STATUS\tMARRIED\t0.1391199365865613\n2\tMARITAL_STATUS\tOTHER\t0.001527958893974671\n2\tMARITAL_STATUS\tSINGLE\t0.08021795904162299\n2\tMARITAL_STATUS\tWIDOWED\t0.004037871485728927\n2\tMORTGAGE_AMOUNT\t\t0.01131762053894168\n2\tREGION\tMidwest\t0.07999242704296103\n2\tREGION\tNorthEast\t0.12416388255313135\n2\tREGION\tSouth\t0.021676219489230035\n2\tREGION\tSouthwest\t0.014610794420396827\n2\tREGION\tWest\t0.13188443902187472\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_1280228404",
      "id": "20220124-201425_1714178151",
      "dateCreated": "2020-12-09T21:50:59+0000",
      "dateStarted": "2023-02-17T00:51:42+0000",
      "dateFinished": "2023-02-17T00:51:42+0000",
      "status": "FINISHED"
    },
    {
      "text": "%sql\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:52:08+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676595111582_490843755",
      "id": "paragraph_1676595111582_490843755",
      "dateCreated": "2023-02-17T00:51:51+0000",
      "status": "READY"
    },
    {
      "title": "Check first four NMF features for each customer",
      "text": "%sql \n\nSELECT CUSTOMER_ID, \n       ROUND(FEATURE_VALUE(NMF_LTV_MDL, 1 USING *),4) NMF_PROJ1,\n       ROUND(FEATURE_VALUE(NMF_LTV_MDL, 2 USING *),4) NMF_PROJ2,\n       ROUND(FEATURE_VALUE(NMF_LTV_MDL, 3 USING *),4) NMF_PROJ3,\n       ROUND(FEATURE_VALUE(NMF_LTV_MDL, 4 USING *),4) NMF_PROJ4\nFROM CUST_V\nORDER BY 1, 2\nFETCH FIRST 20 ROWS ONLY\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:42+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "CUSTOMER_ID": "string",
                      "NMF_PROJ1": "number",
                      "NMF_PROJ2": "number",
                      "NMF_PROJ3": "number",
                      "NMF_PROJ4": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "CUSTOMER_ID\tNMF_PROJ1\tNMF_PROJ2\tNMF_PROJ3\tNMF_PROJ4\nCU1                       \t1.5535\t1.8228\t0\t8.4612\nCU10                      \t0\t5.6516\t0\t6.4315\nCU1000                    \t1.3552\t0\t5.5198\t0\nCU10000                   \t1.9768\t0\t0\t0\nCU10001                   \t0.1962\t1.9594\t7.668\t0\nCU10003                   \t0\t7.2598\t0\t8.9182\nCU10004                   \t1.555\t0\t0\t5.1539\nCU10005                   \t1.6082\t0\t0\t2.6702\nCU10006                   \t1.3\t1.7619\t2.9731\t0\nCU10007                   \t0.1598\t0\t3.8602\t0\nCU10008                   \t0.1614\t0\t3.8596\t0\nCU1001                    \t0.5763\t0\t3.6229\t0\nCU10010                   \t1.5532\t0\t0\t5.1554\nCU10011                   \t0\t5.8542\t0\t8.4789\nCU10012                   \t0.7239\t0.0094\t3.7144\t0.0192\nCU10013                   \t0\t4.7695\t0\t5.4605\nCU10014                   \t1.5529\t0\t0\t5.1556\nCU10015                   \t1.555\t0\t0\t5.1539\nCU10016                   \t0\t3.0397\t0\t1.3067\nCU10017                   \t1.5532\t0\t0\t5.1554\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_1631563606",
      "id": "20220124-201425_945934317",
      "dateCreated": "2020-12-09T22:00:26+0000",
      "dateStarted": "2023-02-17T00:51:42+0000",
      "dateFinished": "2023-02-17T00:51:43+0000",
      "status": "FINISHED"
    },
    {
      "title": "NMF Feature vector 1",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, \n       ATTRIBUTE_VALUE, \n       ROUND(COEFFICIENT,4) COEFF\nFROM DM$VENMF_LTV_MDL\nWHERE FEATURE_ID \u003d 1\nORDER BY COEFFICIENT DESC\nFETCH FIRST 20 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:43+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 4.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_VALUE": "string",
                      "COEFF": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_VALUE\tCOEFF\nGENDER\tM                         \t0.3299\nGENDER\tF                         \t0.0978\nCUSTOMER_TENURE\t\t0.0849\nREGION\tMidwest\t0.083\nMARITAL_STATUS\tMARRIED\t0.0785\nMARITAL_STATUS\tDIVORCED\t0.0443\nREGION\tNorthEast\t0.0368\nMARITAL_STATUS\tSINGLE\t0.0356\nREGION\tSouthwest\t0.0281\nREGION\tSouth\t0.0233\nREGION\tWest\t0.0085\nMARITAL_STATUS\tWIDOWED\t0.0078\nMARITAL_STATUS\tOTHER\t0.0045\nMORTGAGE_AMOUNT\t\t0.0014\nCREDIT_BALANCE\t\t0.0013\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676594659849_522572931",
      "id": "paragraph_1676594659849_522572931",
      "dateCreated": "2023-02-17T00:44:19+0000",
      "dateStarted": "2023-02-17T00:51:43+0000",
      "dateFinished": "2023-02-17T00:51:43+0000",
      "status": "FINISHED"
    },
    {
      "title": "NMF Feature vector 2",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, \n       ATTRIBUTE_VALUE, \n       ROUND(COEFFICIENT,4) COEFF\nFROM DM$VENMF_LTV_MDL\nWHERE FEATURE_ID \u003d 2\nORDER BY COEFFICIENT DESC\nFETCH FIRST 20 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:43+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 4.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_VALUE": "string",
                      "COEFF": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_VALUE\tCOEFF\nMARITAL_STATUS\tDIVORCED\t0.2223\nGENDER\tM                         \t0.2061\nGENDER\tF                         \t0.141\nMARITAL_STATUS\tMARRIED\t0.1391\nREGION\tWest\t0.1319\nREGION\tNorthEast\t0.1242\nMARITAL_STATUS\tSINGLE\t0.0802\nREGION\tMidwest\t0.08\nCUSTOMER_TENURE\t\t0.0242\nREGION\tSouth\t0.0217\nREGION\tSouthwest\t0.0146\nMORTGAGE_AMOUNT\t\t0.0113\nMARITAL_STATUS\tWIDOWED\t0.004\nMARITAL_STATUS\tOTHER\t0.0015\nCREDIT_BALANCE\t\t0.0005\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676594874901_1806441224",
      "id": "paragraph_1676594874901_1806441224",
      "dateCreated": "2023-02-17T00:47:54+0000",
      "dateStarted": "2023-02-17T00:51:43+0000",
      "dateFinished": "2023-02-17T00:51:43+0000",
      "status": "FINISHED"
    },
    {
      "title": "NMF Feature vector 3",
      "text": "%sql\n\nSELECT ATTRIBUTE_NAME, \n       ATTRIBUTE_VALUE, \n       ROUND(COEFFICIENT,4) COEFF\nFROM DM$VENMF_LTV_MDL\nWHERE FEATURE_ID \u003d 3\nORDER BY COEFFICIENT DESC\nFETCH FIRST 20 ROWS ONLY",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:43+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 4.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_VALUE": "string",
                      "COEFF": "number"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_VALUE\tCOEFF\nGENDER\tM                         \t0.316\nCUSTOMER_TENURE\t\t0.1972\nMARITAL_STATUS\tSINGLE\t0.1713\nMARITAL_STATUS\tMARRIED\t0.1478\nREGION\tNorthEast\t0.1198\nREGION\tMidwest\t0.0538\nGENDER\tF                         \t0.052\nMARITAL_STATUS\tDIVORCED\t0.0519\nREGION\tSouth\t0.0466\nREGION\tWest\t0.0368\nREGION\tSouthwest\t0.0162\nMARITAL_STATUS\tWIDOWED\t0.0118\nMORTGAGE_AMOUNT\t\t0.0082\nMARITAL_STATUS\tOTHER\t0.0009\nCREDIT_BALANCE\t\t0.0008\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1676594889751_655780413",
      "id": "paragraph_1676594889751_655780413",
      "dateCreated": "2023-02-17T00:48:09+0000",
      "dateStarted": "2023-02-17T00:51:43+0000",
      "dateFinished": "2023-02-17T00:51:43+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n## Create an NMF Feature Extraction Model using Settings Table\n\nThe settings table is an alternative way to specify algorithm settings to build the model. We first drop the settings table, create it, and then populate it with settings before building the model.\n\n---\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:43+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eCreate an NMF Feature Extraction Model using Settings Table\u003c/h2\u003e\n\u003cp\u003eThe settings table is an alternative way to specify algorithm settings to build the model. We first drop the settings table, create it, and then populate it with settings before building the model.\u003c/p\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1675978634997_1247963670",
      "id": "paragraph_1675978634997_1247963670",
      "dateCreated": "2023-02-09T21:37:14+0000",
      "dateStarted": "2023-02-17T00:51:44+0000",
      "dateFinished": "2023-02-17T00:51:44+0000",
      "status": "FINISHED"
    },
    {
      "title": "Drop old setting table",
      "text": "%script\n\nBEGIN EXECUTE IMMEDIATE \u0027DROP TABLE nmf_ltv_settings\u0027;\nEXCEPTION WHEN OTHERS THEN NULL; END;",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:44+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-1317586542",
      "id": "20220124-201425_1100314121",
      "dateCreated": "2020-12-09T21:31:47+0000",
      "dateStarted": "2023-02-17T00:51:44+0000",
      "dateFinished": "2023-02-17T00:51:44+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create setting table",
      "text": "%sql\n\nCREATE TABLE NMF_LTV_SETTINGS (\n   SETTING_NAME  VARCHAR2(30),\n   SETTING_VALUE VARCHAR2(4000));",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:44+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_-1125285848",
      "id": "20220124-201425_1939189959",
      "dateCreated": "2020-12-09T21:32:06+0000",
      "dateStarted": "2023-02-17T00:51:44+0000",
      "dateFinished": "2023-02-17T00:51:44+0000",
      "status": "FINISHED"
    },
    {
      "title": "Specify settings",
      "text": "%script\n\nBEGIN\n  INSERT INTO NMF_LTV_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES\n  (DBMS_DATA_MINING.PREP_AUTO,DBMS_DATA_MINING.PREP_AUTO_ON);\n  INSERT INTO NMF_LTV_SETTINGS (SETTING_NAME, SETTING_VALUE) VALUES\n  (DBMS_DATA_MINING.FEAT_NUM_FEATURES, 5);\n\nEND;",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:44+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_2117244752",
      "id": "20220124-201425_1646182778",
      "dateCreated": "2020-12-09T21:32:18+0000",
      "dateStarted": "2023-02-17T00:51:44+0000",
      "dateFinished": "2023-02-17T00:51:44+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create NMF model",
      "text": "%script\n\nBEGIN DBMS_DATA_MINING.DROP_MODEL(\u0027NMF_LTV_MDL\u0027);\nEXCEPTION WHEN OTHERS THEN NULL; END;\n/\n\nBEGIN\n  DBMS_DATA_MINING.CREATE_MODEL(\n    MODEL_NAME          \u003d\u003e \u0027NMF_LTV_MDL\u0027,\n    MINING_FUNCTION     \u003d\u003e DBMS_DATA_MINING.FEATURE_EXTRACTION,\n    DATA_TABLE_NAME     \u003d\u003e \u0027CUST_V\u0027,\n    CASE_ID_COLUMN_NAME \u003d\u003e \u0027CUSTOMER_ID\u0027,\n    SETTINGS_TABLE_NAME \u003d\u003e \u0027NMF_LTV_SETTINGS\u0027);\nEND;",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:44+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "plsql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/plsql",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nPL/SQL procedure successfully completed.\n\n\n---------------------------\n\nPL/SQL procedure successfully completed.\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1675978472099_853779171",
      "id": "paragraph_1675978472099_853779171",
      "dateCreated": "2023-02-09T21:34:32+0000",
      "dateStarted": "2023-02-17T00:51:45+0000",
      "dateFinished": "2023-02-17T00:51:46+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:46+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch1\u003eEnd of Script\u003c/h1\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_764672734",
      "id": "20220124-201425_744545418",
      "dateCreated": "2020-12-09T21:32:40+0000",
      "dateStarted": "2023-02-17T00:51:46+0000",
      "dateFinished": "2023-02-17T00:51:46+0000",
      "status": "FINISHED"
    },
    {
      "text": "%sql\n",
      "user": "OMLUSER",
      "dateUpdated": "2023-02-17T00:51:46+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/osql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055265216_371905661",
      "id": "20220124-201425_973311736",
      "dateCreated": "2020-12-23T17:55:08+0000",
      "dateStarted": "2023-02-17T00:51:46+0000",
      "dateFinished": "2023-02-17T00:51:46+0000",
      "status": "FINISHED"
    }
  ],
  "name": "OML4SQL Feature Extraction NMF",
  "id": "101058",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  },
  "path": "/OML4SQL Feature Extraction NMF"
}