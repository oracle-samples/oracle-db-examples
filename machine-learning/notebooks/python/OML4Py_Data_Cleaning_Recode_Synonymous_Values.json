{"paragraphs":[{"text":"%md\r\n## OML4Py Data Cleaning: Recode Synonymous Values\r\nIn this notebook, we demonstrate how to recode synonymous value using OML4Py.\r\n\r\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\n\r\nThe dataset `CUSTOMER_INSURANCE_LTV_PY` has special values generated by the `\"OML Run-me-first\"` notebook artificially, which `MUST` be run before this notebook.  Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as 'M'. \r\n\r\n---\r\n\r\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.\r\n\r\n---\r\n\r\n\r\nCopyright (c) 2021 Oracle Corporation \r\n###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a>\r\n---","user":"OMLUSER","dateUpdated":"2021-08-25T00:06:15+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OML4Py Data Cleaning: Recode Synonymous Values</h2>\n<p>In this notebook, we demonstrate how to recode synonymous value using OML4Py.</p>\n<p>We use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.</p>\n<p>The dataset <code>CUSTOMER_INSURANCE_LTV_PY</code> has special values generated by the <code>\"OML Run-me-first\"</code> notebook artificially, which <code>MUST</code> be run before this notebook.  Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as 'M'.</p>\n<hr />\n<h5><code>IMPORTANT</code>: The <code>\"OML Run-me-first\"</code> notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.</h5>\n<hr />\n<p>Copyright (c) 2021 Oracle Corporation</p>\n<h6><a href=\"https: //oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1627066207145_525159722","id":"20210723-185007_1686981136","dateCreated":"2020-12-16T17:54:40+0000","dateStarted":"2021-08-25T00:06:10+0000","dateFinished":"2021-08-25T00:06:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:40"},{"title":"For more information ...","text":"%md\n\nOML4Py documentation on Data Preparation: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html');\"> https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html </a>","user":"OMLUSER","dateUpdated":"2021-08-23T21:15:04+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>OML4Py documentation on Data Preparation: <a href=\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html');\"> https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html </a></p>\n"}]},"interrupted":false,"jobName":"paragraph_1627066207145_1964722944","id":"20210723-185007_36613431","dateCreated":"2020-12-17T18:33:47+0000","dateStarted":"2021-08-23T21:15:03+0000","dateFinished":"2021-08-23T21:15:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:41"},{"title":"Import libraries and set display options","text":"%python\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)","user":"OMLUSER","dateUpdated":"2021-07-26T20:30:53+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066207145_-738163011","id":"20210723-185007_348993229","dateCreated":"2020-12-10T04:48:27+0000","dateStarted":"2021-07-26T20:30:54+0000","dateFinished":"2021-07-26T20:31:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:42"},{"title":"Get proxy object for CUSTOMER_INSURANCE_LTV_PY table","text":"%python\n\nCUST_DF = oml.sync(table = 'CUSTOMER_INSURANCE_LTV_PY')\n","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:05+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"editorSetting":{"language":"text","editOnDblClick":false},"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066207145_1431245799","id":"20210723-185007_714076502","dateCreated":"2020-12-10T04:48:12+0000","dateStarted":"2021-07-26T20:31:06+0000","dateFinished":"2021-07-26T20:31:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:43"},{"title":"Check the distinct values","text":"%python\n\nz.show(CUST_DF.crosstab(['MARITAL_STATUS']))","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:06+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"MARITAL_STATUS\tcount\nOTHER\t93\nM\t351\nMARRIED\t2361\nWIDOWED\t472\nSINGLE\t2446\nDIV\t331\nDIVORCED\t2031\nNone\t6795\n"}]},"interrupted":false,"jobName":"paragraph_1627066207145_-2089830592","id":"20210723-185007_610067421","dateCreated":"2020-12-10T04:49:18+0000","dateStarted":"2021-07-26T20:31:06+0000","dateFinished":"2021-07-26T20:31:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:44"},{"title":"Recode the synonymous values 'M' and 'DIV'","text":"%python\n\nCUST_DF = CUST_DF.replace(old = ['M', 'DIV', None], new = ['MARRIED', 'DIVORCED', 'UNKNOWN'],  columns = ['MARITAL_STATUS'])\n","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:07+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066207145_-696878937","id":"20210723-185007_1408021876","dateCreated":"2020-12-15T19:33:31+0000","dateStarted":"2021-07-26T20:31:08+0000","dateFinished":"2021-07-26T20:31:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:45"},{"title":"Check the recoded values","text":"%python\n\nz.show(CUST_DF.crosstab(['MARITAL_STATUS']))","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:08+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"text","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"MARITAL_STATUS\tcount\nDIVORCED\t2362\nMARRIED\t2712\nUNKNOWN\t6795\nWIDOWED\t472\nSINGLE\t2446\nOTHER\t93\n"}]},"interrupted":false,"jobName":"paragraph_1627066207145_1101243351","id":"20210723-185007_778734234","dateCreated":"2020-12-15T19:39:57+0000","dateStarted":"2021-07-26T20:31:09+0000","dateFinished":"2021-07-26T20:31:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:46"},{"text":"%md\n\n# End of Script\n","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1627066207145_226370632","id":"20210723-185007_2067450688","dateCreated":"2020-12-15T19:41:03+0000","dateStarted":"2021-07-26T20:31:09+0000","dateFinished":"2021-07-26T20:31:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:47"},{"text":"%md\n","user":"OMLUSER","dateUpdated":"2021-07-26T20:31:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1627066207145_1938362072","id":"20210723-185007_951815665","dateCreated":"2020-12-15T19:43:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:48"}],"name":"OML4Py Data Cleaning Recode Synonymous Values","id":"68812","noteParams":{},"noteForms":{},"angularObjects":{"MDW381939C745:shared_process":[],"ORA7A60DC9B32:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}