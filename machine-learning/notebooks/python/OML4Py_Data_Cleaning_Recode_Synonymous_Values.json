{"paragraphs":[{"text":"%md\r\n## OML4Py Data Cleaning: Recode Synonymous Values\r\nIn this notebook, we demonstrate how to recode synonymous value using OML4Py.\r\n\r\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\nThe dataset CUSTOMER_INSURANCE_LTV_PY has recoded values artificially generated by “OML4SQL Noise” notebook, which ***must*** be run before this notebook. Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as 'M'. \r\n\r\nCopyright (c) 2020 Oracle Corporation                             \r\n###### [The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)\r\n---","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:27+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OML4Py Data Cleaning: Recode Synonymous Values</h2>\n<p>In this notebook, we demonstrate how to recode synonymous value using OML4Py.</p>\n<p>We use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\n<br  />The dataset CUSTOMER_INSURANCE_LTV_PY has recoded values artificially generated by “OML4SQL Noise” notebook, which <strong><em>must</em></strong> be run before this notebook. Specifically, MARITAL_STATUS has divorced status coded as DIV, married coded as 'M'.</p>\n<p>Copyright (c) 2020 Oracle Corporation</p>\n<h6><a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1608233965646_1809495385","id":"20201217-193925_334306731","dateCreated":"2020-12-16T17:54:40+0000","dateStarted":"2021-01-06T16:54:27+0000","dateFinished":"2021-01-06T16:54:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:19"},{"title":"For more information ...","text":"%md\n\nOML4Py data preparation <https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html>","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:27+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>OML4Py data preparation <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\">https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html</a></p>\n"}]},"interrupted":false,"jobName":"paragraph_1608233965646_-1264362408","id":"20201217-193925_759514429","dateCreated":"2020-12-17T18:33:47+0000","dateStarted":"2021-01-06T16:54:28+0000","dateFinished":"2021-01-06T16:54:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:20"},{"title":"Import libraries and set display options","text":"%python\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608233965646_1691653198","id":"20201217-193925_770113360","dateCreated":"2020-12-10T04:48:27+0000","dateStarted":"2021-01-06T16:54:28+0000","dateFinished":"2021-01-06T16:54:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:21"},{"title":"Get proxy object for CUSTOMER_INSURANCE_LTV_PY table","text":"%python\n\nCUST_DF = oml.sync(table = 'CUSTOMER_INSURANCE_LTV_PY')\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:35+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608233965646_1399273647","id":"20201217-193925_2137214015","dateCreated":"2020-12-10T04:48:12+0000","dateStarted":"2021-01-06T16:54:35+0000","dateFinished":"2021-01-06T16:54:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:22"},{"title":"Check the distinct values","text":"%python\n\nz.show(CUST_DF.crosstab(['MARITAL_STATUS']))","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"MARITAL_STATUS\tcount\nDIV\t337\nDIVORCED\t2135\nM\t357\nMARRIED\t2475\nOTHER\t99\nSINGLE\t2583\nWIDOWED\t504\nNone\t6390\n"}]},"interrupted":false,"jobName":"paragraph_1608233965646_1450330486","id":"20201217-193925_77071933","dateCreated":"2020-12-10T04:49:18+0000","dateStarted":"2021-01-06T16:54:36+0000","dateFinished":"2021-01-06T16:54:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:23"},{"title":"Recode the synonymous values 'M' and 'DIV'","text":"%python\n\nCUST_DF = CUST_DF.replace(old = ['M', 'DIV', None], new = ['MARRIED', 'DIVORCED', 'UNKNOWN'],  columns = ['MARITAL_STATUS'])\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1608233965646_144575246","id":"20201217-193925_66311998","dateCreated":"2020-12-15T19:33:31+0000","dateStarted":"2021-01-06T16:54:38+0000","dateFinished":"2021-01-06T16:54:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:24"},{"title":"Check the recoded values","text":"%python\n\nz.show(CUST_DF.crosstab(['MARITAL_STATUS']))","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:44+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"MARITAL_STATUS\tcount\nDIVORCED\t2472\nMARRIED\t2832\nOTHER\t99\nSINGLE\t2583\nUNKNOWN\t6390\nWIDOWED\t504\n"}]},"interrupted":false,"jobName":"paragraph_1608233965646_-103147636","id":"20201217-193925_427140207","dateCreated":"2020-12-15T19:39:57+0000","dateStarted":"2021-01-06T16:54:45+0000","dateFinished":"2021-01-06T16:54:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:25"},{"text":"%md\n\n# End of Script\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:54:46+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1608233965646_-1867407244","id":"20201217-193925_2081558986","dateCreated":"2020-12-15T19:41:03+0000","dateStarted":"2021-01-06T16:54:46+0000","dateFinished":"2021-01-06T16:54:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:26"},{"text":"%md\n","user":"OMLUSER","dateUpdated":"2020-12-23T14:12:48+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1608233965646_-1049016667","id":"20201217-193925_956258715","dateCreated":"2020-12-15T19:43:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:27"}],"name":"OML4Py Data Cleaning Recode Synonymous Values","id":"684402","noteParams":{},"noteForms":{},"angularObjects":{"ORACED2F65282:shared_process":[],"MDW381939C745:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}