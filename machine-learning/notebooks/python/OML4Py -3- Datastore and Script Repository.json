{"paragraphs":[{"text":"%md\n\n# Oracle Machine Learning for Python - Datastore and Script Repository\n\n***Oracle Machine Learning for Python*** (OML4Py) makes the open source Python scripting language and environment ready for the enterprise and big data. Designed for problems involving both large and small data volumes, OML4Py integrates Python with Oracle Autonomous Database, allowing users to run Python commands and scripts for statistical, machine learning, and visualization analyses on database tables and views using Python syntax. Many familiar Python functions are overloaded that translate Python behavior into SQL for running in-database, as well as new automatic machine learning capabilities.\n\nIn this notebook, we highlight the datastore and script repository features of OML4Py.\n\nWith a datastore, you can store Python objects in a named datastore entry. This named datastore can then use in subsequent Python sessions and even be made available to other users or programs by granting/revoking read permissions.\n\nPython objects, including OML4Py proxy objects, exist for the duration of the current Python session unless you explicitly save them. You can save one or more Python objects, including OML proxy objects, to a named datastore and then load those objects in a later Python session. This is also useful when using embedded Python execution. Datastores exist in the user’s Oracle Database schema. A datastore, and the objects it contains, persist in the database until explicitly deleted.\n\nUsing a datastore, you can:\n\n* Save OML4Py and other Python objects in one Python session and load them in another Python session\n* Pass non-scalar arguments to Python functions for use in embedded Python execution from both the Python, and more importantly, the SQL API where only scalar values can be passed to functions\n* List available datastores and explore the contents of a datastore\n\nWith the script repository, users can:\n\n* Create and store user-defined Python functions as scripts in Oracle Database\n* Grant or revoke the read/eecute privilege to a script\n* List available scripts\n* Load a script function into the Python environment\n* Drop a script from the script repository\n\nYou can make scripts either private or global. A private script is available only to the owner. A global script is available to any user. For private scripts, the owner of the script may grant the read privilege to other users or revoke that privilege.\n\nCopyright (c) 2020 Oracle Corporation                             \n###### [The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)\n---","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:25+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Oracle Machine Learning for Python - Datastore and Script Repository</h1>\n<p><strong><em>Oracle Machine Learning for Python</em></strong> (OML4Py) makes the open source Python scripting language and environment ready for the enterprise and big data. Designed for problems involving both large and small data volumes, OML4Py integrates Python with Oracle Autonomous Database, allowing users to run Python commands and scripts for statistical, machine learning, and visualization analyses on database tables and views using Python syntax. Many familiar Python functions are overloaded that translate Python behavior into SQL for running in-database, as well as new automatic machine learning capabilities.</p>\n<p>In this notebook, we highlight the datastore and script repository features of OML4Py.</p>\n<p>With a datastore, you can store Python objects in a named datastore entry. This named datastore can then use in subsequent Python sessions and even be made available to other users or programs by granting/revoking read permissions.</p>\n<p>Python objects, including OML4Py proxy objects, exist for the duration of the current Python session unless you explicitly save them. You can save one or more Python objects, including OML proxy objects, to a named datastore and then load those objects in a later Python session. This is also useful when using embedded Python execution. Datastores exist in the user’s Oracle Database schema. A datastore, and the objects it contains, persist in the database until explicitly deleted.</p>\n<p>Using a datastore, you can:</p>\n<ul>\n<li>Save OML4Py and other Python objects in one Python session and load them in another Python session</li>\n<li>Pass non-scalar arguments to Python functions for use in embedded Python execution from both the Python, and more importantly, the SQL API where only scalar values can be passed to functions</li>\n<li>List available datastores and explore the contents of a datastore</li>\n</ul>\n<p>With the script repository, users can:</p>\n<ul>\n<li>Create and store user-defined Python functions as scripts in Oracle Database</li>\n<li>Grant or revoke the read/eecute privilege to a script</li>\n<li>List available scripts</li>\n<li>Load a script function into the Python environment</li>\n<li>Drop a script from the script repository</li>\n</ul>\n<p>You can make scripts either private or global. A private script is available only to the owner. A global script is available to any user. For private scripts, the owner of the script may grant the read privilege to other users or revoke that privilege.</p>\n<p>Copyright (c) 2020 Oracle Corporation</p>\n<h6><a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1835765585","id":"20200915-175631_1161962088","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:26+0000","dateFinished":"2021-01-06T16:23:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:40"},{"text":"%md\n\n## Import libraries supporting OML4Py and create data table\n\nTo use OML4Py, first import the package ***oml***. Check for the PYQADMIN role, which is required to use certain functionalities here and later for embedded Python execution. \n\nUsers can get online help using Python's help function and specifying the function of interest.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:26+0000","config":{"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":true},"colWidth":6,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Import libraries supporting OML4Py and create data table</h2>\n<p>To use OML4Py, first import the package <strong><em>oml</em></strong>. Check for the PYQADMIN role, which is required to use certain functionalities here and later for embedded Python execution.</p>\n<p>Users can get online help using Python's help function and specifying the function of interest.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1042569083","id":"20200915-175631_836251179","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:27+0000","dateFinished":"2021-01-06T16:23:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:41"},{"title":"Import libraries and set display options and check PYQADMIN role","text":"%python\n\nimport pandas as pd\nimport oml\n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)\n\noml.core.methods.__checkRole(\"PYQADMIN\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:27+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":6,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591517_-2098120420","id":"20200915-175631_1093610301","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:27+0000","dateFinished":"2021-01-06T16:23:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:42"},{"text":"%md\n\n## Create Pandas DataFrames and load them into Autonomous Database\n\nWe load three data sets, combining target and predictors into a single DataFrame, before invoking create and displaying the columns for each. These will be used in exploring *datastore* functionality.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:36+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Create Pandas DataFrames and load them into Autonomous Database</h2>\n<p>We load three data sets, combining target and predictors into a single DataFrame, before invoking create and displaying the columns for each. These will be used in exploring <em>datastore</em> functionality.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-2137121872","id":"20200915-175631_1209396484","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:37+0000","dateFinished":"2021-01-06T16:23:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:43"},{"title":"Create IRIS data table","text":"%python\nfrom sklearn import datasets\nfrom sklearn import linear_model\nimport pandas as pd\n\niris = datasets.load_iris()\nx = pd.DataFrame(iris.data, columns = ['SEPAL_LENGTH','SEPAL_WIDTH',\n                                       'PETAL_LENGTH','PETAL_WIDTH'])\ny = pd.DataFrame(list(map(lambda x: {0: 'setosa', 1: 'versicolor',\n                 2:'virginica'}[x], iris.target)), columns = ['SPECIES'])\ntry:\n    oml.drop(table='IRIS')\nexcept:\n    pass\nIRIS = oml.create(pd.concat([x, y], axis=1), table = 'IRIS')\niris = pd.concat([x, y], axis=1)\nprint(IRIS.columns)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:37+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":4,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['SEPAL_LENGTH', 'SEPAL_WIDTH', 'PETAL_LENGTH', 'PETAL_WIDTH', 'SPECIES']\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-900609561","id":"20200915-175631_479250188","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:37+0000","dateFinished":"2021-01-06T16:23:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:44"},{"title":"Create DIABETES temporary data table","text":"%python\n\ndiabetes = datasets.load_diabetes()\nx = pd.DataFrame(diabetes.data, columns=diabetes.feature_names)\ny = pd.DataFrame(diabetes.target, columns=['disease_progression'])\n\nDIABETES_TMP = oml.push(pd.concat([x, y], axis=1))\nprint(DIABETES_TMP.columns)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:38+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":4,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['age', 'sex', 'bmi', 'bp', 's1', 's2', 's3', 's4', 's5', 's6', 'disease_progression']\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_263140673","id":"20200915-175631_1816730563","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:39+0000","dateFinished":"2021-01-06T16:23:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:45"},{"title":"Create BOSTON temporary data table","text":"%python\n\nboston = datasets.load_boston()\nx = pd.DataFrame(boston.data, columns = boston.feature_names.tolist())\ny = pd.DataFrame(boston.target, columns = ['Value'])\n\nBOSTON_TMP = oml.push(pd.concat([x, y], axis=1))\nprint(BOSTON_TMP.columns)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:39+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":4,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['CRIM', 'ZN', 'INDUS', 'CHAS', 'NOX', 'RM', 'AGE', 'DIS', 'RAD', 'TAX', 'PTRATIO', 'B', 'LSTAT', 'Value']\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1632219262","id":"20200915-175631_1409786804","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:40+0000","dateFinished":"2021-01-06T16:23:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:46"},{"text":"%md\n## Save Python objects to datastore\n\nSave the actual *iris* data set and the temporary BOSTON proxy object to a datastore named \"ds_pydata\", overwriting if the named datastore already exists. Note that you can store actual data objects in a datastore, but large data objects should remain as database tables for performance and scalability.\n\nBy storing the BOSTON_TMP object, the temporary table will not be deleted when the session terminates.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:41+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Save Python objects to datastore</h2>\n<p>Save the actual <em>iris</em> data set and the temporary BOSTON proxy object to a datastore named &ldquo;ds_pydata&rdquo;, overwriting if the named datastore already exists. Note that you can store actual data objects in a datastore, but large data objects should remain as database tables for performance and scalability.</p>\n<p>By storing the BOSTON_TMP object, the temporary table will not be deleted when the session terminates.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1767097466","id":"20200915-175631_857545213","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:41+0000","dateFinished":"2021-01-06T16:23:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:47"},{"text":"%python\n\noml.ds.save(objs={'iris':iris, 'oml_boston':BOSTON_TMP},\n            name=\"ds_pydata\", description = \"python datasets\", overwrite=True)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:41+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591517_1439646233","id":"20200915-175631_690950197","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:42+0000","dateFinished":"2021-01-06T16:23:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:48"},{"text":"%md\n\nAdd a third object, the temporary DIABETES proxy object, to that same datastore.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:43+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Add a third object, the temporary DIABETES proxy object, to that same datastore.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1941320820","id":"20200915-175631_228364752","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:44+0000","dateFinished":"2021-01-06T16:23:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:49"},{"text":"%python\n\noml.ds.save(objs={'oml_diabetes':DIABETES_TMP}, name=\"ds_pydata\", append=True)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:44+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591517_-1239805031","id":"20200915-175631_1693424084","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:45+0000","dateFinished":"2021-01-06T16:23:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:50"},{"text":"%md\n\nSave the *iris* DataFrame to a new datastore, and then list the datastores. Notice we see the datastore name, the number of objects in the datastore, the size in bytes consumed, when the datastore was create/updated, and any description provided by the user. Our two datastores ***ds_iris_data*** and ***ds_pydata*** are present, with the latter containing three objects.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Save the <em>iris</em> DataFrame to a new datastore, and then list the datastores. Notice we see the datastore name, the number of objects in the datastore, the size in bytes consumed, when the datastore was create/updated, and any description provided by the user. Our two datastores <strong><em>ds_iris_data</em></strong> and <strong><em>ds_pydata</em></strong> are present, with the latter containing three objects.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1072883696","id":"20200915-175631_1072080453","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:48+0000","dateFinished":"2021-01-06T16:23:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:51"},{"text":"%python\n\noml.ds.save(objs={'iris':iris},\n            name=\"ds_iris_data\", description = \"iris dataset\", overwrite=True)\n\noml.ds.dir()","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:48+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name  object_count  size                date      description\n0   ds_iris_data             1  5987 2021-01-06 16:23:49     iris dataset\n1      ds_pydata             3  7913 2021-01-06 16:23:43  python datasets\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_952040466","id":"20200915-175631_1855567668","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:48+0000","dateFinished":"2021-01-06T16:23:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:52"},{"text":"%md\n## Store model objects in a datastore\n\nTo illustrate storing other types of objects in datastores, we'll create regression models using sklearn and OML4Py.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:49+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Store model objects in a datastore</h2>\n<p>To illustrate storing other types of objects in datastores, we'll create regression models using sklearn and OML4Py.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_2074652940","id":"20200915-175631_132294950","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:50+0000","dateFinished":"2021-01-06T16:23:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:53"},{"text":"%python\n\nregr1 = linear_model.LinearRegression()\nregr1.fit(boston.data, boston.target)\n\nregr2 = oml.glm(\"regression\")\nX = BOSTON_TMP.drop('Value')\ny = BOSTON_TMP['Value']\nregr2 = regr2.fit(X, y)","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:50+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591517_-482189248","id":"20200915-175631_526098743","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:50+0000","dateFinished":"2021-01-06T16:23:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:54"},{"text":"%md\n\nSave objects to a datastore and allow the read privilege to be granted to them. Then grant the read privilege to all users by specifying ***user=None***. Finally list the datastores to which the read privilege has been granted.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Save objects to a datastore and allow the read privilege to be granted to them. Then grant the read privilege to all users by specifying <strong><em>user=None</em></strong>. Finally list the datastores to which the read privilege has been granted.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_991038384","id":"20200915-175631_361101335","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:55+0000","dateFinished":"2021-01-06T16:23:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:55"},{"text":"%python\n\noml.ds.save(objs={'regr1':regr1, 'regr2':regr2},\n            name=\"ds_pymodel\", grantable=True, overwrite=True)\n\noml.ds.dir()","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:55+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name  object_count  size                date      description\n0   ds_iris_data             1  5987 2021-01-06 16:23:49     iris dataset\n1      ds_pydata             3  7913 2021-01-06 16:23:43  python datasets\n2     ds_pymodel             2  4065 2021-01-06 16:23:56             None\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_2087178967","id":"20200915-175631_914804100","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:56+0000","dateFinished":"2021-01-06T16:23:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:56"},{"text":"%python\n\noml.grant(name=\"ds_pymodel\", typ=\"datastore\", user=None)\n\noml.ds.dir(dstype=\"grant\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:57+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name grantee\n0     ds_pymodel  PUBLIC\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_84816099","id":"20200915-175631_616561131","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:58+0000","dateFinished":"2021-01-06T16:23:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:57"},{"text":"%md\n## Load datastore objects into memory\n\nLoad all Python objects from a datastore to the global workspace and sort the result by name. Notice that they have the name specified in the dictionary when saved.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:58+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Load datastore objects into memory</h2>\n<p>Load all Python objects from a datastore to the global workspace and sort the result by name. Notice that they have the name specified in the dictionary when saved.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1507458005","id":"20200915-175631_1714398802","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:59+0000","dateFinished":"2021-01-06T16:23:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:58"},{"text":"%python\n\nsorted(oml.ds.load(name=\"ds_pydata\"))","user":"OMLUSER","dateUpdated":"2021-01-06T16:23:59+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['iris', 'oml_boston', 'oml_diabetes']\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-454133333","id":"20200915-175631_1548791744","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:23:59+0000","dateFinished":"2021-01-06T16:24:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:59"},{"text":"%md\n\nLoad the named Python object, ***regr2***, from the datastore to the global workspace.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:06+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Load the named Python object, <strong><em>regr2</em></strong>, from the datastore to the global workspace.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1814931776","id":"20200915-175631_1555735331","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:07+0000","dateFinished":"2021-01-06T16:24:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:60"},{"text":"%python\n\noml.ds.load(name=\"ds_pymodel\", objs=[\"regr2\"])","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:07+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['regr2']\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_733076068","id":"20200915-175631_126974462","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:07+0000","dateFinished":"2021-01-06T16:24:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:61"},{"text":"%md\n\nLoad the named Python object, ***regr1***, from the datastore to the user's workspace.\n\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:14+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Load the named Python object, <strong><em>regr1</em></strong>, from the datastore to the user's workspace.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-918096405","id":"20200915-175631_479679080","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:14+0000","dateFinished":"2021-01-06T16:24:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:62"},{"text":"%python\n\noml.ds.load(name=\"ds_pymodel\", objs=[\"regr1\"], to_globals=False)","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:14+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"{'regr1': LinearRegression()}\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1234642636","id":"20200915-175631_1163972757","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:15+0000","dateFinished":"2021-01-06T16:24:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:63"},{"text":"%md\n\n## Show datastores and other details","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:20+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Show datastores and other details</h2>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_473311043","id":"20200915-175631_1279971489","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:20+0000","dateFinished":"2021-01-06T16:24:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:64"},{"text":"%python\n\noml.ds.dir(dstype=\"all\")[['owner', 'datastore_name', 'object_count']]","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:21+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"     owner datastore_name  object_count\n0  OMLUSER   ds_iris_data             1\n1  OMLUSER      ds_pydata             3\n2  OMLUSER     ds_pymodel             2\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_310518401","id":"20200915-175631_1083706975","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:21+0000","dateFinished":"2021-01-06T16:24:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:65"},{"text":"%md\n\nWe can then show datastores to which other users have been granted the read privilege.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:22+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We can then show datastores to which other users have been granted the read privilege.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1850453715","id":"20200915-175631_1715077174","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:22+0000","dateFinished":"2021-01-06T16:24:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:66"},{"text":"%python\n\noml.ds.dir(dstype=\"grant\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:22+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name grantee\n0     ds_pymodel  PUBLIC\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-2104746119","id":"20200915-175631_622694428","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:23+0000","dateFinished":"2021-01-06T16:24:23+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:67"},{"text":"%md\n\nOr, show datastores to which this user has been granted the read privilege (there currently are none).\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:23+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Or, show datastores to which this user has been granted the read privilege (there currently are none).</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1606056072","id":"20200915-175631_1070109638","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:24+0000","dateFinished":"2021-01-06T16:24:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:68"},{"text":"%python\n\noml.ds.dir(dstype=\"granted\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:24+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Empty DataFrame\nColumns: [owner, datastore_name, object_count, size, date, description]\nIndex: []\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1914116630","id":"20200915-175631_1059231894","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:24+0000","dateFinished":"2021-01-06T16:24:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:69"},{"text":"%md\n\nOr, show datastores whose names match a pattern.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:26+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Or, show datastores whose names match a pattern.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-970361219","id":"20200915-175631_162465012","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:26+0000","dateFinished":"2021-01-06T16:24:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:70"},{"text":"%python\n\noml.ds.dir(name='pydata', regex_match=True)[['datastore_name', 'object_count']]","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:26+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name  object_count\n0      ds_pydata             3\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1229331959","id":"20200915-175631_1081862317","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:27+0000","dateFinished":"2021-01-06T16:24:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:71"},{"text":"%md\n## Describe contents of a datastore\n\nLet's describe the contents of the ds_pydata datastore. Notice that the three proxy objects are listed.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:27+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Describe contents of a datastore</h2>\n<p>Let's describe the contents of the ds_pydata datastore. Notice that the three proxy objects are listed.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_1331443928","id":"20200915-175631_1003886023","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:28+0000","dateFinished":"2021-01-06T16:24:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:72"},{"text":"%python\n\noml.ds.describe(name='ds_pydata')","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:28+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"    object_name                        class  size  length  row_count  col_count\n0          iris  pandas.core.frame.DataFrame  5987     150        150          5\n1    oml_boston                oml.DataFrame  1018     506        506         14\n2  oml_diabetes                oml.DataFrame   908     442        442         11\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1511038597","id":"20200915-175631_278645763","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:28+0000","dateFinished":"2021-01-06T16:24:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:73"},{"text":"%md\n## User privileges on a datastore\n\nRevoke the read privilege from every user, and again show datastores to which read privilege has been granted. The result is empty.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:30+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>User privileges on a datastore</h2>\n<p>Revoke the read privilege from every user, and again show datastores to which read privilege has been granted. The result is empty.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1979500961","id":"20200915-175631_1633870400","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:31+0000","dateFinished":"2021-01-06T16:24:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:74"},{"text":"%python\n\noml.revoke(name=\"ds_pymodel\", typ=\"datastore\", user=None)\n\noml.ds.dir(dstype=\"grant\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:31+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Empty DataFrame\nColumns: [datastore_name, grantee]\nIndex: []\n"}]},"interrupted":false,"jobName":"paragraph_1600192591517_-1151536630","id":"20200915-175631_2126729281","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:31+0000","dateFinished":"2021-01-06T16:24:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:75"},{"text":"%md\n\nGrant the read privilege to the user PYQUSER2.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:32+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Grant the read privilege to the user PYQUSER2.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1444521784","id":"20200915-175631_1974475379","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:32+0000","dateFinished":"2021-01-06T16:24:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:76"},{"text":"%python\n\noml.grant(name=\"ds_pymodel\", typ=\"datastore\", user=\"OMLUSER2\")\n\noml.ds.dir(dstype=\"grant\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:33+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name   grantee\n0     ds_pymodel  OMLUSER2\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_868531701","id":"20200915-175631_998583058","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:33+0000","dateFinished":"2021-01-06T16:24:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:77"},{"text":"%md\n## Delete datastore content\n\nDelete some objects from the datastore. Delete a datastore. Delete all datastores whose names match a pattern. Show the existing datastores again.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:34+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Delete datastore content</h2>\n<p>Delete some objects from the datastore. Delete a datastore. Delete all datastores whose names match a pattern. Show the existing datastores again.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-424608616","id":"20200915-175631_1300479680","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:34+0000","dateFinished":"2021-01-06T16:24:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:78"},{"text":"%python\n\noml.ds.delete(name=\"ds_pydata\", objs=[\"iris\", \"oml_boston\"])\n\noml.ds.delete(name=\"ds_pydata\")\n\noml.ds.delete(name=\"_pymodel\", regex_match=True)\n\noml.ds.dir()","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:34+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"  datastore_name  object_count  size                date   description\n0   ds_iris_data             1  5987 2021-01-06 16:23:49  iris dataset\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_194206147","id":"20200915-175631_690400873","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:35+0000","dateFinished":"2021-01-06T16:24:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:79"},{"text":"%md\n\n# Python Script Repository\n\nTo illustrate using the Python Script Repository, we first define a function ***build_lm1*** that will fit a regression model. With this function, we create a script named \"MyLM_function\". OML4Py stores named user-defined functions -- the scripts -- in the repository.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:37+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Python Script Repository</h1>\n<p>To illustrate using the Python Script Repository, we first define a function <strong><em>build_lm1</em></strong> that will fit a regression model. With this function, we create a script named &ldquo;MyLM_function&rdquo;. OML4Py stores named user-defined functions &ndash; the scripts &ndash; in the repository.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_366627158","id":"20200915-175631_1546672828","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:38+0000","dateFinished":"2021-01-06T16:24:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:80"},{"text":"%python \n\niris = datasets.load_iris()\nx = pd.DataFrame(iris.data, columns = ['SEPAL_LENGTH','SEPAL_WIDTH',\n                                       'PETAL_LENGTH','PETAL_WIDTH'])\ny = pd.DataFrame(list(map(lambda x: {0: 'setosa', 1: 'versicolor', 2:'virginica'}[x], iris.target)), \n                 columns = ['SPECIES'])\nIRIS2 = oml.push(pd.concat([x, y], axis=1))","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:38+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_-193649936","id":"20200915-175631_1325344659","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:39+0000","dateFinished":"2021-01-06T16:24:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:81"},{"title":"Define function object","text":"%python\n\ndef build_lm1(dat):\n    from sklearn import linear_model\n    regr = linear_model.LinearRegression()\n    import pandas as pd\n    dat = pd.get_dummies(dat, drop_first=True)\n    X = dat[[\"SEPAL_WIDTH\", \"PETAL_LENGTH\", \"PETAL_WIDTH\", \n             \"SPECIES_versicolor\", \"SPECIES_virginica\"]]\n    y = dat[[\"SEPAL_LENGTH\"]]\n    regr.fit(X, y)\n    return regr","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:39+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_1335826962","id":"20200915-175631_517666098","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:40+0000","dateFinished":"2021-01-06T16:24:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:82"},{"title":"Define function as string","text":"%python\n\nbuild_lm2 = \"\"\"def build_lm2(dat):\n    from sklearn import linear_model\n    regr = linear_model.LinearRegression()\n    import pandas as pd\n    dat = pd.get_dummies(dat, drop_first=True)\n    X = dat[[\"SEPAL_WIDTH\", \"PETAL_LENGTH\", \"PETAL_WIDTH\", \n             \"SPECIES_versicolor\", \"SPECIES_virginica\"]]\n    y = dat[[\"SEPAL_LENGTH\"]]\n    regr.fit(X, y)\n    return regr\"\"\"","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:40+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_1845297661","id":"20200915-175631_34821478","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:41+0000","dateFinished":"2021-01-06T16:24:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:83"},{"title":"View function string","text":"%python\nprint(build_lm2)","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:41+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"def build_lm2(dat):\n    from sklearn import linear_model\n    regr = linear_model.LinearRegression()\n    import pandas as pd\n    dat = pd.get_dummies(dat, drop_first=True)\n    X = dat[[\"SEPAL_WIDTH\", \"PETAL_LENGTH\", \"PETAL_WIDTH\", \n             \"SPECIES_versicolor\", \"SPECIES_virginica\"]]\n    y = dat[[\"SEPAL_LENGTH\"]]\n    regr.fit(X, y)\n    return regr\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_640935873","id":"20200915-175631_1554516514","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:41+0000","dateFinished":"2021-01-06T16:24:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:84"},{"text":"%md\n## Create scripts in repository\n\nCreate ***MyLM_function2*** using function string. Note, that one cannot provide the function object when storing a user-defined function. ","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Create scripts in repository</h2>\n<p>Create <strong><em>MyLM_function2</em></strong> using function string. Note, that one cannot provide the function object when storing a user-defined function.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1695188240","id":"20200915-175631_1801223579","dateCreated":"2020-06-08T01:58:57+0000","dateStarted":"2021-01-06T16:24:42+0000","dateFinished":"2021-01-06T16:24:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:85"},{"text":"%python\ntry:\n    oml.script.drop(\"MyLM_function2\")\nexcept: \n    pass\noml.script.create(\"MyLM_function2\", func=build_lm2, overwrite=True)","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:42+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_90261762","id":"20200915-175631_577136295","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:43+0000","dateFinished":"2021-01-06T16:24:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:86"},{"text":"%md\n\nList the scripts available only to the current user.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:43+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List the scripts available only to the current user.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1929305678","id":"20200915-175631_977715176","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:44+0000","dateFinished":"2021-01-06T16:24:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:87"},{"text":"%python\n\noml.script.dir(sctype='user')","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:44+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"             name                                             script description                date\n0  MyLM_function2  def build_lm2(dat):\\n    from sklearn import l...        None 2021-01-06 16:24:43\n1   RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2021-01-05 19:46:51\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-837933250","id":"20200915-175631_648235928","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:44+0000","dateFinished":"2021-01-06T16:24:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:88"},{"text":"%md\n\nGrant the read privilege to the ***MyLM_function1*** script to the user PYQUSER2.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:45+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Grant the read privilege to the <strong><em>MyLM_function1</em></strong> script to the user PYQUSER2.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_707765111","id":"20200915-175631_781929074","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:45+0000","dateFinished":"2021-01-06T16:24:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:89"},{"text":"%python\n\noml.grant(name=\"MyLM_function2\", typ=\"pyqscript\", user=\"OMLUSER2\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:46+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_-457257140","id":"20200915-175631_1071202904","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:46+0000","dateFinished":"2021-01-06T16:24:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:90"},{"text":"%md\n\nList the scripts to which read privilege has been granted.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List the scripts to which read privilege has been granted.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_77264522","id":"20200915-175631_820970420","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:47+0000","dateFinished":"2021-01-06T16:24:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:91"},{"text":"%python\n\noml.script.dir(sctype=\"grant\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:47+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"             name   grantee\n0  MyLM_function2  OMLUSER2\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-76213255","id":"20200915-175631_212623802","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:48+0000","dateFinished":"2021-01-06T16:24:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:92"},{"text":"%python\n\nimport inspect\n\nMyLM_function2 = oml.script.load(\"MyLM_function2\")\nMyLM_function2.get_source()\nprint(str(MyLM_function2))\nprint(MyLM_function2.get_source().read())\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:48+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"<oml.script.script.Callable object at 0x7f9f8ca8a580>\ndef build_lm2(dat):\n    from sklearn import linear_model\n    regr = linear_model.LinearRegression()\n    import pandas as pd\n    dat = pd.get_dummies(dat, drop_first=True)\n    X = dat[[\"SEPAL_WIDTH\", \"PETAL_LENGTH\", \"PETAL_WIDTH\", \n             \"SPECIES_versicolor\", \"SPECIES_virginica\"]]\n    y = dat[[\"SEPAL_LENGTH\"]]\n    regr.fit(X, y)\n    return regr\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-369039238","id":"20200915-175631_2022732423","dateCreated":"2020-07-08T15:54:36+0000","dateStarted":"2021-01-06T16:24:49+0000","dateFinished":"2021-01-06T16:24:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:93"},{"text":"%md\n\nRevoke the read privilege to the MyLM_function script from the user PYQUSER2.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:49+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Revoke the read privilege to the MyLM_function script from the user PYQUSER2.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_208921381","id":"20200915-175631_229516367","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:50+0000","dateFinished":"2021-01-06T16:24:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:94"},{"text":"%python\n\noml.revoke(name=\"MyLM_function2\", typ=\"pyqscript\", user=\"PYQUSER2\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:50+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_-1253247307","id":"20200915-175631_1167357165","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:50+0000","dateFinished":"2021-01-06T16:24:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:95"},{"text":"%md\n## Invoke function using embedded Python execution\n\nWe'll use embedded Python execution to invoke this function. First we ***sync*** the IRIS table to get a proxy object, then use ***table_apply***, providing the proxy object, function name and the output type. We'll view the result and then pull the coefficients.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:51+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Invoke function using embedded Python execution</h2>\n<p>We'll use embedded Python execution to invoke this function. First we <strong><em>sync</em></strong> the IRIS table to get a proxy object, then use <strong><em>table_apply</em></strong>, providing the proxy object, function name and the output type. We'll view the result and then pull the coefficients.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_791052889","id":"20200915-175631_710573140","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:51+0000","dateFinished":"2021-01-06T16:24:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:96"},{"title":"Use table_apply to provide full IRIS data set to function","text":"%python\n\nres = oml.table_apply(IRIS, func=\"MyLM_function2\", oml_input_type=\"pandas.DataFrame\")\nres","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:51+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"LinearRegression()\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1858199146","id":"20200915-175631_1361389522","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:52+0000","dateFinished":"2021-01-06T16:24:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:97"},{"title":"Show model coefficients","text":"%python\n\nres.coef_","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:52+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"array([[ 0.49588894,  0.82924391, -0.31515517, -0.72356196, -1.02349781]])\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_731002362","id":"20200915-175631_768994789","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:53+0000","dateFinished":"2021-01-06T16:24:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:98"},{"text":"%md\n## Storing functions as 'global'\n\nLet's define and save another function ***build_lm3***, but this time as global. We'll then invoke that function to build another model.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:53+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Storing functions as 'global'</h2>\n<p>Let's define and save another function <strong><em>build_lm3</em></strong>, but this time as global. We'll then invoke that function to build another model.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1573598215","id":"20200915-175631_1266735022","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:54+0000","dateFinished":"2021-01-06T16:24:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:99"},{"text":"%python\n\nbuild_lm3 = \"\"\"def build_lm3(dat):\n  from sklearn import linear_model\n  regr = linear_model.LinearRegression()\n  X = dat[[\"PETAL_WIDTH\"]]\n  y = dat[[\"PETAL_LENGTH\"]]\n  regr.fit(X, y)\n  return regr\"\"\"","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:54+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_-854069624","id":"20200915-175631_843164246","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:54+0000","dateFinished":"2021-01-06T16:24:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:100"},{"text":"%python\n\noml.script.create(\"MyGlobalLM_function\", func=build_lm3, is_global=True, overwrite=True)","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:55+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600192591518_1758151332","id":"20200915-175631_1252135035","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:55+0000","dateFinished":"2021-01-06T16:24:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:101"},{"text":"%python\n\nres = oml.table_apply(IRIS, func=\"MyGlobalLM_function\", \n                      oml_input_type=\"pandas.DataFrame\")\nres","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:56+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"LinearRegression()\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1688521104","id":"20200915-175631_1209689615","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:56+0000","dateFinished":"2021-01-06T16:24:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:102"},{"text":"%md\n\nList the scripts in the script repository available to the current user only.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List the scripts in the script repository available to the current user only.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1912902642","id":"20200915-175631_99284229","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:57+0000","dateFinished":"2021-01-06T16:24:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:103"},{"text":"%python\n\noml.script.dir()","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:57+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"             name                                             script description                date\n0  MyLM_function2  def build_lm2(dat):\\n    from sklearn import l...        None 2021-01-06 16:24:43\n1   RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2021-01-05 19:46:51\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-369340366","id":"20200915-175631_977726708","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:58+0000","dateFinished":"2021-01-06T16:24:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:104"},{"text":"%md\n\nList all of the scripts available to the current user.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:58+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List all of the scripts available to the current user.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_77441100","id":"20200915-175631_1614610959","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:59+0000","dateFinished":"2021-01-06T16:24:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:105"},{"text":"%python\n\noml.script.dir(sctype='all')","user":"OMLUSER","dateUpdated":"2021-01-06T16:24:59+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"     owner                 name                                             script description                date\n0  OMLUSER       MyLM_function2  def build_lm2(dat):\\n    from sklearn import l...        None 2021-01-06 16:24:43\n1  OMLUSER        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2021-01-05 19:46:51\n2   PYQSYS  MyGlobalLM_function  def build_lm3(dat):\\n  from sklearn import lin...        None 2021-01-06 16:24:55\n3   PYQSYS        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2020-12-24 10:44:44\n4   PYQSYS  compute_random_mean  def compute_random_mean(index):\\n    import nu...        None 2020-12-24 10:44:41\n5   PYQSYS          group_count  def group_count(dat):\\n  import oml\\n  import ...        None 2020-12-24 10:44:41\n6   PYQSYS           my_predict  def my_predict(dat):\\n    import pandas as pd\\...        None 2020-12-24 10:44:43\n7   PYQSYS              pred_lm  def pred_lm(dat):\\n    from sklearn import lin...        None 2020-12-24 10:44:43\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_223966059","id":"20200915-175631_2072787481","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:24:59+0000","dateFinished":"2021-01-06T16:25:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:106"},{"text":"%md\n\nList the scripts available to all users.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:00+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List the scripts available to all users.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1170349527","id":"20200915-175631_689748656","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:00+0000","dateFinished":"2021-01-06T16:25:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:107"},{"text":"%python\n\noml.script.dir(sctype='global')","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:00+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"                  name                                             script description                date\n0  MyGlobalLM_function  def build_lm3(dat):\\n  from sklearn import lin...        None 2021-01-06 16:24:55\n1        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2020-12-24 10:44:44\n2  compute_random_mean  def compute_random_mean(index):\\n    import nu...        None 2020-12-24 10:44:41\n3          group_count  def group_count(dat):\\n  import oml\\n  import ...        None 2020-12-24 10:44:41\n4           my_predict  def my_predict(dat):\\n    import pandas as pd\\...        None 2020-12-24 10:44:43\n5              pred_lm  def pred_lm(dat):\\n    from sklearn import lin...        None 2020-12-24 10:44:43\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_476898955","id":"20200915-175631_607179307","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:01+0000","dateFinished":"2021-01-06T16:25:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:108"},{"text":"%md\n## Loading functions from the script repository\n\nLoad the MyLM_function1 and MyGlobalLM_function scripts, and pull the models to the local Python session. For MYLM, build the model on the IRIS data set and pull the coefficients. For GlobalMYLM, build and display the model.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:01+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Loading functions from the script repository</h2>\n<p>Load the MyLM_function1 and MyGlobalLM_function scripts, and pull the models to the local Python session. For MYLM, build the model on the IRIS data set and pull the coefficients. For GlobalMYLM, build and display the model.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-2062119497","id":"20200915-175631_747995608","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:02+0000","dateFinished":"2021-01-06T16:25:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:109"},{"text":"%python\n\nMYLM = oml.script.load(name=\"MyLM_function2\")\nGlobalMYLM = oml.script.load(name=\"MyGlobalLM_function\")\n\nprint(\"Coefficients: \", MYLM(IRIS.pull()).coef_)\nprint(\"Model: \", GlobalMYLM(IRIS.pull()))","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:02+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Coefficients:  [[ 0.49588894  0.82924391 -0.31515517 -0.72356196 -1.02349781]]\nModel:  LinearRegression()\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1639232116","id":"20200915-175631_911424161","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:03+0000","dateFinished":"2021-01-06T16:25:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:110"},{"text":"%md\n\nList the available scripts.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>List the available scripts.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-239034922","id":"20200915-175631_2052509665","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:04+0000","dateFinished":"2021-01-06T16:25:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:111"},{"text":"%python\n\noml.script.dir(sctype=\"all\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:04+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"     owner                 name                                             script description                date\n0  OMLUSER       MyLM_function2  def build_lm2(dat):\\n    from sklearn import l...        None 2021-01-06 16:24:43\n1  OMLUSER        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2021-01-05 19:46:51\n2   PYQSYS  MyGlobalLM_function  def build_lm3(dat):\\n  from sklearn import lin...        None 2021-01-06 16:24:55\n3   PYQSYS        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2020-12-24 10:44:44\n4   PYQSYS  compute_random_mean  def compute_random_mean(index):\\n    import nu...        None 2020-12-24 10:44:41\n5   PYQSYS          group_count  def group_count(dat):\\n  import oml\\n  import ...        None 2020-12-24 10:44:41\n6   PYQSYS           my_predict  def my_predict(dat):\\n    import pandas as pd\\...        None 2020-12-24 10:44:43\n7   PYQSYS              pred_lm  def pred_lm(dat):\\n    from sklearn import lin...        None 2020-12-24 10:44:43\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1896104087","id":"20200915-175631_1482029834","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:04+0000","dateFinished":"2021-01-06T16:25:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:112"},{"text":"%md\n## Drop scripts from repository\n\nDrop one of the private scripts.\n\nDrop the global script.\n\nList the available scripts again.\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:05+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Drop scripts from repository</h2>\n<p>Drop one of the private scripts.</p>\n<p>Drop the global script.</p>\n<p>List the available scripts again.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1721936264","id":"20200915-175631_1489906329","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:06+0000","dateFinished":"2021-01-06T16:25:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:113"},{"text":"%python\n\noml.script.drop(\"MyLM_function2\")\noml.script.drop(\"MyGlobalLM_function\", is_global=True)\noml.script.dir(sctype=\"all\")","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:06+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"     owner                 name                                             script description                date\n0  OMLUSER        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2021-01-05 19:46:51\n1   PYQSYS        RandomRedDots  def RandomRedDots (num_dots_1=100, num_dots_2=...        None 2020-12-24 10:44:44\n2   PYQSYS  compute_random_mean  def compute_random_mean(index):\\n    import nu...        None 2020-12-24 10:44:41\n3   PYQSYS          group_count  def group_count(dat):\\n  import oml\\n  import ...        None 2020-12-24 10:44:41\n4   PYQSYS           my_predict  def my_predict(dat):\\n    import pandas as pd\\...        None 2020-12-24 10:44:43\n5   PYQSYS              pred_lm  def pred_lm(dat):\\n    from sklearn import lin...        None 2020-12-24 10:44:43\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_-1694844203","id":"20200915-175631_2011665683","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:06+0000","dateFinished":"2021-01-06T16:25:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:114"},{"text":"%md\n\n# End of Script\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:07+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1600192591518_1485331210","id":"20200915-175631_998401481","dateCreated":"2020-02-19T23:52:25+0000","dateStarted":"2021-01-06T16:25:07+0000","dateFinished":"2021-01-06T16:25:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:115"},{"text":"%md\n","user":"OMLUSER","dateUpdated":"2021-01-06T16:25:07+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1600192591518_-1343552091","id":"20200915-175631_1291342872","dateCreated":"2020-05-15T00:10:14+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:116"}],"name":"OML4Py -3- Datastore and Script Repository","id":"467939","noteParams":{},"noteForms":{},"angularObjects":{"MDW381939C745:shared_process":[],"ORA3594E6BC19:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}