{
  "paragraphs": [
    {
      "text": "%md\r\n## OML4Py Feature Selection: Summary Statistics\r\n\r\nIn this notebook, we demonstrate how to perform feature selection using summary statistics via OML4Py.\r\n\r\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\r\n\r\nWe show how to use OML4Py to select features based on number of distinct values, null values, proportion of constant values. \r\n\r\nThe dataset `CUSTOMER_INSURANCE_LTV_PY` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\r\n\r\n---\r\n\r\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\r\n\r\n---\r\n\r\nCopyright (c) 2022 Oracle Corporation \r\n###### \u003ca href\u003d\"https://oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\r\n---\r\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:54+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eOML4Py Feature Selection: Summary Statistics\u003c/h2\u003e\n\u003cp\u003eIn this notebook, we demonstrate how to perform feature selection using summary statistics via OML4Py.\u003c/p\u003e\n\u003cp\u003eWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\u003c/p\u003e\n\u003cp\u003eWe show how to use OML4Py to select features based on number of distinct values, null values, proportion of constant values.\u003c/p\u003e\n\u003cp\u003eThe dataset \u003ccode\u003eCUSTOMER_INSURANCE_LTV_PY\u003c/code\u003e is generated by the \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook, which \u003ccode\u003eMUST\u003c/code\u003e be run before this notebook.\u003c/p\u003e\n\u003chr /\u003e\n\u003ch5\u003e\u003ccode\u003eIMPORTANT\u003c/code\u003e: The \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\u003c/h5\u003e\n\u003chr /\u003e\n\u003cp\u003eCopyright (c) 2022 Oracle Corporation\u003c/p\u003e\n\u003ch6\u003e\u003ca href\u003d\"https: //oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\u003c/h6\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_1186990137",
      "id": "20220124-201421_16922334",
      "dateCreated": "2020-12-15T19:09:37+0000",
      "dateStarted": "2022-03-10T17:13:54+0000",
      "dateFinished": "2022-03-10T17:13:56+0000",
      "status": "FINISHED"
    },
    {
      "title": "For more information ...",
      "text": "%md\n\nOML4Py documentation on Data Preparation: \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html \u003c/a\u003e",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cp\u003eOML4Py documentation on Data Preparation: \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html\u0027);\"\u003e https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/about-preparing-data.html \u003c/a\u003e\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-1832910653",
      "id": "20220124-201421_676246278",
      "dateCreated": "2020-12-17T18:47:23+0000",
      "dateStarted": "2022-03-10T17:13:56+0000",
      "dateFinished": "2022-03-10T17:13:56+0000",
      "status": "FINISHED"
    },
    {
      "title": "Import libraries and set display options",
      "text": "%python\n\nimport warnings\nwarnings.filterwarnings(\u0027ignore\u0027)\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option(\u0027display.max_rows\u0027, 500)\npd.set_option(\u0027display.max_columns\u0027, 500)\npd.set_option(\u0027display.width\u0027, 1000)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:57+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_631365945",
      "id": "20220124-201421_213679793",
      "dateCreated": "2020-11-17T00:37:19+0000",
      "dateStarted": "2022-03-10T17:13:57+0000",
      "dateFinished": "2022-03-10T17:14:07+0000",
      "status": "FINISHED"
    },
    {
      "title": "Get proxy object for CUSTOMER_INSURANCE_LTV_PY table",
      "text": "%python\n\nCUST_DF \u003d oml.sync(table \u003d \u0027CUSTOMER_INSURANCE_LTV_PY\u0027)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:07+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_1869608947",
      "id": "20220124-201421_179310683",
      "dateCreated": "2020-11-17T00:43:34+0000",
      "dateStarted": "2022-03-10T17:14:08+0000",
      "dateFinished": "2022-03-10T17:14:08+0000",
      "status": "FINISHED"
    },
    {
      "title": "Display a few rows from the table",
      "text": "%python\n\nz.show(CUST_DF.head())",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:08+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CREDIT_BALANCE": "string",
                      "CUSTOMER_TENURE": "string",
                      "MORTGAGE_AMOUNT": "string",
                      "BANK_FUNDS": "string",
                      "NUM_DEPENDENTS": "string",
                      "HAS_CHILDREN": "string",
                      "INCOME": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "CREDIT_CARD_LIMITS": "string",
                      "REGION": "string",
                      "HOME_OWNERSHIP": "string",
                      "NUM_ONLINE_TRANS": "string",
                      "BUY_INSURANCE": "string",
                      "MONTHLY_CHECKS": "string",
                      "NUM_TRANS_KIOSK": "string",
                      "AGE": "string",
                      "MONEY_MONTLY_OVERDRAWN": "string",
                      "LTV": "string",
                      "TOTAL_AUTOM_PAYMENTS": "string",
                      "NUM_TRANS_TELLER": "string",
                      "CHECKING_BALANCE": "string",
                      "NUM_TRANS_ATM": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "NUM_MORTGAGES": "string",
                      "CAR_OWNERSHIP": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nSINGLE\tCA                        \t0\t3\t400\t590\t3\t1\t61384\tCU8720                    \tM                         \tWaiter/Waitress\t1000\tWest\t1\t400\tYes\t2\t1\t23\t53.98\t18146.0\t208\t2\t25\t5\tMEDIUM\tKENNETH\t1\t1\tNADEAU\nDIVORCED\tWA                        \t0\t3\t2050\t650\t3\t1\t63525\tCU8721                    \tM                         \tSoftware Engineer\t1000\tWest\t1\t2050\tYes\t13\t3\t22\t54.35\t18581.25\t242\t2\t25\t5\tMEDIUM\tJARVIS\t1\t1\tCLARKE\nDIVORCED\tNY                        \t0\t4\t2500\t700\t1\t0\t71504\tCU8722                    \tF                         \tIT Staff\t1000\tNorthEast\t1\t2500\tNo\t1\t1\t42\t53.79\t32076.0\t393\t3\t118\t4\tVERY HIGH\tSTACEY\t1\t1\tHENSON\nMARRIED\tMI                        \t0\t1\t8320\t11050\t1\t1\t72308\tCU8665                    \tF                         \tDentist\t4000\tMidwest\t1\t1700\tYes\t14\t1\t33\t53.97\t24877.0\t650\t4\t25\t5\tHIGH\tMARGRET\t1\t1\tRYAN\nMARRIED\tMI                        \t0\t1\t1000\t0\t1\t1\t64710\tCU8666                    \tM                         \tIT Staff\t700\tMidwest\t1\t1000\tNo\t4\t1\t38\t53.17\t23477.5\t383\t0\t374\t2\tHIGH\tJOAN\t1\t1\tBAUER\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_430552929",
      "id": "20220124-201421_445932309",
      "dateCreated": "2020-11-17T00:43:43+0000",
      "dateStarted": "2022-03-10T17:14:08+0000",
      "dateFinished": "2022-03-10T17:14:09+0000",
      "status": "FINISHED"
    },
    {
      "title": "Identify categorical columns",
      "text": "%python\n\ncat_cols \u003d CUST_DF.select_types([oml.core.string.String]).columns\nprint(cat_cols)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:09+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027MARITAL_STATUS\u0027, \u0027STATE\u0027, \u0027CUSTOMER_ID\u0027, \u0027GENDER\u0027, \u0027PROFESSION\u0027, \u0027REGION\u0027, \u0027BUY_INSURANCE\u0027, \u0027LTV_BIN\u0027, \u0027FIRST_NAME\u0027, \u0027LAST_NAME\u0027]\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-1031987950",
      "id": "20220124-201421_1201612226",
      "dateCreated": "2020-11-17T04:20:24+0000",
      "dateStarted": "2022-03-10T17:14:09+0000",
      "dateFinished": "2022-03-10T17:14:09+0000",
      "status": "FINISHED"
    },
    {
      "title": "Identify numeric columns",
      "text": "%python\n\nnum_cols \u003d CUST_DF.select_types([oml.core.string.Float]).columns\nprint(num_cols)\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:09+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027CREDIT_BALANCE\u0027, \u0027CUSTOMER_TENURE\u0027, \u0027MORTGAGE_AMOUNT\u0027, \u0027BANK_FUNDS\u0027, \u0027NUM_DEPENDENTS\u0027, \u0027HAS_CHILDREN\u0027, \u0027INCOME\u0027, \u0027CREDIT_CARD_LIMITS\u0027, \u0027HOME_OWNERSHIP\u0027, \u0027NUM_ONLINE_TRANS\u0027, \u0027MONTHLY_CHECKS\u0027, \u0027NUM_TRANS_KIOSK\u0027, \u0027AGE\u0027, \u0027MONEY_MONTLY_OVERDRAWN\u0027, \u0027LTV\u0027, \u0027TOTAL_AUTOM_PAYMENTS\u0027, \u0027NUM_TRANS_TELLER\u0027, \u0027CHECKING_BALANCE\u0027, \u0027NUM_TRANS_ATM\u0027, \u0027NUM_MORTGAGES\u0027, \u0027CAR_OWNERSHIP\u0027]\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-226286602",
      "id": "20220124-201421_674861686",
      "dateCreated": "2020-11-17T00:50:00+0000",
      "dateStarted": "2022-03-10T17:14:10+0000",
      "dateFinished": "2022-03-10T17:14:10+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check the unique values in each column",
      "text": "%python\n\nunique_counts \u003d CUST_DF.nunique()\nunique_df \u003d pd.DataFrame(unique_counts)\nunique_df \u003d unique_df.reset_index()\nunique_df.columns \u003d [\u0027FEATURE\u0027, \u0027CNT\u0027]\nz.show(unique_df)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:10+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "FEATURE": "string",
                      "CNT": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "FEATURE\tCNT\nMARITAL_STATUS\t7\nSTATE\t24\nCREDIT_BALANCE\t963\nCUSTOMER_TENURE\t5\nMORTGAGE_AMOUNT\t1763\nBANK_FUNDS\t1178\nNUM_DEPENDENTS\t7\nHAS_CHILDREN\t2\nINCOME\t6374\nCUSTOMER_ID\t13880\nGENDER\t2\nPROFESSION\t100\nCREDIT_CARD_LIMITS\t33\nREGION\t5\nHOME_OWNERSHIP\t3\nNUM_ONLINE_TRANS\t1504\nBUY_INSURANCE\t2\nMONTHLY_CHECKS\t19\nNUM_TRANS_KIOSK\t11\nAGE\t69\nMONEY_MONTLY_OVERDRAWN\t870\nLTV\t12453\nTOTAL_AUTOM_PAYMENTS\t5071\nNUM_TRANS_TELLER\t10\nCHECKING_BALANCE\t2798\nNUM_TRANS_ATM\t9\nLTV_BIN\t4\nFIRST_NAME\t3740\nNUM_MORTGAGES\t3\nCAR_OWNERSHIP\t2\nLAST_NAME\t1348\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-888398707",
      "id": "20220124-201421_578911714",
      "dateCreated": "2020-11-17T00:43:51+0000",
      "dateStarted": "2022-03-10T17:14:11+0000",
      "dateFinished": "2022-03-10T17:14:11+0000",
      "status": "FINISHED"
    },
    {
      "title": "Filter categorical \u0027identifier\u0027 columns - filter out columns with \u003e 95% unique values",
      "text": "%python\n\nselected_cat_cols \u003d []\ntotal \u003d CUST_DF.shape[0]\nratio \u003d 0.95\nfor col in cat_cols:\n    cnt \u003d unique_df[unique_df[\u0027FEATURE\u0027] \u003d\u003d col][\u0027CNT\u0027].values[0]\n    if cnt \u003e 1 and cnt \u003c ratio*total:\n        selected_cat_cols.append(col)\nprint(selected_cat_cols)\nprint(len(selected_cat_cols))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:11+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027MARITAL_STATUS\u0027, \u0027STATE\u0027, \u0027CUSTOMER_ID\u0027, \u0027GENDER\u0027, \u0027PROFESSION\u0027, \u0027REGION\u0027, \u0027BUY_INSURANCE\u0027, \u0027LTV_BIN\u0027, \u0027FIRST_NAME\u0027, \u0027LAST_NAME\u0027]\n10\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_619808331",
      "id": "20220124-201421_456408684",
      "dateCreated": "2020-11-17T00:44:51+0000",
      "dateStarted": "2022-03-10T17:14:12+0000",
      "dateFinished": "2022-03-10T17:14:12+0000",
      "status": "FINISHED"
    },
    {
      "title": "To confirm selected column is not an \u0027identifier\u0027,  use crosstab function to display unique values",
      "text": "%python\n\ncol \u003d \u0027MARITAL_STATUS\u0027\nCUST_DF.crosstab([col])",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:12+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "  MARITAL_STATUS  count\n0         SINGLE   2530\n1           None   6627\n2            DIV    337\n3        MARRIED   2393\n4        WIDOWED    475\n5              M    359\n6       DIVORCED   2063\n7          OTHER     96\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-1790258120",
      "id": "20220124-201421_624671229",
      "dateCreated": "2020-11-19T14:13:12+0000",
      "dateStarted": "2022-03-10T17:14:12+0000",
      "dateFinished": "2022-03-10T17:14:13+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create an OML dataframe with selected features only",
      "text": "%python\n\nSELECTED_CAT_DF \u003d CUST_DF[selected_cat_cols]\nz.show(SELECTED_CAT_DF.head())",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:13+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "REGION": "string",
                      "BUY_INSURANCE": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCUSTOMER_ID\tGENDER\tPROFESSION\tREGION\tBUY_INSURANCE\tLTV_BIN\tFIRST_NAME\tLAST_NAME\nSINGLE\tCA                        \tCU8720                    \tM                         \tWaiter/Waitress\tWest\tYes\tMEDIUM\tKENNETH\tNADEAU\nDIVORCED\tWA                        \tCU8721                    \tM                         \tSoftware Engineer\tWest\tYes\tMEDIUM\tJARVIS\tCLARKE\nDIVORCED\tNY                        \tCU8722                    \tF                         \tIT Staff\tNorthEast\tNo\tVERY HIGH\tSTACEY\tHENSON\nMARRIED\tMI                        \tCU8665                    \tF                         \tDentist\tMidwest\tYes\tHIGH\tMARGRET\tRYAN\nMARRIED\tMI                        \tCU8666                    \tM                         \tIT Staff\tMidwest\tNo\tHIGH\tJOAN\tBAUER\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-2033983972",
      "id": "20220124-201421_1106584846",
      "dateCreated": "2021-01-21T01:42:23+0000",
      "dateStarted": "2022-03-10T17:14:13+0000",
      "dateFinished": "2022-03-10T17:14:14+0000",
      "status": "FINISHED"
    },
    {
      "title": "For all columns, identify columns with \u003e 40% missing values",
      "text": "%python\n\nmany_missing_cols \u003d []\nratio \u003d 0.4\ntotal \u003d CUST_DF.shape[0]\nthreshold \u003d total*ratio\nfor col in CUST_DF.columns:\n    grp \u003d CUST_DF.crosstab([col])\n    if grp[ grp[col].isnull()]:\n        if grp[ grp[col].isnull()].pull()[\u0027count\u0027][0] \u003e threshold:\n            many_missing_cols.append(col)\nprint(many_missing_cols)    \n\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:14+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "[\u0027MARITAL_STATUS\u0027, \u0027CREDIT_BALANCE\u0027, \u0027BANK_FUNDS\u0027, \u0027INCOME\u0027]\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-374449828",
      "id": "20220124-201421_1756511935",
      "dateCreated": "2020-11-17T01:18:39+0000",
      "dateStarted": "2022-03-10T17:14:14+0000",
      "dateFinished": "2022-03-10T17:14:30+0000",
      "status": "FINISHED"
    },
    {
      "title": "Filter \u0027constant\u0027 columns - those with \u003e 90% same values",
      "text": "%python\n\ntotal \u003d CUST_DF.shape[0]\n\nratio \u003d 0.90\n\nmajor_constant_cols \u003d []\nfor col in CUST_DF.columns:\n    GROUP \u003d CUST_DF.crosstab([col])\n    \n    if GROUP[GROUP[\u0027count\u0027] \u003e total*ratio]:\n        print(GROUP[GROUP[\u0027count\u0027] \u003e total*ratio])\n        major_constant_cols.append(col)\n\nprint(major_constant_cols)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:30+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "   CAR_OWNERSHIP  count\n0              1  13859\n[\u0027CAR_OWNERSHIP\u0027]\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_488462755",
      "id": "20220124-201421_1389345435",
      "dateCreated": "2020-11-17T01:50:44+0000",
      "dateStarted": "2022-03-10T17:14:31+0000",
      "dateFinished": "2022-03-10T17:14:47+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create an OML dataframe with \u0027constant\u0027 columns filtered out",
      "text": "%python\n\nselected_cols \u003d [ col for col in CUST_DF.columns if col not in major_constant_cols ]\nSELECTED_DF \u003d CUST_DF[selected_cat_cols]\nz.show(SELECTED_DF.head())",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:47+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "REGION": "string",
                      "BUY_INSURANCE": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCUSTOMER_ID\tGENDER\tPROFESSION\tREGION\tBUY_INSURANCE\tLTV_BIN\tFIRST_NAME\tLAST_NAME\nSINGLE\tCA                        \tCU8720                    \tM                         \tWaiter/Waitress\tWest\tYes\tMEDIUM\tKENNETH\tNADEAU\nDIVORCED\tWA                        \tCU8721                    \tM                         \tSoftware Engineer\tWest\tYes\tMEDIUM\tJARVIS\tCLARKE\nDIVORCED\tNY                        \tCU8722                    \tF                         \tIT Staff\tNorthEast\tNo\tVERY HIGH\tSTACEY\tHENSON\nMARRIED\tMI                        \tCU8665                    \tF                         \tDentist\tMidwest\tYes\tHIGH\tMARGRET\tRYAN\nMARRIED\tMI                        \tCU8666                    \tM                         \tIT Staff\tMidwest\tNo\tHIGH\tJOAN\tBAUER\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-1571731785",
      "id": "20220124-201421_709039470",
      "dateCreated": "2021-01-21T01:43:48+0000",
      "dateStarted": "2022-03-10T17:14:48+0000",
      "dateFinished": "2022-03-10T17:14:48+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:48+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch1\u003eEnd of Script\u003c/h1\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_-1712910469",
      "id": "20220124-201421_1123457149",
      "dateCreated": "2020-11-17T01:20:28+0000",
      "dateStarted": "2022-03-10T17:14:48+0000",
      "dateFinished": "2022-03-10T17:14:48+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:14:49+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261144_1447742546",
      "id": "20220124-201421_1002967386",
      "dateCreated": "2020-12-15T19:09:26+0000",
      "dateStarted": "2022-03-10T17:14:49+0000",
      "dateFinished": "2022-03-10T17:14:49+0000",
      "status": "FINISHED"
    }
  ],
  "name": "OML4Py Feature Selection Using Summary Statistics",
  "id": "101020",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "MDW381939C745:shared_process": [],
    "ORA7A60DC9B32:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  }
}