{"paragraphs":[{"text":"%md\n\n## OML4Py Data Cleaning: Duplicates Removal\nIn this notebook, we demonstrate how to remove duplicate records using OML4Py.\n\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance. \n\nThe dataset `CUSTOMER_INSURANCE_LTV_PY` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\n\n---\n\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.\n\n---\n\nCopyright (c) 2021 Oracle Corporation \n###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a>\n---\n\n","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:48+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>OML4Py Data Cleaning: Duplicates Removal</h2>\n<p>In this notebook, we demonstrate how to remove duplicate records using OML4Py.</p>\n<p>We use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.</p>\n<p>The dataset <code>CUSTOMER_INSURANCE_LTV_PY</code> is generated by the <code>\"OML Run-me-first\"</code> notebook, which <code>MUST</code> be run before this notebook.</p>\n<hr />\n<h5><code>IMPORTANT</code>: The <code>\"OML Run-me-first\"</code> notebook is available under the menu Templates -> Examples and is a pre-requisite to the current notebook.</h5>\n<hr />\n<p>Copyright (c) 2021 Oracle Corporation</p>\n<h6><a href=\"https: //oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_-124461145","id":"20210723-185006_94517919","dateCreated":"2020-12-15T19:51:52+0000","dateStarted":"2021-08-25T03:15:49+0000","dateFinished":"2021-08-25T03:15:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:40"},{"title":"For more information ...","text":"%md\n\nOML4Py clean data <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html');\">https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html</a>\n\n---\n","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:49+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>OML4Py clean data <a href=\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html\" onclick=\"return ! window.open('https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html');\">https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/clean-data.html</a></p>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_411167521","id":"20210723-185006_34583958","dateCreated":"2020-12-17T18:26:26+0000","dateStarted":"2021-08-25T03:15:49+0000","dateFinished":"2021-08-25T03:15:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:41"},{"title":"Import python libraries and set display options","text":"%python\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)\n","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:49+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"MARITAL_STATUS":"string","STATE":"string","CREDIT_BALANCE":"string","CUSTOMER_TENURE":"string","MORTGAGE_AMOUNT":"string","BANK_FUNDS":"string","NUM_DEPENDENTS":"string","HAS_CHILDREN":"string","INCOME":"string","CUSTOMER_ID":"string","GENDER":"string","PROFESSION":"string","CREDIT_CARD_LIMITS":"string","REGION":"string","HOME_OWNERSHIP":"string","NUM_ONLINE_TRANS":"string","BUY_INSURANCE":"string","MONTHLY_CHECKS":"string","NUM_TRANS_KIOSK":"string","AGE":"string","MONEY_MONTLY_OVERDRAWN":"string","LTV":"string","TOTAL_AUTOM_PAYMENTS":"string","NUM_TRANS_TELLER":"string","CHECKING_BALANCE":"string","NUM_TRANS_ATM":"string","LTV_BIN":"string","FIRST_NAME":"string","NUM_MORTGAGES":"string","CAR_OWNERSHIP":"string","LAST_NAME":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066206107_-512588886","id":"20210723-185006_1381295252","dateCreated":"2020-11-13T03:32:30+0000","dateStarted":"2021-08-25T03:15:50+0000","dateFinished":"2021-08-25T03:15:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:42"},{"title":"Get proxy object for CUSTOMER_INSURANCE_LTV_PY table","text":"%python\n\nCUST_DF = oml.sync(table = 'CUSTOMER_INSURANCE_LTV_PY')","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:55+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066206107_884887937","id":"20210723-185006_1606410568","dateCreated":"2020-11-16T15:44:16+0000","dateStarted":"2021-08-25T03:15:56+0000","dateFinished":"2021-08-25T03:15:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:43"},{"title":"Count number of unique customer IDs","text":"%python\n\nCUST_DF['CUSTOMER_ID'].nunique()","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:56+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"13880\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_1227016701","id":"20210723-185006_1272794850","dateCreated":"2020-11-16T15:45:12+0000","dateStarted":"2021-08-25T03:15:56+0000","dateFinished":"2021-08-25T03:15:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:44"},{"title":"Show table dimensions - note there are more rows than customer IDs","text":"%python\n\nCUST_DF.shape","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:57+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(14880, 31)\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_-849221299","id":"20210723-185006_880931082","dateCreated":"2020-11-16T15:45:52+0000","dateStarted":"2021-08-25T03:15:57+0000","dateFinished":"2021-08-25T03:15:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:45"},{"title":"Remove duplicate rows","text":"%python\n\nCUST_DF = CUST_DF.drop_duplicates()","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:57+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1627066206107_911233027","id":"20210723-185006_1090831178","dateCreated":"2020-11-13T04:12:22+0000","dateStarted":"2021-08-25T03:15:58+0000","dateFinished":"2021-08-25T03:15:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:46"},{"title":"Check number of unique customer IDs","text":"%python\n\nCUST_DF['CUSTOMER_ID'].nunique()","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:58+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"13880\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_1993747782","id":"20210723-185006_1636945795","dateCreated":"2020-11-13T03:34:49+0000","dateStarted":"2021-08-25T03:15:58+0000","dateFinished":"2021-08-25T03:15:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:47"},{"title":"Check dimension of the OML dataframe - duplicated rows removed","text":"%python\n\nCUST_DF.shape","user":"OMLUSER","dateUpdated":"2021-08-25T03:15:59+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/undefined","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(13880, 31)\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_1085722710","id":"20210723-185006_1075455757","dateCreated":"2020-11-16T15:48:56+0000","dateStarted":"2021-08-25T03:15:59+0000","dateFinished":"2021-08-25T03:16:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:48"},{"text":"%md\n\n# End of Script\n","user":"OMLUSER","dateUpdated":"2021-08-25T03:16:00+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1627066206107_-2131122486","id":"20210723-185006_2066257829","dateCreated":"2020-11-16T15:49:04+0000","dateStarted":"2021-08-25T03:16:00+0000","dateFinished":"2021-08-25T03:16:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:49"},{"text":"%md\n","user":"OMLUSER","dateUpdated":"2021-07-26T19:09:47+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1627066206107_884470505","id":"20210723-185006_483460377","dateCreated":"2020-12-16T15:46:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:50"}],"name":"OML4Py Data Cleaning Duplicates Removal","id":"68801","noteParams":{},"noteForms":{},"angularObjects":{"MDW381939C745:shared_process":[],"ORA7A60DC9B32:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}