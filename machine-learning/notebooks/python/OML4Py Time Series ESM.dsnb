[{"layout":null,"template":null,"templateConfig":null,"name":"OML4Py Time Series ESM","description":null,"readOnly":false,"type":"low","paragraphs":[{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":null,"title":null,"message":[],"enabled":true,"result":{"startTime":1713822668941,"interpreter":"md.low","endTime":1713822669004,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":0,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","# Forecasting Sales Using Exponential Smoothing Algorithm for Time Series Data","","Oracle Machine Learning supports time series forecasting via the Exponential Smoothing algorithm within Oracle Autonomous Database.  This sales forecasting example is based on the SH.SALES example data. All computations occur inside Oracle Autonomous Database.","","","Copyright (c) 2024 Oracle Corporation ","###### <a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a>","---"],"enabled":true,"result":{"startTime":1713822669084,"interpreter":"md.low","endTime":1713822669156,"results":[{"message":"<h1 id=\"forecasting-sales-using-exponential-smoothing-algorithm-for-time-series-data\">Forecasting Sales Using Exponential Smoothing Algorithm for Time Series Data<\/h1>\n<p>Oracle Machine Learning supports time series forecasting via the Exponential Smoothing algorithm within Oracle Autonomous Database.  This sales forecasting example is based on the SH.SALES example data. All computations occur inside Oracle Autonomous Database.<\/p>\n<p>Copyright (c) 2024 Oracle Corporation<\/p>\n<h6 id=\"the-universal-permissive-license-upl-version-10\"><a href=\"https://oss.oracle.com/licenses/upl/\" onclick=\"return ! window.open('https://oss.oracle.com/licenses/upl/');\">The Universal Permissive License (UPL), Version 1.0<\/a><\/h6>\n<hr />\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":10,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","<dl>","<img src=\"http://www.oracle.com/technetwork/database/options/advanced-analytics/timeseries-5663161.jpg\" alt=\"OML Notebooks\" width=\"300\"/>","<\/dl>"],"enabled":true,"result":{"startTime":1713822669231,"interpreter":"md.low","endTime":1713822669290,"results":[{"message":"<dl>\n<img src=\"http://www.oracle.com/technetwork/database/options/advanced-analytics/timeseries-5663161.jpg\" alt=\"OML Notebooks\" width=\"300\"/>\n<\/dl>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":2,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"For more information...","message":["%md ","","* <a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADW Documentation<\/a>","* <a href=\"https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a>","* <a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a>","* <a href=\"https://www.oracle.com/goto/ml-time-series\" target=\"_blank\">OML Time Series<\/a>"],"enabled":true,"result":{"startTime":1713822669366,"interpreter":"md.low","endTime":1713822669553,"results":[{"message":"<ul>\n<li><a href=\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" target=\"_blank\">Oracle ADW Documentation<\/a><\/li>\n<li><a href=\"https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\" target=\"_blank\">OML folder on Oracle GitHub<\/a><\/li>\n<li><a href=\"https://www.oracle.com/machine-learning\" target=\"_blank\">OML Web Page<\/a><\/li>\n<li><a href=\"https://www.oracle.com/goto/ml-time-series\" target=\"_blank\">OML Time Series<\/a><\/li>\n<\/ul>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Create a view for model building","message":["%python","","import pandas as pd","import oml","","pd.set_option('display.max_rows', 500)","pd.set_option('display.max_columns', 500)","pd.set_option('display.width', 1000)","","ESM_SH_DATA = oml.sync(query=\"SELECT CAST(TIME_ID AS TIMESTAMP) as A, AMOUNT_SOLD as B FROM SH.SALES\")","  ","  "],"enabled":true,"result":{"startTime":1713822669629,"interpreter":"python.low","endTime":1713822669708,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":4,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"raw","title":"Count the records from the view","message":["%python","","len(ESM_SH_DATA)"],"enabled":true,"result":{"startTime":1713822669782,"interpreter":"python.low","endTime":1713822669932,"results":[{"message":"918843\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":4,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Review the data","message":["%python","","z.show(ESM_SH_DATA.head())"],"enabled":true,"result":{"startTime":1713822670141,"interpreter":"python.low","endTime":1713822670216,"results":[{"message":"A\tB\n1998-01-20 00:00:00\t1205.99\n1998-04-05 00:00:00\t1250.25\n1998-04-05 00:00:00\t1250.25\n1998-04-05 00:00:00\t1250.25\n1998-04-05 00:00:00\t1250.25\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":4,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Options to use when creating Time Series models","message":["%md","","### Examples of possible setting overrides for ESM ","","If the user does not override the default settings, then relevant settings are determined by the algorithm","","A complete list of settings can be found in the Documentation link:","","* Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/2/mlpug/exponential-smoothing-method.html\" target=\"_blank\">OML Time Series<\/a>","","* Specify the interval of the data set or a unit of interval size, like day, week, month, etc. This setting applies only to the time column with datetime type.  For example, if you want to predict for quarterly sales, the setting is `EXSM_INTERVAL_QTR`.","> 'EXSM_INTERVAL' : 'EXSM_INTERVAL_QTR';","* Specify how many predictions to make. For example, if you want to display each value representing a quarter, then a value of 4 gives four values (Quarters) prediction into the future","> 'EXSM_PREDICTION_STEP' : '4';","* Specify the type of exponential smoothing model to be used. As an example, EXSM_WINTERS represents the Holt-Winters triple exponential smoothing model with additive trend and multiplicative seasonality. This type of model considers various combinations of additive and multiplicative trend, seasonality and error, with and without trend damping. Other options are 'EXSM_SIMPLE', 'EXSM_SIMPLE_MULT_ERR', 'EXSM_HOLT', 'EXSM_HOLT_DAMPED', 'EXSM_MULT_TREND', 'EXSM_MULT_TREND_DAMPED', 'EXSM_SEASON_ADD', 'EXSM_SEASON_MUL', 'EXSM_WINTERS', 'EXSM_WINTERS_DAMPED', 'EXSM_ADDWINTERS', 'EXSM_ADDWINTERS_DAMPED','EXSM_WINTERS_MUL_TREND', 'EXSM_WINTERS_MUL_TREND_DMP'.","> 'EXSM_MODEL' : 'EXSM_WINTERS';","* Specify how long a season lasts. The parameter specifies a positive integer value as the length of seasonal cycle. The value it takes must be larger than 1. For example, 4 means that every group of four values forms a seasonal cycle, which makes sense if you are using 4 quarters to represent a year.","> 'EXSM_SEASONALITY' : '4'","* Specify how to handle missing values. In time series, the special value EXSM_MISS_AUTO indicates that, if the series contains missing values it is to be treated as an irregular time series.     ","> 'EXSM_SETMISSING' : 'EXSM_MISS_AUTO';"],"enabled":true,"result":{"startTime":1715292613935,"interpreter":"md.low","endTime":1715292614014,"results":[{"message":"<h3 id=\"examples-of-possible-setting-overrides-for-esm\">Examples of possible setting overrides for ESM<\/h3>\n<p>If the user does not override the default settings, then relevant settings are determined by the algorithm<\/p>\n<p>A complete list of settings can be found in the Documentation link:<\/p>\n<ul>\n<li>\n<p>Algorithm Settings: <a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/2/mlpug/exponential-smoothing-method.html\" target=\"_blank\">OML Time Series<\/a><\/p>\n<\/li>\n<li>\n<p>Specify the interval of the data set or a unit of interval size, like day, week, month, etc. This setting applies only to the time column with datetime type.  For example, if you want to predict for quarterly sales, the setting is <code>EXSM_INTERVAL_QTR<\/code>.<\/p>\n<\/li>\n<\/ul>\n<blockquote>\n<p>'EXSM_INTERVAL' : 'EXSM_INTERVAL_QTR';<\/p>\n<\/blockquote>\n<ul>\n<li>Specify how many predictions to make. For example, if you want to display each value representing a quarter, then a value of 4 gives four values (Quarters) prediction into the future<\/li>\n<\/ul>\n<blockquote>\n<p>'EXSM_PREDICTION_STEP' : '4';<\/p>\n<\/blockquote>\n<ul>\n<li>Specify the type of exponential smoothing model to be used. As an example, EXSM_WINTERS represents the Holt-Winters triple exponential smoothing model with additive trend and multiplicative seasonality. This type of model considers various combinations of additive and multiplicative trend, seasonality and error, with and without trend damping. Other options are 'EXSM_SIMPLE', 'EXSM_SIMPLE_MULT_ERR', 'EXSM_HOLT', 'EXSM_HOLT_DAMPED', 'EXSM_MULT_TREND', 'EXSM_MULT_TREND_DAMPED', 'EXSM_SEASON_ADD', 'EXSM_SEASON_MUL', 'EXSM_WINTERS', 'EXSM_WINTERS_DAMPED', 'EXSM_ADDWINTERS', 'EXSM_ADDWINTERS_DAMPED','EXSM_WINTERS_MUL_TREND', 'EXSM_WINTERS_MUL_TREND_DMP'.<\/li>\n<\/ul>\n<blockquote>\n<p>'EXSM_MODEL' : 'EXSM_WINTERS';<\/p>\n<\/blockquote>\n<ul>\n<li>Specify how long a season lasts. The parameter specifies a positive integer value as the length of seasonal cycle. The value it takes must be larger than 1. For example, 4 means that every group of four values forms a seasonal cycle, which makes sense if you are using 4 quarters to represent a year.<\/li>\n<\/ul>\n<blockquote>\n<p>'EXSM_SEASONALITY' : '4'<\/p>\n<\/blockquote>\n<ul>\n<li>Specify how to handle missing values. In time series, the special value EXSM_MISS_AUTO indicates that, if the series contains missing values it is to be treated as an irregular time series.<\/li>\n<\/ul>\n<blockquote>\n<p>'EXSM_SETMISSING' : 'EXSM_MISS_AUTO';<\/p>\n<\/blockquote>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":null,"message":["%python","","help(oml.esm)"],"enabled":true,"result":{"startTime":1713822670456,"interpreter":"python.low","endTime":1713822670744,"results":[{"message":"Help on class esm in module oml.algo.esm:\n\nclass esm(oml.algo.model.odmModel)\n |  esm(model_name=None, model_owner=None, **params)\n |\n |  In-database `Exponential Smoothing <https://www.oracle.com/machine-learning/exponential-smoothing>`_ Model\n |\n |  Exponential Smoothing methods have been widely used in forecasting for over half\n |  a century. It has applications at the strategic, tactical, and operation level.\n |  For example, at a strategic level, forecasting is used for projecting return on\n |  investment, growth and the effect of innovations. At a tactical level, forecasting\n |  is used for projecting costs, inventory requirements, and customer satisfaction.\n |  At an operational level, forecasting is used for setting targets and predicting\n |  quality and conformance with standards.\n |\n |  In its simplest form, Exponential Smoothing is a moving average method with a\n |  single parameter which models an exponentially decreasing effect of past levels\n |  on future values. With a variety of extensions, Exponential Smoothing covers a\n |  broader class of models than competitors, such as the Box-Jenkins auto-regressive\n |  integrated moving average (ARIMA) approach. Oracle Data Mining implements\n |  Exponential Smoothing using a state of the art state space method that\n |  incorporates a single source of error (SSOE) assumption which provides theoretical\n |  and performance advantages.\n |\n |  :Attributes:\n |\n |      **prediction** : oml.DataFrame\n |\n |        The prediction information.\n |        It includes the following components:\n |\n |        - time_seq: The time sequence used as case id\n |        - value: The real value in the training data\n |        - prediction: The predicted value by the model\n |        - lower: The lower bound of the predicted value\n |        - upper: The upper bound of the predicted value\n |\n |  Method resolution order:\n |      esm\n |      oml.algo.model.odmModel\n |      builtins.object\n |\n |  Methods defined here:\n |\n |  __init__(self, model_name=None, model_owner=None, **params)\n |      Initializes an instance of esm object.\n |\n |      Parameters\n |      ----------\n |      model_name : string or None (default)\n |          The name of an existing database Decision Tree model to create an oml.esm object from.\n |          The specified database model is not dropped when the oml.esm object is deleted.\n |      model_owner: string or None (default)\n |          The owner name of the existing Decision Tree model\n |          The current database user by default\n |      params : key-value pairs or dict\n |          Oracle Machine Learning parameter settings. Each dict element's name and\n |          value refer to the parameter setting name and value, respectively.\n |          The setting value must be numeric or string. Refer to `Oracle Data Mining\n |          Model Settings <https://docs.oracle.com/en/database/oracle/machine-learning/oml4sql/21/dmprg/specify-model-settings.html#GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38>`_\n |          for applicable parameters and valid values. Global and Automatic Data\n |          Preparation Settings in Table 4-10 apply generally to the model.\n |          Mining Function Settings for Classification and `Algorithm-specific\n |          Settings <https://docs.oracle.com/en/database/oracle/oracle-database/21/arpls/DBMS_DATA_MINING.html#GUID-03435110-D723-42FD-B4EA-39C86A039566>`_\n |          are applicable to Decision Tree model.\n |\n |  __repr__(self)\n |\n |  fit(self, x, y, time_seq, model_name=None)\n |      Fits a exponential smoothing model according to the training data and parameter settings.\n |\n |      Parameters\n |      ----------\n |      x : an OML object\n |          Attribute values for building the model.\n |      y : a single column OML object, or string\n |          Target values.\n |          If y is a single column OML object, target values specified by y must be combinable with x.\n |          If y is a string, y is the name of the column in x that specifies the target values.\n |      time_seq: string\n |         The name of the column in x used as time sequence to build the model.\n |         The column must be oml.Integer, oml.Float (Number based), or oml.Datetime\n |      model_name : string or None (default)\n |          User-specified model name.\n |          The user-specified database model is not dropped when oml.esm object is deleted.\n |          If None, a system-generated model name will be used.\n |          The system-generated model is dropped when oml.esm object is deleted\n |          unless oml.esm object is saved into a datastore.\n |\n |  ----------------------------------------------------------------------\n |  Methods inherited from oml.algo.model.odmModel:\n |\n |  export_sermodel(self, table=None, partition=None)\n |      Export model.\n |\n |      Parameters\n |      ----------\n |      table : string or None (default)\n |          A name for the new table where the serialized model is saved.\n |          If None, the serialized model will be saved to a temporary table.\n |      partition : string or None (default)\n |          Name of the partition that needs to be exported.\n |          If partition is None, all partitions are exported\n |\n |      Returns\n |      -------\n |      oml_bytes : an oml.Bytes object\n |        Contains the BLOB content from the model export\n |\n |  get_params(self, params=None, deep=False)\n |      Fetches parameters of the model.\n |\n |      Parameters\n |      ----------\n |      params : iterable of strings, None (default)\n |          Names of parameters to fetch. If ``params`` is None,\n |          fetches all settings.\n |      deep : boolean, False (default)\n |          Includes the computed and default parameters or not.\n |\n |      Returns\n |      -------\n |      settings : dict mapping str to str\n |\n |  set_params(self, **params)\n |      Changes parameters of the model.\n |\n |      Parameters\n |      ----------\n |      params : dict object mapping str to str\n |          The key should be the name of the setting, and the value should be\n |          the new setting.\n |\n |      Returns\n |      -------\n |      model : the model itself.\n |\n |  ----------------------------------------------------------------------\n |  Readonly properties inherited from oml.algo.model.odmModel:\n |\n |  model_owner\n |      The owner name of database mining model\n |\n |  ----------------------------------------------------------------------\n |  Data descriptors inherited from oml.algo.model.odmModel:\n |\n |  __dict__\n |      dictionary for instance variables (if defined)\n |\n |  __weakref__\n |      list of weak references to the object (if defined)\n |\n |  model_name\n |      The given name of database mining model\n |\n |  pivot_limit\n |      The maximum number of classes, clusters, or features for which the predicted probabilities are presented after pivoted\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":"Create a Holt-Winters Model using quarterly setting","message":["%python","","try:","    oml.drop(model = 'ESM_SALES_FORECAST_1') ","except:","    print(\"No such model\")","    ","","","settings = {'EXSM_INTERVAL'       : 'EXSM_INTERVAL_QTR', # accumulation int'l = quarter","            'EXSM_PREDICTION_STEP': 4,                   # prediction step = 4 quarters","            'EXSM_MODEL'          : 'EXSM_WINTERS',      # ESM model = Holt-Winters","            'EXSM_SEASONALITY'    : '4'}                 # seasonal cycle = 4 quarters ","","train_x=ESM_SH_DATA[:,0]","train_y=ESM_SH_DATA[:,1]","","ESM_MOD = oml.esm(**settings).fit(train_x, train_y, time_seq = 'A',model_name='ESM_SALES_FORECAST_1',)"],"enabled":true,"result":{"startTime":1713822670824,"interpreter":"python.low","endTime":1713822674523,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":7,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{\"height\":300,\"lastColumns\":[],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"raw","title":"Review the forecast model settings","message":["%python","","z.show(ESM_MOD)"],"enabled":true,"result":{"startTime":1713822674620,"interpreter":"python.low","endTime":1713822674742,"results":[{"message":"\nModel Name: ESM_SALES_FORECAST_1\n\nModel Owner: OMLUSER\n\nAlgorithm Name: Exponential Smoothing\n\nMining Function: TIME_SERIES\n\nTarget: B\n\nSettings: \n                    setting name               setting value\n0                      ALGO_NAME  ALGO_EXPONENTIAL_SMOOTHING\n1                EXSM_ACCUMULATE             EXSM_ACCU_TOTAL\n2          EXSM_CONFIDENCE_LEVEL                         .95\n3                  EXSM_INTERVAL           EXSM_INTERVAL_QTR\n4                     EXSM_MODEL                EXSM_WINTERS\n5                      EXSM_NMSE                           3\n6         EXSM_OPTIMIZATION_CRIT           EXSM_OPT_CRIT_LIK\n7           EXSM_PREDICTION_STEP                           4\n8               EXSM_SEASONALITY                           4\n9                EXSM_SETMISSING              EXSM_MISS_AUTO\n10                  ODMS_DETAILS                 ODMS_ENABLE\n11  ODMS_MISSING_VALUE_TREATMENT     ODMS_MISSING_VALUE_AUTO\n12                 ODMS_SAMPLING       ODMS_SAMPLING_DISABLE\n13                     PREP_AUTO                          ON\n\nGlobal Statistics: \n       attribute name attribute value\n0   -2 LOG-LIKELIHOOD         -227.41\n1                 AIC          472.82\n2                AICC          502.82\n3               ALPHA        0.746948\n4                AMSE     2.54708e+11\n5                BETA       0.0559241\n6                 BIC         479.773\n7           CONVERGED             YES\n8               GAMMA     0.000100143\n9       INITIAL LEVEL     6.11021e+06\n10   INITIAL SEASON 1        0.997969\n11   INITIAL SEASON 2         1.02306\n12   INITIAL SEASON 3        0.938255\n13   INITIAL SEASON 4         1.04071\n14      INITIAL TREND         42050.1\n15                MAE          273859\n16                MSE     1.30577e+11\n17           NUM_ROWS          918843\n18              SIGMA       0.0871202\n19                STD       0.0871202\n\nAttributes: \n\nPartition: NO\n\nPrediction: \n\n     TIME_SEQ         VALUE    PREDICTION         LOWER         UPPER\n0  1998-01-01  6.480684e+06  6.402751e+06           NaN           NaN\n1  1998-04-01  5.593994e+06  5.868258e+06           NaN           NaN\n2  1998-07-01  6.071823e+06  6.205873e+06           NaN           NaN\n3  1998-10-01  5.937414e+06  5.978511e+06           NaN           NaN\n4  1999-01-01  6.093747e+06  6.223665e+06           NaN           NaN\n5  1999-04-01  4.925472e+06  5.535877e+06           NaN           NaN\n6  1999-07-01  5.827050e+06  5.515472e+06           NaN           NaN\n7  1999-10-01  5.373679e+06  5.601171e+06           NaN           NaN\n8  2000-01-01  5.984889e+06  5.644292e+06           NaN           NaN\n9  2000-04-01  5.371731e+06  5.317402e+06           NaN           NaN\n10 2000-07-01  6.121239e+06  5.845169e+06           NaN           NaN\n11 2000-10-01  6.287647e+06  5.920688e+06           NaN           NaN\n12 2001-01-01  6.547097e+06  6.500126e+06           NaN           NaN\n13 2001-04-01  6.922468e+06  5.930069e+06           NaN           NaN\n14 2001-07-01  7.195999e+06  7.376867e+06           NaN           NaN\n15 2001-10-01  7.470898e+06  7.154088e+06           NaN           NaN\n16 2002-01-01           NaN  7.819637e+06  6.484414e+06  9.154860e+06\n17 2002-04-01           NaN  7.151013e+06  5.591487e+06  8.710540e+06\n18 2002-07-01           NaN  7.907806e+06  5.843738e+06  9.971875e+06\n19 2002-10-01           NaN  7.821557e+06  5.462865e+06  1.018025e+07\n\n\n","type":"TEXT"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":5,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Review global diagnostics and model quality","message":["%python","","z.show(ESM_MOD.global_stats)"],"enabled":true,"result":{"startTime":1713822674823,"interpreter":"python.low","endTime":1713822674900,"results":[{"message":"attribute name\tattribute value\n-2 LOG-LIKELIHOOD\t-227.40992629779686\nAIC\t472.8198525955937\nAICC\t502.8198525955937\nALPHA\t0.7469478132599485\nAMSE\t254707632303.23087\nBETA\t0.05592410989553674\nBIC\t479.77315109575176CONVERGED\tYES\nGAMMA\t0.00010014301976231642\nINITIAL LEVEL\t6110213.924209908\nINITIAL SEASON 1\t0.9979691764644829\nINITIAL SEASON 2\t1.0230610589110443\nINITIAL SEASON 3\t0.9382551830027352\nINITIAL SEASON 4\t1.0407145816217378\nINITIAL TREND\t42050.122611142295\nMAE\t273858.8587428648\nMSE\t130577271283.0982\nNUM_ROWS\t918843.0\nSIGMA\t0.08712023294121807\nSTD\t0.08712023294121807\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":5,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"Forecast AMOUNT_SOLD","message":["%python","","# Sort results by descending time sequence so latest points are shown first.","# The model predicts 4 values into the future with LOWER and UPPER condifence bounds.","","z.show(ESM_MOD.prediction.sort_values(by='TIME_SEQ', ascending=False))"],"enabled":true,"result":{"startTime":1713822675156,"interpreter":"python.low","endTime":1713822675309,"results":[{"message":"TIME_SEQ\tVALUE\tPREDICTION\tLOWER\tUPPER\n2002-10-01 00:00:00\tnan\t7821557.483706625\t5462864.876826696\t10180250.090586554\n2002-07-01 00:00:00\tnan\t7907806.499472267\t5843737.671510185\t9971875.32743435\n2002-04-01 00:00:00\tnan\t7151013.397858991\t5591487.0977140665\t8710539.698003916\n2002-01-01 00:00:00\tnan\t7819637.041272708\t6484414.345133956\t9154859.737411462\n2001-10-01 00:00:00\t7470897.51999978\t7154087.5630659675\tnan\tnan\n2001-07-01 00:00:00\t7195998.630000379\t7376866.59594857\tnan\tnan\n2001-04-01 00:00:00\t6922468.390000418\t5930069.144508536\tnan\tnan\n2001-01-01 00:00:00\t6547097.440000162\t6500126.226147046\tnan\tnan\n2000-10-01 00:00:00\t6287646.919999797\t5920687.514077313\tnan\tnan\n2000-07-01 00:00:00\t6121239.28999967\t5845169.126780912\tnan\tnan\n2000-04-01 00:00:00\t5371730.920000249\t5317402.430729034\tnan\tnan\n2000-01-01 00:00:00\t5984889.489999551\t5644291.534295818\tnan\tnan\n1999-10-01 00:00:00\t5373678.6700003\t5601170.870396041\tnan\tnan\n1999-07-01 00:00:00\t5827050.150000022\t5515472.1028802795\tnan\tnan\n1999-04-01 00:00:00\t4925471.629999909\t5535877.141277681\tnan\tnan\n1999-01-01 00:00:00\t6093747.209999715\t6223664.947154543\tnan\tnan\n1998-10-01 00:00:00\t5937413.710001296\t5978510.779636239\tnan\tnan\n1998-07-01 00:00:00\t6071823.100001069\t6205873.360362768\tnan\tnan\n1998-04-01 00:00:00\t5593994.140000758\t5868257.561111362\tnan\tnan\n1998-01-01 00:00:00\t6480684.000001145\t6402750.903513829\tnan\tnan\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":7,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"table","title":"View forecast values with confidence intervals using SQL query using model detail view","message":["%sql","","SELECT TO_CHAR(CASE_ID,'YYYY-MON') DATE_ID, VALUE ACTUAL_SOLD, ","       round(PREDICTION,2) FORECAST_SOLD, ","       round(LOWER,2) LOWER_BOUND, round(UPPER,2) UPPER_BOUND","FROM   DM$VPESM_SALES_FORECAST_1","ORDER BY CASE_ID DESC;"],"enabled":true,"result":{"startTime":1713822675404,"interpreter":"sql.low","endTime":1713822675678,"results":[{"message":"DATE_ID\tACTUAL_SOLD\tFORECAST_SOLD\tLOWER_BOUND\tUPPER_BOUND\n2002-OCT\t\t7821557.48\t5462864.88\t10180250.09\n2002-JUL\t\t7907806.5\t5843737.67\t9971875.33\n2002-APR\t\t7151013.4\t5591487.1\t8710539.7\n2002-JAN\t\t7819637.04\t6484414.35\t9154859.74\n2001-OCT\t7470897.5199997798\t7154087.56\t\t\n2001-JUL\t7195998.6300003789\t7376866.6\t\t\n2001-APR\t6922468.3900004178\t5930069.14\t\t\n2001-JAN\t6547097.4400001625\t6500126.23\t\t\n2000-OCT\t6287646.9199997969\t5920687.51\t\t\n2000-JUL\t6121239.2899996703\t5845169.13\t\t\n2000-APR\t5371730.9200002486\t5317402.43\t\t\n2000-JAN\t5984889.4899995513\t5644291.53\t\t\n1999-OCT\t5373678.6700002998\t5601170.87\t\t\n1999-JUL\t5827050.1500000218\t5515472.1\t\t\n1999-APR\t4925471.6299999086\t5535877.14\t\t\n1999-JAN\t6093747.209999715\t6223664.95\t\t\n1998-OCT\t5937413.7100012964\t5978510.78\t\t\n1998-JUL\t6071823.1000010688\t6205873.36\t\t\n1998-APR\t5593994.1400007578\t5868257.56\t\t\n1998-JAN\t6480684.0000011446\t6402750.9\t\t\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":"[{\"raw\":{},\"table\":{\"version\":1},\"line\":{\"showSeries\":[\"VALUE\",\"PREDICTION\"],\"aggregationOption\":\"Last\",\"series\":{\"availableSeriesElements\":[{\"id\":\"VALUE\",\"lineType\":\"straight\",\"borderColor\":\"rgb(25, 95, 116)\",\"borderWidth\":0,\"color\":\"rgb(25, 95, 116)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(25, 95, 116)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0},{\"id\":\"PREDICTION\",\"lineType\":\"straight\",\"borderColor\":\"rgb(50, 146, 94)\",\"borderWidth\":0,\"color\":\"rgb(50, 146, 94)\",\"pattern\":\"auto\",\"markerColor\":\"rgb(50, 146, 94)\",\"markerDisplayed\":\"auto\",\"markerShape\":\"auto\",\"markerSize\":0}]},\"lastColumns\":[\"TIME_SEQ\",\"VALUE\",\"PREDICTION\",\"LOWER\",\"UPPER\"],\"version\":1}}]","hideInIFrame":false,"selectedVisualization":"line","title":"Chart forecasted AMOUNT_SOLD values with confidence intervals","message":["%python","","z.show(ESM_MOD.prediction.sort_values(by='TIME_SEQ'))"],"enabled":true,"result":{"startTime":1713822675754,"interpreter":"python.low","endTime":1713822675906,"results":[{"message":"TIME_SEQ\tVALUE\tPREDICTION\tLOWER\tUPPER\n1998-01-01 00:00:00\t6480684.000001145\t6402750.903513829\tnan\tnan\n1998-04-01 00:00:00\t5593994.140000758\t5868257.561111362\tnan\tnan\n1998-07-01 00:00:00\t6071823.100001069\t6205873.360362768\tnan\tnan\n1998-10-01 00:00:00\t5937413.710001296\t5978510.779636239\tnan\tnan\n1999-01-01 00:00:00\t6093747.209999715\t6223664.947154543\tnan\tnan\n1999-04-01 00:00:00\t4925471.629999909\t5535877.141277681\tnan\tnan\n1999-07-01 00:00:00\t5827050.150000022\t5515472.1028802795\tnan\tnan\n1999-10-01 00:00:00\t5373678.6700003\t5601170.870396041\tnan\tnan\n2000-01-01 00:00:00\t5984889.489999551\t5644291.534295818\tnan\tnan\n2000-04-01 00:00:00\t5371730.920000249\t5317402.430729034\tnan\tnan\n2000-07-01 00:00:00\t6121239.28999967\t5845169.126780912\tnan\tnan\n2000-10-01 00:00:00\t6287646.919999797\t5920687.514077313\tnan\tnan\n2001-01-01 00:00:00\t6547097.440000162\t6500126.226147046\tnan\tnan\n2001-04-01 00:00:00\t6922468.390000418\t5930069.144508536\tnan\tnan\n2001-07-01 00:00:00\t7195998.630000379\t7376866.59594857\tnan\tnan\n2001-10-01 00:00:00\t7470897.51999978\t7154087.5630659675\tnan\tnan\n2002-01-01 00:00:00\tnan\t7819637.041272708\t6484414.345133956\t9154859.737411462\n2002-04-01 00:00:00\tnan\t7151013.397858991\t5591487.0977140665\t8710539.698003916\n2002-07-01 00:00:00\tnan\t7907806.499472267\t5843737.671510185\t9971875.32743435\n2002-10-01 00:00:00\tnan\t7821557.483706625\t5462864.876826696\t10180250.090586554\n","type":"TABLE"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":false,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":true,"hideVizConfig":false,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md","","## End of Script"],"enabled":true,"result":{"startTime":1713822675987,"interpreter":"md.low","endTime":1713822676048,"results":[{"message":"<h2 id=\"end-of-script\">End of Script<\/h2>\n","type":"HTML"}],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":false,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"},{"col":0,"visualizationConfig":null,"hideInIFrame":false,"selectedVisualization":"html","title":null,"message":["%md"],"enabled":true,"result":{"startTime":1713822676286,"interpreter":"md.low","endTime":1713822676350,"results":[],"taskStatus":"SUCCESS","forms":"[]","status":"SUCCESS"},"sizeX":0,"hideCode":true,"width":12,"hideResult":true,"dynamicFormParams":null,"row":0,"hasTitle":false,"hideVizConfig":true,"hideGutter":true,"relations":[],"forms":"[]"}],"version":"6","snapshot":false,"tags":null}]