{"paragraphs":[{"text":"%md\n\n# Oracle Machine Learning for Python (OML4Py)\n\n***Oracle Machine Learning for Python*** (OML4Py), a component of Oracle Machine Learning, makes the open source Python scripting language and environment ready for the enterprise and big data. Designed for problems involving both large and small volumes of data, Oracle Machine Learning for Python integrates Python with Oracle Autonomous Database, allowing users to execute Python commands and scripts for statistical, machine learning, and graphical analyses on database tables and views using Python syntax. Many familiar Python functions are overloaded and translate Python functions into SQL for in-database execution, as well as new automated machine learning capabilities.\n\nIn this notebook, we highlight a few of the OML4Py features:\n\n* Load OML library\n* Create database tables\n* Use the transparency layer\n* Rank attributes for predictive value using the in-database attribute importance algorithm\n* Build predictive models\n* Score data using these models\n\nCopyright (c) 2020 Oracle Corporation                             \n###### [The Universal Permissive License (UPL), Version 1.0](https://oss.oracle.com/licenses/upl/)\n---","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:22+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Oracle Machine Learning for Python (OML4Py)</h1>\n<p><strong><em>Oracle Machine Learning for Python</em></strong> (OML4Py), a component of Oracle Machine Learning, makes the open source Python scripting language and environment ready for the enterprise and big data. Designed for problems involving both large and small volumes of data, Oracle Machine Learning for Python integrates Python with Oracle Autonomous Database, allowing users to execute Python commands and scripts for statistical, machine learning, and graphical analyses on database tables and views using Python syntax. Many familiar Python functions are overloaded and translate Python functions into SQL for in-database execution, as well as new automated machine learning capabilities.</p>\n<p>In this notebook, we highlight a few of the OML4Py features:</p>\n<ul>\n<li>Load OML library</li>\n<li>Create database tables</li>\n<li>Use the transparency layer</li>\n<li>Rank attributes for predictive value using the in-database attribute importance algorithm</li>\n<li>Build predictive models</li>\n<li>Score data using these models</li>\n</ul>\n<p>Copyright (c) 2020 Oracle Corporation</p>\n<h6><a href=\"https://oss.oracle.com/licenses/upl/\">The Universal Permissive License (UPL), Version 1.0</a></h6>\n<hr />\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-14078462","id":"20200915-183830_734048789","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:23+0000","dateFinished":"2020-09-15T19:43:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"focus":true,"$$hashKey":"object:147"},{"text":"%md\n\n# Import libraries supporting OML4Py\n\nTo use OML4Py, first import the package ***oml***. \n\nNote: The Oracle Database connectivity package ***cx_Oracle*** is used to support database access and users can get access to the underlying connection to use ***cx_Oracle*** directly via the function ***oml.cursor***. See <https://cx-oracle.readthedocs.io/en/latest> for general ***cx_Oracle*** documentation. \n\nUsers can get online help using Python's help function and specifying the function of interest.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:25+0000","config":{"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":true},"colWidth":6,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Import libraries supporting OML4Py</h1>\n<p>To use OML4Py, first import the package <strong><em>oml</em></strong>.</p>\n<p>Note: The Oracle Database connectivity package <strong><em>cx_Oracle</em></strong> is used to support database access and users can get access to the underlying connection to use <strong><em>cx_Oracle</em></strong> directly via the function <strong><em>oml.cursor</em></strong>. See <a href=\"https://cx-oracle.readthedocs.io/en/latest\">https://cx-oracle.readthedocs.io/en/latest</a> for general <strong><em>cx_Oracle</em></strong> documentation.</p>\n<p>Users can get online help using Python's help function and specifying the function of interest.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-684192245","id":"20200915-183830_920971823","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:26+0000","dateFinished":"2020-09-15T19:43:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:148"},{"title":"Import libraries and set display options","text":"%python\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nimport oml\n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:26+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":6,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600195110602_1107877853","id":"20200915-183830_1670966296","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:28+0000","dateFinished":"2020-09-15T19:43:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:149"},{"title":"Look up help on OML4Py and other functions","text":"%python\n\nhelp(oml.push)","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:37+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Help on cython_function_or_method in module oml.core.methods:\n\npush(x, oranumber=True, dbtypes=None)\n    Pushes data into Oracle Database.\n    \n    Creates an internal table in Oracle Database and inserts the data\n    into the table. The table exists as long as an OML object (either\n    in the Python client or saved in the datastore) references the table.\n    \n    Parameters\n    ----------\n    x : pandas.DataFrame or a list of tuples of equal size\n      If ``x`` is a list of tuples of equal size, each tuple represents\n      a row in the table. The column names are set to COL1, COL2, ... and so on.\n    oranumber : bool\n      If True (default), use SQL NUMBER for numeric columns. Otherwise\n      use BINARY_DOUBLE. Ignored if ``append`` is True.\n    dbtypes : dict or list of str\n      The SQL data types to use in the table.\n    \n    Notes\n    -----\n     * When creating a new table, for columns whose SQL types are not specified in\n       ``dbtypes``, NUMBER is used for numeric columns when ``oranumber`` is True\n       and BINARY_DOUBLE is used when ``oranumber`` is False. Users should set\n       ``oranumber`` to False when the data contains NaN values. For string columns,\n       the default type is VARCHAR2(4000), and for bytes columns, the default type\n       is BLOB.\n     * When ``x`` is specified with an empty pandas.DataFrame, OML creates an\n       empty table. NUMBER is used for numeric columns when ``oranumber`` is True\n       and BINARY_DOUBLE is used when ``oranumber`` is False. VARCHAR2(4000) is\n       used for columns of object dtype in the pandas.DataFrame.\n     * OML does not support columns containing values of multiple data types,\n       data conversion is needed or a TypeError may be raised.\n     * OML determines default column types by looking at 20 random rows sampled\n       from the table. For tables with less than 20 rows, all rows are used\n       in column type determination. NaN values are considered as float type.\n       If a column has all Nones, or has inconsistent data types that are not\n       None in the sampled rows, a default column type cannot be determined,\n       and a ValueError is raised unless a SQL type for the column is specified\n       in ``dbtypes``.\n    \n    Returns\n    -------\n    temp_table : oml.DataFrame\n\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1011246578","id":"20200915-183830_391771221","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:38+0000","dateFinished":"2020-09-15T19:43:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:150"},{"text":"%md\n\n# OML4Py Transparency Layer functionality\n\n## Create a Pandas DataFrame and load into the database\n\nWe have a couple of options for loading data into the database from Python. In this first example, we load the **iris** data and combine target and predictors into a single DataFrame, which matches the form the data would have as a database table. This Pandas DataFrame can then be loaded into the database using the ***push*** function, which creates a temporary table and returns a proxy object that we assign to variable IRIS_TMP. Such temporary tables will be automatically deleted when the database connection is terminated unless saved in a datastore (the topic of 'datastore' is covered in another notebook).\n\nWe then invoke standard functions like ***shape*** and ***columns***, as well as ***head***, to begin to explore the data.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:38+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>OML4Py Transparency Layer functionality</h1>\n<h2>Create a Pandas DataFrame and load into the database</h2>\n<p>We have a couple of options for loading data into the database from Python. In this first example, we load the <strong>iris</strong> data and combine target and predictors into a single DataFrame, which matches the form the data would have as a database table. This Pandas DataFrame can then be loaded into the database using the <strong><em>push</em></strong> function, which creates a temporary table and returns a proxy object that we assign to variable IRIS_TMP. Such temporary tables will be automatically deleted when the database connection is terminated unless saved in a datastore (the topic of 'datastore' is covered in another notebook).</p>\n<p>We then invoke standard functions like <strong><em>shape</em></strong> and <strong><em>columns</em></strong>, as well as <strong><em>head</em></strong>, to begin to explore the data.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-961147694","id":"20200915-183830_967290033","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:39+0000","dateFinished":"2020-09-15T19:43:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:151"},{"text":"%python\n\nfrom sklearn.datasets import load_iris\nfrom sklearn import linear_model\nimport pandas as pd\n\niris = load_iris()\nx = pd.DataFrame(iris.data, \n                 columns = [\"SEPAL_LENGTH\", \"SEPAL_WIDTH\", \"PETAL_LENGTH\", \"PETAL_WIDTH\"])\ny = pd.DataFrame(list(map(lambda x: {0:'setosa', 1: 'versicolor', 2:'virginica'}[x], iris.target)), \n                 columns = ['SPECIES'])\niris_df = pd.concat([x,y], axis=1)\n\nIRIS_TMP = oml.push(iris_df)\nprint(\"Shape:\",IRIS_TMP.shape)\nprint(\"Columns:\",IRIS_TMP.columns)\nIRIS_TMP.head(4)","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:39+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":144.194,"optionOpen":false}}},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Shape: (150, 5)\nColumns: ['SEPAL_LENGTH', 'SEPAL_WIDTH', 'PETAL_LENGTH', 'PETAL_WIDTH', 'SPECIES']\n   SEPAL_LENGTH  SEPAL_WIDTH  PETAL_LENGTH  PETAL_WIDTH     SPECIES\n0           4.6          3.6             1          0.2      setosa\n1           5.1          2.5             3          1.1  versicolor\n2           6.0          2.2             4          1.0  versicolor\n3           5.8          2.6             4          1.2  versicolor\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1577635257","id":"20200915-183830_671321144","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:40+0000","dateFinished":"2020-09-15T19:43:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:152"},{"text":"%md\nWe can also create a persistent table using the ***create*** function and specifying a tablename, *IRIS*. This table is now accessible both within OML4Py but also directly from SQL.\n\nUse the function ***z.show*** to automatically pull the desired data to the Python for display in the notebook. By doing this, you can also use the built-in Zeppelin visualization options such as bar, pie, area, line, and scatter plots. \n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:40+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We can also create a persistent table using the <strong><em>create</em></strong> function and specifying a tablename, <em>IRIS</em>. This table is now accessible both within OML4Py but also directly from SQL.</p>\n<p>Use the function <strong><em>z.show</em></strong> to automatically pull the desired data to the Python for display in the notebook. By doing this, you can also use the built-in Zeppelin visualization options such as bar, pie, area, line, and scatter plots.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-809071455","id":"20200915-183830_215964940","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:41+0000","dateFinished":"2020-09-15T19:43:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:153"},{"text":"%python\n\ntry:\n    oml.drop(table=\"IRIS\")\nexcept:\n    pass\nIRIS = oml.create(iris_df, table=\"IRIS\")\nprint(\"Shape:\",IRIS.shape)\nz.show(IRIS.head(10))","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:41+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"SEPAL_LENGTH":"string","SEPAL_WIDTH":"string","PETAL_LENGTH":"string","PETAL_WIDTH":"string","SPECIES":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Shape: (150, 5)\n"},{"type":"TABLE","data":"SEPAL_LENGTH\tSEPAL_WIDTH\tPETAL_LENGTH\tPETAL_WIDTH\tSPECIES\n4.6\t3.6\t1\t0.2\tsetosa\n5.1\t2.5\t3\t1.1\tversicolor\n6.0\t2.2\t4\t1.0\tversicolor\n5.8\t2.6\t4\t1.2\tversicolor\n5.5\t2.3\t4\t1.3\tversicolor\n5.5\t2.5\t4\t1.3\tversicolor\n6.1\t2.8\t4\t1.3\tversicolor\n5.7\t2.5\t5\t2.0\tvirginica\n6.0\t2.2\t5\t1.5\tvirginica\n6.3\t2.5\t5\t1.9\tvirginica\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-271904639","id":"20200915-183830_1417477022","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:42+0000","dateFinished":"2020-09-15T19:43:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:154"},{"text":"%md\n\n## Transparency layer functions available on an OML DataFrame\n\nList the functions defined for an OML DataFrame proxy object, in this case \"IRIS\".","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:43+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Transparency layer functions available on an OML DataFrame</h2>\n<p>List the functions defined for an OML DataFrame proxy object, in this case &ldquo;IRIS&rdquo;.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-424654867","id":"20200915-183830_1354372996","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:44+0000","dateFinished":"2020-09-15T19:43:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:155"},{"text":"%python\n\nres = [x for x in IRIS.__dir__() if not x.startswith('_')]\nres.sort()\nres","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:44+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['KFold', 'append', 'columns', 'concat', 'corr', 'count', 'create_view', 'crosstab', 'cumsum', 'describe', 'drop', 'drop_duplicates', 'dropna', 'dtypes', 'head', 'kurtosis', 'materialize', 'max', 'mean', 'median', 'merge', 'min', 'nunique', 'pivot_table', 'pull', 'rename', 'round', 'sample', 'select_types', 'shape', 'skew', 'sort_values', 'split', 'std', 'sum', 't_dot', 'tail']\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-953616371","id":"20200915-183830_1693201383","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:45+0000","dateFinished":"2020-09-15T19:43:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:156"},{"text":"%md\n## Using standard Python syntax on database data\n\nPerform a few operations on the SEPAL_LENGTH column of the IRIS database table using the transparency layer. Note that standard Python syntax is used. \n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:45+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Using standard Python syntax on database data</h2>\n<p>Perform a few operations on the SEPAL_LENGTH column of the IRIS database table using the transparency layer. Note that standard Python syntax is used.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-125136418","id":"20200915-183830_304952651","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:46+0000","dateFinished":"2020-09-15T19:43:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:157"},{"text":"%python\n\nprint(\"Add 5 to each SEPAL_LENGTH: \",IRIS[\"SEPAL_LENGTH\"] + 5)\nprint(\"\\nMin SEPAL_LENGTH: \", IRIS[\"SEPAL_LENGTH\"].min())\nprint(\"\\nMean SEPAL_LENGTH: \",IRIS[\"SEPAL_LENGTH\"].mean())","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:46+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Add 5 to each SEPAL_LENGTH:  [9.6, 10.1, 11, 10.8, 10.5, 10.5, 11.1, 10.7, 11, 11.3, 11.7, 12.2, 11.3, 9.3, 10.8, 10, 9.4, 9.4, 9.7, 10.5, 9.5, 10, 10.4, 9.8, 9.9, 9.9, 9.4, 9.6, 10, 10.2, 10.1, 10, 10.5, 9.8, 9.6, 10.1, 9.9, 10.2, 9.6, 9.9, 10, 10.1, 10.2, 10.3, 10.4, 10.1, 10.4, 10.1, 10.7, 10, 9.8, 9.7, 9.8, 10.1, 10, 10, 10.4, 10.7, 10.4, 10.1, 9.8, 10.1, 10, 9.9, 10, 10.7, 10.6, 10.5, 10.5, 10.6, 10.8, 10.2, 10.8, 10.6, 10.7, 10.7, 10.6, 10.7, 10.9, 11.2, 11.4, 10.5, 11.3, 11.6, 11.7, 9.9, 10.7, 10.4, 10.6, 11.2, 11, 11.4, 11, 11.6, 11.1, 11.5, 11.1, 11.1, 12, 11.7, 11.3, 11, 11.2, 11.8, 10.9, 10.6, 11.1, 11.3, 11.3, 11.9, 11.5, 11.3, 10.9, 10.8, 10.8, 11.9, 10.8, 11, 11.5, 11.7, 11.4, 11.4, 11.9, 11.2, 11.5, 11.4, 11.8, 11.1, 11.3, 11.4, 11.4, 11.7, 11.3, 11.7, 11.9, 11.7, 12.2, 11.7, 11.5, 12.1, 11.8, 12.4, 12.7, 12.2, 12.3, 12.9, 12.6, 12.7, 12.7, 12.7]\n\nMin SEPAL_LENGTH:  4.3\n\nMean SEPAL_LENGTH:  5.843333333333334\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-984555028","id":"20200915-183830_557747355","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:46+0000","dateFinished":"2020-09-15T19:43:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:158"},{"text":"%md\n\nExplore masking using IRIS PETAL_LENGTH column. Note that standard Python syntax is used. \n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Explore masking using IRIS PETAL_LENGTH column. Note that standard Python syntax is used.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1291315290","id":"20200915-183830_565754127","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:48+0000","dateFinished":"2020-09-15T19:43:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:159"},{"text":"%python\n\nprint(\"PETAL_LENGTH: \", IRIS[\"PETAL_LENGTH\"])\n\nMASK1 = IRIS[\"PETAL_LENGTH\"] > 5.1\nprint(\"\\nPETAL_LENGTH > 5.1: \", IRIS[\"PETAL_LENGTH\"][MASK1])\n\nMASK2 = (IRIS[\"PETAL_LENGTH\"] < 1.4) | (IRIS[\"PETAL_LENGTH\"] > 5.6)\nprint(\"\\nPETAL_LENGTH < 1.4 | > 5.6: \", IRIS[\"PETAL_LENGTH\"][MASK2])","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:48+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PETAL_LENGTH:  [1, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 1.1, 1.2, 1.2, 1.3, 1.3, 1.3, 1.3, 1.3, 1.3, 1.3, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.4, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.6, 1.6, 1.6, 1.6, 1.6, 1.6, 1.6, 1.7, 1.7, 1.7, 1.7, 1.9, 1.9, 3.3, 3.3, 3.5, 3.5, 3.6, 3.7, 3.8, 3.9, 3.9, 3.9, 4.1, 4.1, 4.1, 4.2, 4.2, 4.2, 4.2, 4.3, 4.3, 4.4, 4.4, 4.4, 4.4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.6, 4.6, 4.6, 4.7, 4.7, 4.7, 4.7, 4.7, 4.8, 4.8, 4.8, 4.8, 4.9, 4.9, 4.9, 4.9, 4.9, 5.1, 5.1, 5.1, 5.1, 5.1, 5.1, 5.1, 5.1, 5.2, 5.2, 5.3, 5.3, 5.4, 5.4, 5.5, 5.5, 5.5, 5.6, 5.6, 5.6, 5.6, 5.6, 5.6, 5.7, 5.7, 5.7, 5.8, 5.8, 5.8, 5.9, 5.9, 6.1, 6.1, 6.1, 6.3, 6.4, 6.6, 6.7, 6.7, 6.9]\n\nPETAL_LENGTH > 5.1:  [6, 6, 5.2, 5.2, 5.3, 5.3, 5.4, 5.4, 5.5, 5.5, 5.5, 5.6, 5.6, 5.6, 5.6, 5.6, 5.6, 5.7, 5.7, 5.7, 5.8, 5.8, 5.8, 5.9, 5.9, 6.1, 6.1, 6.1, 6.3, 6.4, 6.6, 6.7, 6.7, 6.9]\n\nPETAL_LENGTH < 1.4 | > 5.6:  [1, 6, 6, 1.1, 1.2, 1.2, 1.3, 1.3, 1.3, 1.3, 1.3, 1.3, 1.3, 5.7, 5.7, 5.7, 5.8, 5.8, 5.8, 5.9, 5.9, 6.1, 6.1, 6.1, 6.3, 6.4, 6.6, 6.7, 6.7, 6.9]\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1396520177","id":"20200915-183830_617534932","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:48+0000","dateFinished":"2020-09-15T19:43:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:160"},{"text":"%md\n\n## Explore data by computing pairwise correlation\nUsing only numeric columns, we can compute a correlation matrix on the proxy object for the database table *IRIS* using the overloaded ***corr*** function. Here we see that petal length and petal width are highly correlated.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:49+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Explore data by computing pairwise correlation</h2>\n<p>Using only numeric columns, we can compute a correlation matrix on the proxy object for the database table <em>IRIS</em> using the overloaded <strong><em>corr</em></strong> function. Here we see that petal length and petal width are highly correlated.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-553358946","id":"20200915-183830_1605512043","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:50+0000","dateFinished":"2020-09-15T19:43:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:161"},{"text":"%python\n\nIRIS.corr()\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:50+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"              SEPAL_LENGTH  SEPAL_WIDTH  PETAL_LENGTH  PETAL_WIDTH\nSEPAL_LENGTH      1.000000    -0.117570      0.871754     0.817941\nSEPAL_WIDTH      -0.117570     1.000000     -0.428440    -0.366126\nPETAL_LENGTH      0.871754    -0.428440      1.000000     0.962865\nPETAL_WIDTH       0.817941    -0.366126      0.962865     1.000000\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-489359531","id":"20200915-183830_171781714","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:50+0000","dateFinished":"2020-09-15T19:43:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:162"},{"text":"%md\n\n## Explore distribution of IRIS numeric columns\n\nOML4Py overloads select graphics functions as well. Here, we illustrate the use of ***boxplot*** to show the distribution of the length and width columns. Here, the statistical computations take place in the database - avoiding data movement - and returns only the summary statistics needed to produce the plot, which enables scalability. No overhead is incurred for moving the data to the client for processing, whether 150 rows (as in *IRIS*) or 150 million rows.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:51+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Explore distribution of IRIS numeric columns</h2>\n<p>OML4Py overloads select graphics functions as well. Here, we illustrate the use of <strong><em>boxplot</em></strong> to show the distribution of the length and width columns. Here, the statistical computations take place in the database - avoiding data movement - and returns only the summary statistics needed to produce the plot, which enables scalability. No overhead is incurred for moving the data to the client for processing, whether 150 rows (as in <em>IRIS</em>) or 150 million rows.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1691865610","id":"20200915-183830_1848217307","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:51+0000","dateFinished":"2020-09-15T19:43:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:163"},{"text":"%python\n\nimport matplotlib.pyplot as plt\n\noml.graphics.boxplot(IRIS[:, :4], notch=True, showmeans = True, \n                     labels=['Sepal Length', 'Sepal Width','Petal Length', 'Petal Width'])\nplt.title('Distribution of IRIS Attributes')\nplt.ylabel('cm');\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:43:51+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Text(57.625, 0.5, 'cm')\n"},{"type":"HTML","data":"<div style='width:auto;height:auto'><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAAByNR6YAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjIsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy8li6FKAAAgAElEQVR4nO3deVyU5f7/8fcIuBxRUcEV15MLOyYuqKWYmXVyIzc0lzRJs6yvZWpY2UnLOplr/fhyjqdMTTQzMTtZ2kGTTIsUcV9Kc8EUTUlEjgPcvz/8OkdyA7zhlpnX8/HgUdxz39f1mblnnDfXfc01NsMwDAEAAMA0ZawuAAAAwNkQsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELAADAZAQsAAAAkxGwAAAATEbAAgAAMBkBCwAAwGQELAAAAJMRsAAAAExGwAIAADAZAQsAAMBkBCwAAACTEbAAAABMRsACAAAwGQELuMOMGjVKr732miltHTlyRJ6ensrNzZUkderUSf/4xz9MaVuSHnzwQS1YsMC09gpq8uTJ8vb2Vq1atUq875ISEBCg9evXS5KmTJmiRx991NqCABQKAQsoQQ0bNlSFChVUqVIleXl5qV27doqNjVVeXp5jn9jYWL300ksFamvdunU33ad+/frKzMyUm5vbbdd+vTf5L774QkOHDr3ttgvjyJEjmjFjhnbv3q1ff/31mtvXr18vX19fx++dOnVS+fLl5enpKW9vb0VGRurEiROO2/94vxISEhQaGqrKlSvL29tbnTt31qFDh25a05QpU2Sz2bRly5Z82z/44AN16NAh37Zhw4Zp8uTJt7yfu3btUqdOnW6536388fEAUDIIWEAJ++yzz3T+/Hn98ssvmjhxot58802NGDHC9H5ycnJMb/NOcOTIEVWvXl01atQo8DHz5s1TZmamDh48qMzMTD3//PPX3e/gwYMaMmSIZsyYoYyMDB06dEhjxoy5aUA1DEMffvihqlWrpg8//LDQ9+ePnPW8Aa6GgAVYpEqVKurRo4eWLl2qBQsWaOfOnZLyj3CcPn1aDz/8sLy8vFStWjXdc889ysvL0+DBg3XkyBF1795dnp6eeuutt3T48GHZbDbNnz9f9evXV+fOnR3brn7T/umnn9S6dWtVrlxZPXv21G+//Sbp+iMdV0bJ1qxZo9dff11Lly6Vp6enQkJCJOW/5JiXl6epU6eqQYMGqlGjhoYMGaKMjAxJctSxYMEC1a9fX97e3po2bdoNH5uMjAwNGTJEPj4+atCggaZOnaq8vDytW7dO999/v9LS0uTp6alhw4YV6jH38vJSr169lJKSct3bU1JS1KhRI913332y2WyqVKmSHnnkEdWvX/+GbW7cuFEnTpzQnDlzFB8fr0uXLkmS9uzZo1GjRum7776Tp6envLy8FBcXp8WLF+utt96Sp6enunfv7nic33zzTQUHB6tixYrKycm5ZoQyOztb/fv3V6VKlXT33Xdr+/btjttsNpsOHjzo+P3Kc+jChQt68MEHHY+Xp6en0tLSlJeXp+nTp+vPf/6zqlevrn79+jmeB9nZ2Xr00UdVvXp1eXl5qVWrVjp58mShHmcABCzAcq1bt5avr682btx4zW0zZsyQr6+v0tPTdfLkSb3++uuy2WxauHCh6tevr88++0yZmZl64YUXHMds2LBBe/bs0Zdffnnd/j788EP985//1IkTJ+Tu7q6xY8fessZu3brpxRdfVP/+/ZWZmZnvzf2KDz74QB988IESExP1888/KzMzU0899VS+fZKSkrRv3z59/fXX+utf/6o9e/Zct7+nn35aGRkZ+vnnn7VhwwZ9+OGHev/999WlSxd98cUXqlOnjjIzM/XBBx/csvarnTlzRitWrNBdd9113dvvvvtu7d27V//zP/+jxMREZWZm3rLNBQsWqHv37urXr5+kyyOUkuTn56fY2FiFh4crMzNT586dU3R0tAYNGqQXXnhBmZmZjn0lacmSJfr888917tw5ubu7X9NPQkKC+vbtq99++00DBw5Ur169ZLfbb1pbxYoV8z1emZmZqlOnjubOnauVK1dqw4YNSktLU9WqVTVmzBjH/cnIyNDRo0d15swZxcbGqkKFCrd8HADkR8AC7gB16tRxjCBczcPDQydOnNAvv/wiDw8P3XPPPbLZbDdta8qUKapYseIN3xQHDx6swMBAVaxYUa+99pqWLVvmmAR/OxYvXqxx48apcePG8vT01BtvvKH4+Ph8o2evvPKKKlSooJCQEIWEhFw3qOXm5io+Pl5vvPGGKlWqpIYNG+q5557TwoULi1zb2LFjVaVKFXl7e+v06dOaO3fudfdr3Lix1q9fr+PHj6tfv37y9vbWsGHDbhi0srKy9PHHH2vgwIHy8PBQnz59inyZcOzYsapXr94Nz1vLli3Vp08feXh4aNy4ccrOztbmzZuL1FdsbKymTZsmX19flStXTlOmTNHy5cuVk5MjDw8PnTlzRgcPHpSbm5tatmypypUrF6kfwJURsIA7wPHjx1WtWrVrto8fP1533XWXunbtqsaNG2v69Om3bKtevXoFvr1Bgway2+06ffp04Yv+g7S0NDVo0CBf2zk5OfkuL139qb8//elP1w0up0+flt1uv6at48ePF7m2OXPmKCMjQ6mpqTp79qyOHTt2w33btm2rZcuWKT09XRs3btQ333xzw8uZn376qdzd3fXQQw9JkgYNGqQvvvhC6enpha6xMOetTJky8vX1VVpaWqH7kaRffvlFvXv3lpeXl7y8vOTn5yc3NzedPHlSgwcP1gMPPKABAwaoTp06euGFF245UgbgWgQswGI//PCDjh8/fs2nzSSpUqVKmjFjhn7++WetWrVK77zzjr7++mtJuuFI1q1GuI4ePer4/yNHjsjDw0Pe3t6qWLGisrKyHLfl5ubmCwq3ardOnTr65Zdf8rXt7u6umjVr3vS4P/L29paHh8c1bdWtW7dQ7VxPUFCQJk+erDFjxsgwjFvu36pVK0VGRjrmx/3RggULlJmZqfr166tWrVrq27ev7Ha7PvroI0nXf8zMOG95eXk6duyY6tSpI+lyWL363F396crrtVuvXj198cUXOnfunOMnOztbdevWlYeHh1555RXt3r1bmzZt0urVq02ZvA+4GgIWYJHff/9dq1ev1oABA/Too48qKCjomn1Wr16tgwcPyjAMValSRW5ubipT5vLLtmbNmvr5558L3e+iRYu0e/duZWVl6eWXX1afPn3k5uampk2bKjs7W59//rnsdrumTp2q//znP47jatasqcOHD+dbUuJqUVFRmjlzpg4dOqTMzEzHnK3rzSe6GTc3N/Xr108xMTGOT1u+8847pq0DNXToUJ08eVKrVq265rakpCT9/e9/16lTpyRJe/fu1apVq9S2bdtr9j1+/Li+/vprrV69WikpKUpJSdH27ds1YcIERyCp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 style='width=auto;height:auto'><div>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1424083297","id":"20200915-183830_1016825535","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:43:52+0000","dateFinished":"2020-09-15T19:44:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:164"},{"text":"%md\n\n# Use in-database ML algorithms \n\n## Compute attribute importance ranking of variables\n\nUsing the *IRIS* table, determine which variables (a.k.a., attributes or predictors) are most important in predicting target 'SPECIES'.\n\nSince we're starting with a database table, we split *IRIS* into test and train data sets, and then separate the target from the predictors in the training set.\n\nIn the ***setting*** variable, we disable sampling. Note that OML4Py provides parameters to algorithms as name-value pairs. See the OML4Py Users Guide for available options.\n\nThen, we define the attribute importance object, compute attribute importance using function fit, and show the results, which includes the importance ranking.\n\nNotice that petal width is most predictive of the target 'SPECIES'. The importance value produced by this algorithm provides a relative ranking, not an absolute number, to be used to distinguish importance among variables.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:00+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Use in-database ML algorithms</h1>\n<h2>Compute attribute importance ranking of variables</h2>\n<p>Using the <em>IRIS</em> table, determine which variables (a.k.a., attributes or predictors) are most important in predicting target 'SPECIES'.</p>\n<p>Since we're starting with a database table, we split <em>IRIS</em> into test and train data sets, and then separate the target from the predictors in the training set.</p>\n<p>In the <strong><em>setting</em></strong> variable, we disable sampling. Note that OML4Py provides parameters to algorithms as name-value pairs. See the OML4Py Users Guide for available options.</p>\n<p>Then, we define the attribute importance object, compute attribute importance using function fit, and show the results, which includes the importance ranking.</p>\n<p>Notice that petal width is most predictive of the target 'SPECIES'. The importance value produced by this algorithm provides a relative ranking, not an absolute number, to be used to distinguish importance among variables.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_2027721551","id":"20200915-183830_1924930356","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:00+0000","dateFinished":"2020-09-15T19:44:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:165"},{"text":"%python\n\nfrom oml import ai\n\nIRIS_train_dat, IRIS_test_dat = IRIS.split() \nIRIS_train_x = IRIS_train_dat.drop('SPECIES')\nIRIS_train_y = IRIS_train_dat['SPECIES']\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"interrupted":false,"jobName":"paragraph_1600195110602_1535468491","id":"20200915-183830_294712463","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:02+0000","dateFinished":"2020-09-15T19:44:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:166"},{"text":"%python\n\nsetting = {'ODMS_SAMPLING':'ODMS_SAMPLING_DISABLE'}\n\nai_obj = ai(**setting)\nai_obj = ai_obj.fit(IRIS_train_x, IRIS_train_y)\n\nai_obj","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:03+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":6,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nAlgorithm Name: Attribute Importance\n\nMining Function: ATTRIBUTE_IMPORTANCE\n\nSettings: \n                   setting name            setting value\n0                     ALGO_NAME              ALGO_AI_MDL\n1                  ODMS_DETAILS              ODMS_ENABLE\n2  ODMS_MISSING_VALUE_TREATMENT  ODMS_MISSING_VALUE_AUTO\n3                 ODMS_SAMPLING    ODMS_SAMPLING_DISABLE\n4                     PREP_AUTO                       ON\n\nGlobal Statistics: \n   NUM_ROWS\n0       104\n\nAttributes: \nPETAL_LENGTH\nPETAL_WIDTH\nSEPAL_LENGTH\nSEPAL_WIDTH\n\nPartition: NO\n\nImportance: \n\n       variable  importance  rank\n0   PETAL_WIDTH    0.909653     1\n1  PETAL_LENGTH    0.902137     2\n2  SEPAL_LENGTH    0.374937     3\n3   SEPAL_WIDTH    0.196127     4\n\n\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-951312797","id":"20200915-183830_862842672","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:04+0000","dateFinished":"2020-09-15T19:44:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:167"},{"text":"%python\n\nz.show(ai_obj.importance)","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:38+0000","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"variable":"string","importance":"string","rank":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"variable","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"importance","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"variable\timportance\trank\nPETAL_WIDTH\t0.9096527560354671\t1\nPETAL_LENGTH\t0.9021370227157937\t2\nSEPAL_LENGTH\t0.37493735486845925\t3\nSEPAL_WIDTH\t0.19612708327836478\t4\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1188567793","id":"20200915-183830_1394817436","dateCreated":"2020-06-04T21:07:50+0000","dateStarted":"2020-09-15T19:44:06+0000","dateFinished":"2020-09-15T19:44:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:168"},{"text":"%md\n\n## Build predictive models\n\nIn this example, we set up the data and a ***demo*** cost matrix to build a Random Forest model to predict 'SPECIES' from the *IRIS* table.\n\nNote that we create the cost matrix as a named database table, *RF_COST*.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:06+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Build predictive models</h2>\n<p>In this example, we set up the data and a <strong><em>demo</em></strong> cost matrix to build a Random Forest model to predict 'SPECIES' from the <em>IRIS</em> table.</p>\n<p>Note that we create the cost matrix as a named database table, <em>RF_COST</em>.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1553521643","id":"20200915-183830_1096088951","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:07+0000","dateFinished":"2020-09-15T19:44:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:169"},{"text":"%python\n\ncost_matrix = [['setosa', 'setosa', 0],\n  ['setosa', 'virginica', 0.2],\n  ['setosa', 'versicolor', 0.8],\n  ['virginica', 'virginica', 0],\n  ['virginica', 'setosa', 0.5],\n  ['virginica', 'versicolor', 0.5],\n  ['versicolor', 'versicolor', 0],\n  ['versicolor', 'setosa', 0.4],\n  ['versicolor', 'virginica', 0.6]]\n  \ntry:\n    oml.drop(table='RF_COST')\nexcept:\n    pass\n\ncost_matrix = oml.create(pd.DataFrame(cost_matrix, columns = ['ACTUAL_TARGET_VALUE', 'PREDICTED_TARGET_VALUE', 'COST']), \"RF_COST\")\ncost_matrix.pull().pivot(index='ACTUAL_TARGET_VALUE', \n                         columns='PREDICTED_TARGET_VALUE',values='COST')\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:07+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"PREDICTED_TARGET_VALUE  setosa  versicolor  virginica\nACTUAL_TARGET_VALUE                                  \nsetosa                     0.0         0.8        0.2\nversicolor                 0.4         0.0        0.6\nvirginica                  0.5         0.5        0.0\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_862417850","id":"20200915-183830_1467374942","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:08+0000","dateFinished":"2020-09-15T19:44:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:170"},{"text":"%md\n\nBuild a Random Forest model specifying a maximum tree depth of 4, and display model details.\nNote that the model also reports attribute importance.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:08+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Build a Random Forest model specifying a maximum tree depth of 4, and display model details.\n<br  />Note that the model also reports attribute importance.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-168486149","id":"20200915-183830_188628207","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:09+0000","dateFinished":"2020-09-15T19:44:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:171"},{"text":"%python\n\nfrom oml import rf\n\nrf_mod = rf(tree_term_max_depth = '4')\nrf_mod = rf_mod.fit(IRIS_train_x, IRIS_train_y, cost_matrix = cost_matrix)\n\nrf_mod\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:09+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nAlgorithm Name: Random Forest\n\nMining Function: CLASSIFICATION\n\nTarget: SPECIES\n\nSettings: \n                    setting name            setting value\n0                      ALGO_NAME       ALGO_RANDOM_FOREST\n1           CLAS_COST_TABLE_NAME      \"OMLUSER\".\"RF_COST\"\n2              CLAS_MAX_SUP_BINS                       32\n3          CLAS_WEIGHTS_BALANCED                      OFF\n4                   ODMS_DETAILS              ODMS_ENABLE\n5   ODMS_MISSING_VALUE_TREATMENT  ODMS_MISSING_VALUE_AUTO\n6               ODMS_RANDOM_SEED                        0\n7                  ODMS_SAMPLING    ODMS_SAMPLING_DISABLE\n8                      PREP_AUTO                       ON\n9                 RFOR_NUM_TREES                       20\n10           RFOR_SAMPLING_RATIO                       .5\n11          TREE_IMPURITY_METRIC       TREE_IMPURITY_GINI\n12           TREE_TERM_MAX_DEPTH                        4\n13         TREE_TERM_MINPCT_NODE                      .05\n14        TREE_TERM_MINPCT_SPLIT                       .1\n15         TREE_TERM_MINREC_NODE                       10\n16        TREE_TERM_MINREC_SPLIT                       20\n\nComputed Settings: \n  setting name setting value\n0    RFOR_MTRY             2\n\nGlobal Statistics: \n   AVG_DEPTH  AVG_NODECOUNT  MAX_DEPTH  MAX_NODECOUNT  MIN_DEPTH  MIN_NODECOUNT  NUM_ROWS\n0       3.25            5.5        4.0            7.0        4.0            5.0     104.0\n\nAttributes: \nPETAL_LENGTH\nPETAL_WIDTH\nSEPAL_LENGTH\nSEPAL_WIDTH\n\nPartition: NO\n\nImportance: \n\n  ATTRIBUTE_NAME ATTRIBUTE_SUBNAME  ATTRIBUTE_IMPORTANCE\n0   PETAL_LENGTH              None              0.543437\n1    PETAL_WIDTH              None              0.563783\n2   SEPAL_LENGTH              None              0.082777\n3    SEPAL_WIDTH              None              0.071437\n\n\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1405987848","id":"20200915-183830_1092295629","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:10+0000","dateFinished":"2020-09-15T19:44:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:172"},{"text":"%md\n\n## Use the Random Forest model to predict SPECIES\n\nWhen predicting values, users can include supplemental columns from the original data. This can be particularly useful to compare actual target values against predicted values, or to include unique keys for subsequent row identification. This is necessary since row order is not implicitly maintained on results from the database. This is consistent with how SQL and relational databases provide ordering only if requested by the user via a sort.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:12+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Use the Random Forest model to predict SPECIES</h2>\n<p>When predicting values, users can include supplemental columns from the original data. This can be particularly useful to compare actual target values against predicted values, or to include unique keys for subsequent row identification. This is necessary since row order is not implicitly maintained on results from the database. This is consistent with how SQL and relational databases provide ordering only if requested by the user via a sort.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1186628697","id":"20200915-183830_667085276","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:13+0000","dateFinished":"2020-09-15T19:44:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:173"},{"text":"%python\n\npred = rf_mod.predict(IRIS_test_dat.drop('SPECIES'), \n                      supplemental_cols = IRIS_test_dat[:, ['SEPAL_LENGTH', 'SEPAL_WIDTH', 'PETAL_LENGTH', 'SPECIES']])\nprint(\"Shape:\",pred.shape)\npred.head(10)","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:13+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Shape: (46, 5)\n   SEPAL_LENGTH  SEPAL_WIDTH  PETAL_LENGTH     SPECIES  PREDICTION\n0           5.5          2.3           4.0  versicolor  versicolor\n1           5.5          2.5           4.0  versicolor  versicolor\n2           5.7          2.5           5.0   virginica   virginica\n3           5.8          4.0           1.2      setosa      setosa\n4           5.0          3.2           1.2      setosa      setosa\n5           4.4          3.0           1.3      setosa      setosa\n6           4.4          3.2           1.3      setosa      setosa\n7           5.5          3.5           1.3      setosa      setosa\n8           4.5          2.3           1.3      setosa      setosa\n9           4.9          3.0           1.4      setosa      setosa\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1071373696","id":"20200915-183830_1111219415","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:14+0000","dateFinished":"2020-09-15T19:44:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:174"},{"text":"%md\n\n## Generate and display a Confusion Matrix for the predicted results\n\nUsing the overloaded ***crosstab*** function, compute the confusion matrix between the actual values in SPECIES and the predictions in the PREDICTION column.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:14+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Generate and display a Confusion Matrix for the predicted results</h2>\n<p>Using the overloaded <strong><em>crosstab</em></strong> function, compute the confusion matrix between the actual values in SPECIES and the predictions in the PREDICTION column.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-680202076","id":"20200915-183830_949504315","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:15+0000","dateFinished":"2020-09-15T19:44:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:175"},{"text":"%python\n\nres_ct = pred.crosstab('SPECIES','PREDICTION',pivot=True)\nprint(\"Type:\",type(res_ct))\nprint(\"Columns:\",res_ct.columns)\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:15+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Type: <class 'oml.core.frame.DataFrame'>\nColumns: ['SPECIES', 'count_(setosa)', 'count_(versicolor)', 'count_(virginica)']\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_2133817217","id":"20200915-183830_566556822","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:16+0000","dateFinished":"2020-09-15T19:44:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:176"},{"text":"%md\n\nSince columns are sorted by name after pivoting, but the rows are not, sort the rows as a post-processing step.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:17+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Since columns are sorted by name after pivoting, but the rows are not, sort the rows as a post-processing step.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_908978706","id":"20200915-183830_293103995","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:18+0000","dateFinished":"2020-09-15T19:44:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:177"},{"text":"%python\n\nres_ct.sort_values(by='SPECIES')\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:18+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"      SPECIES  count_(setosa)  count_(versicolor)  count_(virginica)\n0      setosa              14                   0                  0\n1  versicolor               0                  14                  1\n2   virginica               0                   0                 17\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1138550592","id":"20200915-183830_221889255","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:19+0000","dateFinished":"2020-09-15T19:44:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:178"},{"text":"%md\n\n## Build an Anomaly Detection Model with SVM\n\nThe Support Vector Machine algorithms supports a one-class SVM option for anomaly detection. Predictions with value 0 are considered anomalies. Users can specify various settings, e.g., the outlier rate or the type of SVM kernel functions.","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:19+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Build an Anomaly Detection Model with SVM</h2>\n<p>The Support Vector Machine algorithms supports a one-class SVM option for anomaly detection. Predictions with value 0 are considered anomalies. Users can specify various settings, e.g., the outlier rate or the type of SVM kernel functions.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1263679144","id":"20200915-183830_1997702122","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:20+0000","dateFinished":"2020-09-15T19:44:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:179"},{"text":"%python\n\nfrom oml import svm\n\nsettings = {'svms_outlier_rate' : 0.05}\nsvm_mod = svm('anomaly_detection', svms_kernel_function = 'dbms_data_mining.svms_linear',**settings)\nsvm_mod = svm_mod.fit(IRIS, None)\n\nsvm_mod\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:20+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nAlgorithm Name: Support Vector Machine\n\nMining Function: ANOMALY_DETECTION\n\nSettings: \n                   setting name                 setting value\n0                     ALGO_NAME  ALGO_SUPPORT_VECTOR_MACHINES\n1                  ODMS_DETAILS                   ODMS_ENABLE\n2  ODMS_MISSING_VALUE_TREATMENT       ODMS_MISSING_VALUE_AUTO\n3                 ODMS_SAMPLING         ODMS_SAMPLING_DISABLE\n4                     PREP_AUTO                            ON\n5           SVMS_CONV_TOLERANCE                         .0001\n6          SVMS_KERNEL_FUNCTION                   SVMS_LINEAR\n7             SVMS_OUTLIER_RATE                          0.05\n\nComputed Settings: \n             setting name    setting value\n0  SVMS_COMPLEXITY_FACTOR               10\n1     SVMS_NUM_ITERATIONS               30\n2             SVMS_SOLVER  SVMS_SOLVER_IPM\n\nGlobal Statistics: \n  CONVERGED  ITERATIONS  NUM_ROWS\n0       YES        12.0     150.0\n\nAttributes: \nPETAL_LENGTH\nPETAL_WIDTH\nSEPAL_LENGTH\nSEPAL_WIDTH\nSPECIES\n\nPartition: NO\n\nCOEFFICIENTS: \n\n   TARGET_VALUE ATTRIBUTE_NAME ATTRIBUTE_SUBNAME ATTRIBUTE_VALUE    COEF\n0             1   PETAL_LENGTH              None            None  1.0956\n1             1    PETAL_WIDTH              None            None  1.0497\n2             1   SEPAL_LENGTH              None            None  0.9145\n3             1    SEPAL_WIDTH              None            None  1.0834\n4             1        SPECIES              None          setosa  1.2099\n5             1        SPECIES              None      versicolor  0.8249\n6             1        SPECIES              None       virginica  0.6503\n7             1           None              None            None -1.0000\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1000534078","id":"20200915-183830_1905579478","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:21+0000","dateFinished":"2020-09-15T19:44:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:180"},{"text":"%md\n\nWe can predict which cases are anomalies using the ***predict*** function. If ***proba*** is set to True, we will get the probability associated with the prediction.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:24+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We can predict which cases are anomalies using the <strong><em>predict</em></strong> function. If <strong><em>proba</em></strong> is set to True, we will get the probability associated with the prediction.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-143026680","id":"20200915-183830_603281710","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:25+0000","dateFinished":"2020-09-15T19:44:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:181"},{"text":"%python\n\nres = svm_mod.predict(IRIS, proba = True)\nprint(\"Type:\", type(res))\nres.head(4)\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:25+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Type: <class 'oml.core.frame.DataFrame'>\n   PREDICTION  PROBABILITY\n0           1     0.522646\n1           0     0.504524\n2           1     0.516936\n3           1     0.596944\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-325544459","id":"20200915-183830_1612220749","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:26+0000","dateFinished":"2020-09-15T19:44:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:182"},{"text":"%md\n\nLet's assess how many anomalies were identified. Here we see that roughly 5% are reported as indicated from our setting above.\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:26+0000","config":{"tableHide":false,"editorSetting":{"language":"md","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Let's assess how many anomalies were identified. Here we see that roughly 5% are reported as indicated from our setting above.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-61213099","id":"20200915-183830_58084215","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:27+0000","dateFinished":"2020-09-15T19:44:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:183"},{"text":"%python\n\nanomalies = res[res['PREDICTION'] == 0]\n\nprint(\"Type:\", type(anomalies))\nprint(\"IRIS Shape:\", IRIS.shape)\nprint(\"Anomalies Shape:\", anomalies.shape)\nanomalies.head(10)","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:27+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Type: <class 'oml.core.frame.DataFrame'>\nIRIS Shape: (150, 5)\nAnomalies Shape: (8, 2)\n   PREDICTION  PROBABILITY\n0           0     0.504524\n1           0     0.527500\n2           0     0.555111\n3           0     0.563158\n4           0     0.545434\n5           0     0.535123\n6           0     0.603485\n7           0     0.545612\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1379279450","id":"20200915-183830_1419445418","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:28+0000","dateFinished":"2020-09-15T19:44:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:184"},{"text":"%md\n## Obtain attribute importance for supervised models using machine learning explainability (MLX)\n\nMachine Learning Explainability (MLX) aids in explaining machine learning model behavior, by providing model-agnostic explanations for classification and regression algorithms. This treats the model as a black box instead of using properties from the model itself to guide the explanation. The technique used is called _Global Permutation Importance_ (GPI).","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"md","editOnDblClick":false},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Obtain attribute importance for supervised models using machine learning explainability (MLX)</h2>\n<p>Machine Learning Explainability (MLX) aids in explaining machine learning model behavior, by providing model-agnostic explanations for classification and regression algorithms. This treats the model as a black box instead of using properties from the model itself to guide the explanation. The technique used is called <em>Global Permutation Importance</em> (GPI).</p>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_1687475650","id":"20200915-183830_1563302718","dateCreated":"2020-06-15T14:15:21+0000","dateStarted":"2020-09-15T19:44:29+0000","dateFinished":"2020-09-15T19:44:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:185"},{"text":"%python\nimport oml\nfrom oml.mlx import GlobalFeatureImportance\n\nIRIS_model = oml.dt().fit(IRIS_train_x, IRIS_train_y)\nIRIS_exp = GlobalFeatureImportance(mining_function='classification',score_metric='f1_weighted',random_state=42, parallel=4)\nIRIS_res = IRIS_exp.explain(IRIS_model, IRIS_train_x, IRIS_train_y, n_iter=8)\nIRIS_res","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/undefined"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Global Feature Importance: \n\t[0] PETAL_LENGTH: Value: 0.4406, Error: 0.0600\n\t[1] PETAL_WIDTH: Value: 0.3151, Error: 0.0334\n\t[2] SEPAL_LENGTH: Value: 0.0000, Error: 0.0000\n\t[3] SEPAL_WIDTH: Value: 0.0000, Error: 0.0000\n\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_848705993","id":"20200915-183830_2035856183","dateCreated":"2020-06-15T14:13:19+0000","dateStarted":"2020-09-15T19:44:30+0000","dateFinished":"2020-09-15T19:44:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:186"},{"text":"%md\n\n# End of Script\n","user":"OMLUSER","dateUpdated":"2020-09-15T19:44:36+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>End of Script</h1>\n"}]},"interrupted":false,"jobName":"paragraph_1600195110602_-1356864837","id":"20200915-183830_1212445336","dateCreated":"2020-02-19T23:51:59+0000","dateStarted":"2020-09-15T19:44:37+0000","dateFinished":"2020-09-15T19:44:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":true,"$$hashKey":"object:187"}],"name":"OML4Py -1- Introduction","id":"468031","noteParams":{},"noteForms":{},"angularObjects":{"ORACE04E7522F:shared_process":[],"ORAE3F06D360C:shared_process":[],"ORA9B775F4A09:shared_process":[],"MDW381939C745:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}