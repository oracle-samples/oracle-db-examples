{
  "paragraphs": [
    {
      "text": "%md\n\n## OML4Py Feature Selection: Supervised Algorithm\n\nIn this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms via OML4Py.\n\nWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\n\nWe build a random forest model to predict whether the customer by insurance or not, then use feature importance to perform feature selection. \n\nThe dataset `CUSTOMER_INSURANCE_LTV` is generated by the `\"OML Run-me-first\"` notebook, which `MUST` be run before this notebook.\n\n---\n\n##### `IMPORTANT`: The `\"OML Run-me-first\"` notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\n\n---\n\n\nCopyright (c) 2022 Oracle Corporation \n###### \u003ca href\u003d\"https://oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\n---\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:38+0000",
      "progress": 0,
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eOML4Py Feature Selection: Supervised Algorithm\u003c/h2\u003e\n\u003cp\u003eIn this notebook, we demonstrate how to perform feature selection using in-database supervised algorithms via OML4Py.\u003c/p\u003e\n\u003cp\u003eWe use the customer insurance lifetime value data set which contains customer financial information, lifetime value, and whether or not the customer bought insurance.\u003c/p\u003e\n\u003cp\u003eWe build a random forest model to predict whether the customer by insurance or not, then use feature importance to perform feature selection.\u003c/p\u003e\n\u003cp\u003eThe dataset \u003ccode\u003eCUSTOMER_INSURANCE_LTV\u003c/code\u003e is generated by the \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook, which \u003ccode\u003eMUST\u003c/code\u003e be run before this notebook.\u003c/p\u003e\n\u003chr /\u003e\n\u003ch5\u003e\u003ccode\u003eIMPORTANT\u003c/code\u003e: The \u003ccode\u003e\"OML Run-me-first\"\u003c/code\u003e notebook is available under the menu Templates -\u003e Examples and is a pre-requisite to the current notebook.\u003c/h5\u003e\n\u003chr /\u003e\n\u003cp\u003eCopyright (c) 2022 Oracle Corporation\u003c/p\u003e\n\u003ch6\u003e\u003ca href\u003d\"https: //oss.oracle.com/licenses/upl/\" onclick\u003d\"return ! window.open(\u0027https://oss.oracle.com/licenses/upl/\u0027);\"\u003eThe Universal Permissive License (UPL), Version 1.0\u003c/a\u003e\u003c/h6\u003e\n\u003chr /\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-1148442765",
      "id": "20220124-201421_913240605",
      "dateCreated": "2020-12-16T17:59:45+0000",
      "dateStarted": "2022-03-10T17:12:39+0000",
      "dateFinished": "2022-03-10T17:12:40+0000",
      "status": "FINISHED"
    },
    {
      "title": "For more information ...",
      "text": "%md \n\nOracle ADW Documentation \u003ca href\u003d\"https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\nOML folder on Oracle Github : \u003ca href\u003d\"https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\u0027);\"\u003ehttps://github.com/oracle/oracle-db-examples/tree/master/machine-learning\u003c/a\u003e\nOML web page: \u003ca href\u003d\"https://www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\nOML Classification: \u003ca href\u003d\"https://www.oracle.com/goto/ml-classification\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-classification\u0027);\"\u003ehttps://www.oracle.com/goto/ml-classification\u003c/a\u003e\nOML Random Forest: \u003ca href\u003d\"https://oracle.com/goto/ml-random-forest\" onclick\u003d\"return ! window.open(\u0027https://oracle.com/goto/ml-random-forest\u0027);\"\u003ehttps://oracle.com/goto/ml-random-forest\u003c/a\u003e\nOML4Py Documentation for Random Forest \u003ca href\u003d\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\u0027);\"\u003ehttps://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\u003c/a\u003e",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:40+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cp\u003eOracle ADW Documentation \u003ca href\u003d\"https: //docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u0027);\"\u003ehttps://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/index.html\u003c/a\u003e\n\u003cbr  /\u003eOML folder on Oracle Github : \u003ca href\u003d\"https: //github.com/oracle/oracle-db-examples/tree/master/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://github.com/oracle/oracle-db-examples/tree/master/machine-learning\u0027);\"\u003ehttps://github.com/oracle/oracle-db-examples/tree/master/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML web page: \u003ca href\u003d\"https: //www.oracle.com/machine-learning\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/machine-learning\u0027);\"\u003ehttps://www.oracle.com/machine-learning\u003c/a\u003e\n\u003cbr  /\u003eOML Classification: \u003ca href\u003d\"https: //www.oracle.com/goto/ml-classification\" onclick\u003d\"return ! window.open(\u0027https://www.oracle.com/goto/ml-classification\u0027);\"\u003ehttps://www.oracle.com/goto/ml-classification\u003c/a\u003e\n\u003cbr  /\u003eOML Random Forest: \u003ca href\u003d\"https: //oracle.com/goto/ml-random-forest\" onclick\u003d\"return ! window.open(\u0027https://oracle.com/goto/ml-random-forest\u0027);\"\u003ehttps://oracle.com/goto/ml-random-forest\u003c/a\u003e\n\u003cbr  /\u003eOML4Py Documentation for Random Forest \u003ca href\u003d\"https: //docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\" onclick\u003d\"return ! window.open(\u0027https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\u0027);\"\u003ehttps://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/random-forest.html\u003c/a\u003e\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_1508897161",
      "id": "20220124-201421_1149043302",
      "dateCreated": "2020-12-17T18:46:11+0000",
      "dateStarted": "2022-03-10T17:12:41+0000",
      "dateFinished": "2022-03-10T17:12:41+0000",
      "status": "FINISHED"
    },
    {
      "title": "Import libraries and set display options",
      "text": "%python\n\nimport warnings\nwarnings.filterwarnings(\u0027ignore\u0027)\n\nimport pandas as pd\nimport oml\nfrom oml import automl\n\npd.set_option(\u0027display.max_rows\u0027, 500)\npd.set_option(\u0027display.max_columns\u0027, 500)\npd.set_option(\u0027display.width\u0027, 1000)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:41+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_590146276",
      "id": "20220124-201421_1262731167",
      "dateCreated": "2020-11-21T23:48:04+0000",
      "dateStarted": "2022-03-10T17:12:42+0000",
      "dateFinished": "2022-03-10T17:12:51+0000",
      "status": "FINISHED"
    },
    {
      "title": "Display a few rows from CUSTOMER_INSURANCE_LTV table",
      "text": "%python\n\nCUST_INSUR_LTV_DF \u003d oml.sync(table \u003d\u0027CUSTOMER_INSURANCE_LTV\u0027)\nz.show(CUST_INSUR_LTV_DF.head(10))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:51+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "MARITAL_STATUS": "string",
                      "STATE": "string",
                      "CREDIT_BALANCE": "string",
                      "CUSTOMER_TENURE": "string",
                      "MORTGAGE_AMOUNT": "string",
                      "BANK_FUNDS": "string",
                      "NUM_DEPENDENTS": "string",
                      "HAS_CHILDREN": "string",
                      "INCOME": "string",
                      "CUSTOMER_ID": "string",
                      "GENDER": "string",
                      "PROFESSION": "string",
                      "CREDIT_CARD_LIMITS": "string",
                      "REGION": "string",
                      "HOME_OWNERSHIP": "string",
                      "NUM_ONLINE_TRANS": "string",
                      "BUY_INSURANCE": "string",
                      "MONTHLY_CHECKS": "string",
                      "NUM_TRANS_KIOSK": "string",
                      "AGE": "string",
                      "MONEY_MONTLY_OVERDRAWN": "string",
                      "LTV": "string",
                      "TOTAL_AUTOM_PAYMENTS": "string",
                      "NUM_TRANS_TELLER": "string",
                      "CHECKING_BALANCE": "string",
                      "NUM_TRANS_ATM": "string",
                      "LTV_BIN": "string",
                      "FIRST_NAME": "string",
                      "NUM_MORTGAGES": "string",
                      "CAR_OWNERSHIP": "string",
                      "LAST_NAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "MARITAL_STATUS\tSTATE\tCREDIT_BALANCE\tCUSTOMER_TENURE\tMORTGAGE_AMOUNT\tBANK_FUNDS\tNUM_DEPENDENTS\tHAS_CHILDREN\tINCOME\tCUSTOMER_ID\tGENDER\tPROFESSION\tCREDIT_CARD_LIMITS\tREGION\tHOME_OWNERSHIP\tNUM_ONLINE_TRANS\tBUY_INSURANCE\tMONTHLY_CHECKS\tNUM_TRANS_KIOSK\tAGE\tMONEY_MONTLY_OVERDRAWN\tLTV\tTOTAL_AUTOM_PAYMENTS\tNUM_TRANS_TELLER\tCHECKING_BALANCE\tNUM_TRANS_ATM\tLTV_BIN\tFIRST_NAME\tNUM_MORTGAGES\tCAR_OWNERSHIP\tLAST_NAME\nSINGLE\tCA                        \t0\t3\t0\t0\t3\t0\t65871\tCU15154                   \tM                         \tNurse\t1000\tWest\t0\t0\tNo\t0\t1\t24\t53.06\t14367.75\t0\t0\t25\t0\tMEDIUM\tGAYLE\t0\t0\tDURANT\nSINGLE\tNY                        \t0\t4\t0\t290\t4\t0\t68747\tCU15155                   \tM                         \tProgrammer/Developer\t700\tNorthEast\t0\t0\tYes\t1\t1\t35\t53.84\t14686.75\t287\t2\t25\t4\tMEDIUM\tQUINTON\t0\t1\tMASSEY\nMARRIED\tMI                        \t0\t3\t1000\t550\t3\t0\t68684\tCU15157                   \tM                         \tProgrammer/Developer\t1000\tMidwest\t1\t1000\tYes\t14\t1\t26\t53.48\t25271.0\t132\t2\t25\t4\tHIGH\tANIBAL\t1\t1\tJIMENEZ\nMARRIED\tUT                        \t0\t5\t1200\t1000\t5\t0\t59354\tCU15286                   \tF                         \tFireman\t2500\tSouthwest\t1\t1200\tNo\t4\t5\t24\t53.08\t19738.5\t628\t3\t619\t1\tMEDIUM\tJUNITA\t1\t1\tROBERTSON\nMARRIED\tUT                        \t0\t4\t1800\t0\t3\t0\t84801\tCU15287                   \tF                         \tPROF-26\t2500\tSouthwest\t1\t1800\tNo\t0\t5\t47\t53.06\t31900.25\t0\t0\t25\t0\tVERY HIGH\tCHASITY\t1\t1\tELLIS\nMARRIED\tUT                        \t0\t1\t1400\t0\t1\t0\t73987\tCU15289                   \tM                         \tProfessor\t2500\tSouthwest\t1\t1400\tNo\t0\t5\t46\t53.06\t31596.75\t0\t0\t25\t0\tVERY HIGH\tFRANKLIN\t1\t1\tKNOX\nSINGLE\tUT                        \t0\t3\t578\t0\t3\t0\t51452\tCU15290                   \tM                         \tSales Representative\t2500\tSouthwest\t1\t578\tNo\t0\t5\t33\t53.06\t21663.0\t0\t0\t25\t0\tMEDIUM\tLINCOLN\t1\t1\tMATTSON\nSINGLE\tUT                        \t0\t3\t0\t0\t3\t0\t63181\tCU15291                   \tM                         \tConstruction Laborer\t2500\tSouthwest\t0\t0\tNo\t1\t5\t49\t53.07\t16195.25\t0\t0\t25\t1\tMEDIUM\tSTEPHEN\t0\t0\tCARROLL\nSINGLE\tUT                        \t0\t5\t117\t0\t5\t0\t66654\tCU15292                   \tF                         \tPROF-3\t2500\tSouthwest\t1\t117\tNo\t0\t5\t21\t53.06\t21263.5\t0\t0\t25\t0\tMEDIUM\tCEOLA\t1\t1\tHARRISON\nSINGLE\tUT                        \t0\t3\t0\t250\t3\t0\t61716\tCU15294                   \tM                         \tProgrammer/Developer\t1500\tSouthwest\t0\t0\tNo\t3\t5\t26\t53.04\t13529.0\t0\t2\t25\t2\tLOW\tLLOYD\t0\t0\tHOLLEY\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-381682703",
      "id": "20220124-201421_777769276",
      "dateCreated": "2020-11-22T00:28:23+0000",
      "dateStarted": "2022-03-10T17:12:52+0000",
      "dateFinished": "2022-03-10T17:12:52+0000",
      "status": "FINISHED"
    },
    {
      "title": "Create Train and Test (60/40 split) datasets",
      "text": "%python\n\nTRAIN, TEST \u003d CUST_INSUR_LTV_DF.split(ratio \u003d (0.6,0.4))\nTRAIN_X     \u003d TRAIN.drop(\u0027BUY_INSURANCE\u0027)\nTRAIN_Y     \u003d TRAIN[\u0027BUY_INSURANCE\u0027]\nTEST_X      \u003d TEST\nTEST_Y      \u003d TEST[\u0027BUY_INSURANCE\u0027]",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:52+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-1540391607",
      "id": "20220124-201421_1877225712",
      "dateCreated": "2020-11-22T00:28:33+0000",
      "dateStarted": "2022-03-10T17:12:53+0000",
      "dateFinished": "2022-03-10T17:12:54+0000",
      "status": "FINISHED"
    },
    {
      "title": "Apply Attribute Importance algorithm to obtain the attribute importance",
      "text": "%python\r\n\r\nsetting \u003d {\u0027ODMS_SAMPLING\u0027:\u0027ODMS_SAMPLING_DISABLE\u0027}\r\nai_mod \u003d oml.ai(**setting)\r\nai_mod \u003d ai_mod.fit(TRAIN_X, TRAIN_Y, case_id \u003d \u0027CUSTOMER_ID\u0027)\r\nz.show(ai_mod.importance.round(4))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:54+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "variable": "string",
                      "importance": "string",
                      "rank": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "variable\timportance\trank\nBANK_FUNDS\t0.2086\t1\nMONEY_MONTLY_OVERDRAWN\t0.1498\t2\nNUM_TRANS_ATM\t0.1473\t3\nNUM_TRANS_TELLER\t0.1154\t4\nTOTAL_AUTOM_PAYMENTS\t0.1072\t5\nMONTHLY_CHECKS\t0.0879\t6\nNUM_DEPENDENTS\t0.0301\t7\nCHECKING_BALANCE\t0.0268\t8\nCUSTOMER_TENURE\t0.024\t9\nPROFESSION\t0.015\t10\nNUM_ONLINE_TRANS\t0.0121\t11\nMORTGAGE_AMOUNT\t0.0111\t12\nGENDER\t0.011\t13\nMARITAL_STATUS\t0.0093\t14\nCREDIT_BALANCE\t0.0088\t15\nNUM_MORTGAGES\t0.0078\t16\nHOME_OWNERSHIP\t0.0078\t17\nAGE\t0.0072\t18\nNUM_TRANS_KIOSK\t0.007\t19\nCAR_OWNERSHIP\t0.0067\t20\nHAS_CHILDREN\t0.0064\t21\nLTV\t0.0061\t22\nCREDIT_CARD_LIMITS\t0.0034\t23\nLAST_NAME\t0.0\t24\nLTV_BIN\t0.0\t24\nINCOME\t0.0\t24\nFIRST_NAME\t0.0\t24\nSTATE\t0.0\t24\nREGION\t0.0\t24\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_1359343499",
      "id": "20220124-201421_1126588760",
      "dateCreated": "2020-12-22T14:23:38+0000",
      "dateStarted": "2022-03-10T17:12:54+0000",
      "dateFinished": "2022-03-10T17:12:56+0000",
      "status": "FINISHED"
    },
    {
      "title": "Plot the top 10 most important attributes",
      "text": "%python\n\nz.show(ai_mod.importance.head(10).round(4))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:56+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "variable": "string",
                      "importance": "string",
                      "rank": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "variable",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "importance",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "variable\timportance\trank\nBANK_FUNDS\t0.2086\t1\nMONEY_MONTLY_OVERDRAWN\t0.1498\t2\nNUM_TRANS_ATM\t0.1473\t3\nNUM_TRANS_TELLER\t0.1154\t4\nTOTAL_AUTOM_PAYMENTS\t0.1072\t5\nMONTHLY_CHECKS\t0.0879\t6\nNUM_DEPENDENTS\t0.0301\t7\nCHECKING_BALANCE\t0.0268\t8\nCUSTOMER_TENURE\t0.024\t9\nPROFESSION\t0.015\t10\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-1602018442",
      "id": "20220124-201421_357532132",
      "dateCreated": "2020-12-22T14:25:26+0000",
      "dateStarted": "2022-03-10T17:12:56+0000",
      "dateFinished": "2022-03-10T17:12:57+0000",
      "status": "FINISHED"
    },
    {
      "title": "Build a Random Forest Model to predict who will purchase insurance",
      "text": "%python\n\nsettings \u003d dict()\nrf_mod \u003d oml.rf(**settings)\nrf_mod.fit(TRAIN_X, TRAIN_Y, case_id \u003d \u0027CUSTOMER_ID\u0027)",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:12:57+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\nAlgorithm Name: Random Forest\n\nMining Function: CLASSIFICATION\n\nTarget: BUY_INSURANCE\n\nSettings: \n                    setting name            setting value\n0                      ALGO_NAME       ALGO_RANDOM_FOREST\n1              CLAS_MAX_SUP_BINS                       32\n2          CLAS_WEIGHTS_BALANCED                      OFF\n3                   ODMS_DETAILS              ODMS_ENABLE\n4   ODMS_MISSING_VALUE_TREATMENT  ODMS_MISSING_VALUE_AUTO\n5               ODMS_RANDOM_SEED                        0\n6                  ODMS_SAMPLING    ODMS_SAMPLING_DISABLE\n7                      PREP_AUTO                       ON\n8                 RFOR_NUM_TREES                       20\n9            RFOR_SAMPLING_RATIO                       .5\n10          TREE_IMPURITY_METRIC       TREE_IMPURITY_GINI\n11           TREE_TERM_MAX_DEPTH                       16\n12         TREE_TERM_MINPCT_NODE                      .05\n13        TREE_TERM_MINPCT_SPLIT                       .1\n14         TREE_TERM_MINREC_NODE                       10\n15        TREE_TERM_MINREC_SPLIT                       20\n\nComputed Settings: \n  setting name setting value\n0    RFOR_MTRY            14\n\nGlobal Statistics: \n  attribute name  attribute value\n0      AVG_DEPTH            15.85\n1  AVG_NODECOUNT           355.10\n2      MAX_DEPTH            16.00\n3  MAX_NODECOUNT           375.00\n4      MIN_DEPTH            16.00\n5  MIN_NODECOUNT           331.00\n6       NUM_ROWS          8233.00\n\nAttributes: \nAGE\nBANK_FUNDS\nCAR_OWNERSHIP\nCHECKING_BALANCE\nCREDIT_BALANCE\nCREDIT_CARD_LIMITS\nCUSTOMER_TENURE\nGENDER\nHAS_CHILDREN\nHOME_OWNERSHIP\nINCOME\nLTV\nMARITAL_STATUS\nMONEY_MONTLY_OVERDRAWN\nMONTHLY_CHECKS\nMORTGAGE_AMOUNT\nNUM_DEPENDENTS\nNUM_MORTGAGES\nNUM_ONLINE_TRANS\nNUM_TRANS_ATM\nNUM_TRANS_KIOSK\nNUM_TRANS_TELLER\nPROFESSION\nTOTAL_AUTOM_PAYMENTS\n\nPartition: NO\n\nImportance: \n\n            ATTRIBUTE_NAME ATTRIBUTE_SUBNAME  ATTRIBUTE_IMPORTANCE\n0                      AGE              None              0.290137\n1               BANK_FUNDS              None              1.181696\n2            CAR_OWNERSHIP              None              0.004010\n3         CHECKING_BALANCE              None              0.805717\n4           CREDIT_BALANCE              None              0.297548\n5       CREDIT_CARD_LIMITS              None              0.235504\n6          CUSTOMER_TENURE              None              0.122713\n7               FIRST_NAME              None              0.000000\n8                   GENDER              None              0.229346\n9             HAS_CHILDREN              None              0.065185\n10          HOME_OWNERSHIP              None              0.019699\n11                  INCOME              None              0.174568\n12               LAST_NAME              None              0.000000\n13                     LTV              None              0.139544\n14                 LTV_BIN              None              0.000000\n15          MARITAL_STATUS              None              0.038575\n16  MONEY_MONTLY_OVERDRAWN              None              1.092332\n17          MONTHLY_CHECKS              None              0.384617\n18         MORTGAGE_AMOUNT              None              0.226217\n19          NUM_DEPENDENTS              None              0.085717\n20           NUM_MORTGAGES              None              0.011806\n21        NUM_ONLINE_TRANS              None              0.260157\n22           NUM_TRANS_ATM              None              0.522327\n23         NUM_TRANS_KIOSK              None              0.233655\n24        NUM_TRANS_TELLER              None              0.318589\n25              PROFESSION              None              0.109945\n26                  REGION              None              0.000000\n27                   STATE              None              0.000000\n28    TOTAL_AUTOM_PAYMENTS              None              0.865898\n\n\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-710389672",
      "id": "20220124-201421_1701666880",
      "dateCreated": "2020-11-22T00:29:04+0000",
      "dateStarted": "2022-03-10T17:12:57+0000",
      "dateFinished": "2022-03-10T17:13:01+0000",
      "status": "FINISHED"
    },
    {
      "title": "Check the attribute importance from the trained random forest model",
      "text": "%python\n\nz.show(rf_mod.importance.sort_values(\u0027ATTRIBUTE_IMPORTANCE\u0027, ascending \u003d False).round(4))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:01+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_SUBNAME": "string",
                      "ATTRIBUTE_IMPORTANCE": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_SUBNAME\tATTRIBUTE_IMPORTANCE\nBANK_FUNDS\tNone\t1.1817\nMONEY_MONTLY_OVERDRAWN\tNone\t1.0923\nTOTAL_AUTOM_PAYMENTS\tNone\t0.8659\nCHECKING_BALANCE\tNone\t0.8057\nNUM_TRANS_ATM\tNone\t0.5223\nMONTHLY_CHECKS\tNone\t0.3846\nNUM_TRANS_TELLER\tNone\t0.3186\nCREDIT_BALANCE\tNone\t0.2975\nAGE\tNone\t0.2901\nNUM_ONLINE_TRANS\tNone\t0.2602\nCREDIT_CARD_LIMITS\tNone\t0.2355\nNUM_TRANS_KIOSK\tNone\t0.2337\nGENDER\tNone\t0.2293\nMORTGAGE_AMOUNT\tNone\t0.2262\nINCOME\tNone\t0.1746\nLTV\tNone\t0.1395\nCUSTOMER_TENURE\tNone\t0.1227\nPROFESSION\tNone\t0.1099\nNUM_DEPENDENTS\tNone\t0.0857\nHAS_CHILDREN\tNone\t0.0652\nMARITAL_STATUS\tNone\t0.0386\nHOME_OWNERSHIP\tNone\t0.0197\nNUM_MORTGAGES\tNone\t0.0118\nCAR_OWNERSHIP\tNone\t0.004\nFIRST_NAME\tNone\t0.0\nLAST_NAME\tNone\t0.0\nLTV_BIN\tNone\t0.0\nREGION\tNone\t0.0\nSTATE\tNone\t0.0\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-1632322314",
      "id": "20220124-201421_725659565",
      "dateCreated": "2020-11-22T00:29:12+0000",
      "dateStarted": "2022-03-10T17:13:01+0000",
      "dateFinished": "2022-03-10T17:13:01+0000",
      "status": "FINISHED"
    },
    {
      "title": "Plot the top 10 most important features",
      "text": "%python\n\nz.show(rf_mod.importance.sort_values(\u0027ATTRIBUTE_IMPORTANCE\u0027, ascending \u003d False).head(10))",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:02+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/undefined",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "ATTRIBUTE_NAME": "string",
                      "ATTRIBUTE_SUBNAME": "string",
                      "ATTRIBUTE_IMPORTANCE": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "rotate",
                  "stacked": true
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "ATTRIBUTE_NAME",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "ATTRIBUTE_IMPORTANCE",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ATTRIBUTE_NAME\tATTRIBUTE_SUBNAME\tATTRIBUTE_IMPORTANCE\nBANK_FUNDS\tNone\t1.1816955901516581\nMONEY_MONTLY_OVERDRAWN\tNone\t1.0923321764238307\nTOTAL_AUTOM_PAYMENTS\tNone\t0.865897650811784\nCHECKING_BALANCE\tNone\t0.8057170082083388\nNUM_TRANS_ATM\tNone\t0.5223273641672634\nMONTHLY_CHECKS\tNone\t0.3846169634809056\nNUM_TRANS_TELLER\tNone\t0.3185893311448037\nCREDIT_BALANCE\tNone\t0.2975480094919068\nAGE\tNone\t0.2901374007405658\nNUM_ONLINE_TRANS\tNone\t0.26015724360113185\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_1306550805",
      "id": "20220124-201421_1536964412",
      "dateCreated": "2020-11-22T00:29:23+0000",
      "dateStarted": "2022-03-10T17:13:02+0000",
      "dateFinished": "2022-03-10T17:13:02+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n\n# End of Script\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:02+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false,
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch1\u003eEnd of Script\u003c/h1\u003e\n"
          }
        ]
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_-1346152337",
      "id": "20220124-201421_850779402",
      "dateCreated": "2020-11-22T00:33:40+0000",
      "dateStarted": "2022-03-10T17:13:03+0000",
      "dateFinished": "2022-03-10T17:13:03+0000",
      "status": "FINISHED"
    },
    {
      "text": "%md\n",
      "user": "OMLUSER",
      "dateUpdated": "2022-03-10T17:13:03+0000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "md",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "interrupted": false,
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1643055261675_1210151232",
      "id": "20220124-201421_1012192380",
      "dateCreated": "2020-12-16T18:02:54+0000",
      "dateStarted": "2022-03-10T17:13:04+0000",
      "dateFinished": "2022-03-10T17:13:04+0000",
      "status": "FINISHED"
    }
  ],
  "name": "OML4Py Feature Selection Algorithm-based",
  "id": "101026",
  "defaultInterpreterGroup": "spark",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "MDW381939C745:shared_process": [],
    "ORA7A60DC9B32:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {
    "isRunning": false
  }
}